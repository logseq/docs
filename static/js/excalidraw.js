(function(){
shadow$provide[644]=function(Z,H,ta,t){var m=H(2);!function(v,l){"object"==typeof t&&"object"==typeof ta?ta.exports=l(H(11),H(20)):"function"==typeof define&&define.amd?define(["react","react-dom"],l):"object"==typeof t?t.Excalidraw=l(H(11),H(20)):v.Excalidraw=l(v.React,v.ReactDOM)}(self,function(v,l){return(()=>{function k(u){if(a[u])return a[u].exports;var n=a[u]={id:u,exports:{}};return q[u](n,n.exports,k),n.exports}var b,e,h,q={5374:u=>{function n(f,r,y,B,E,K,G){try{var C=f[K](G),D=C.value}catch(x){return void y(x)}C.done?
r(D):Promise.resolve(D).then(B,E)}u.exports=function(f){return function(){var r=this,y=arguments;return new Promise(function(B,E){function K(D){n(C,B,E,K,G,"next",D)}function G(D){n(C,B,E,K,G,"throw",D)}var C=f.apply(r,y);K(void 0)})}}},566:u=>{u.exports=function(n,f,r){return f in n?Object.defineProperty(n,f,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[f]=r,n}},6950:u=>{function n(){return u.exports=n=Object.assign||function(f){for(var r=1;r<arguments.length;r++){var y=arguments[r],B;for(B in y)Object.prototype.hasOwnProperty.call(y,
B)&&(f[B]=y[B])}return f},n.apply(this,arguments)}u.exports=n},5474:(u,n,f)=>{var r=f(8387);u.exports=function(y,B){if(null==y)return{};var E,K=r(y,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(y);for(E=0;E<G.length;E++){var C=G[E];0<=B.indexOf(C)||Object.prototype.propertyIsEnumerable.call(y,C)&&(K[C]=y[C])}}return K}},8387:u=>{u.exports=function(n,f){if(null==n)return{};var r,y={},B=Object.keys(n);for(r=0;r<B.length;r++){var E=B[r];0<=f.indexOf(E)||(y[E]=n[E])}return y}},
6009:(u,n,f)=>{n=f(487);f=f(8328);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},1395:(u,n,f)=>{n=f(487);f=f(6121);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},3211:(u,n,f)=>{n=f(487);f=f(2510);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},5574:(u,n,f)=>{n=f(487);f=f(7972);
"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},4518:(u,n,f)=>{n=f(487);f=f(190);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},3040:(u,n,f)=>{n=f(487);f=f(6718);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},8623:(u,n,f)=>{n=f(487);f=f(3623);"string"==typeof(f=f.__esModule?f.default:
f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},4193:(u,n,f)=>{n=f(487);f=f(103);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},341:(u,n,f)=>{n=f(487);f=f(7061);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},9705:(u,n,f)=>{n=f(487);f=f(1498);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",
singleton:!1});u.exports=f.locals||{}},7143:(u,n,f)=>{n=f(487);f=f(666);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},7428:(u,n,f)=>{n=f(487);f=f(849);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},8465:(u,n,f)=>{n=f(487);f=f(6915);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||
{}},8680:(u,n,f)=>{n=f(487);f=f(7030);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},205:(u,n,f)=>{n=f(487);f=f(3994);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},8416:(u,n,f)=>{n=f(487);f=f(700);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},2816:(u,n,f)=>{n=f(487);f=f(287);
"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},1575:(u,n,f)=>{n=f(487);f=f(5657);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},7287:(u,n,f)=>{n=f(487);f=f(7392);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},8518:(u,n,f)=>{n=f(487);f=f(6065);"string"==typeof(f=f.__esModule?f.default:
f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},5849:(u,n,f)=>{n=f(487);f=f(83);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},9478:(u,n,f)=>{n=f(487);f=f(1554);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},2680:(u,n,f)=>{n=f(487);f=f(1970);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",
singleton:!1});u.exports=f.locals||{}},3142:(u,n,f)=>{n=f(487);f=f(961);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},8234:(u,n,f)=>{n=f(487);f=f(4878);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},4651:(u,n,f)=>{n=f(487);f=f(1988);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||
{}},2189:(u,n,f)=>{n=f(487);f=f(3245);"string"==typeof(f=f.__esModule?f.default:f)&&(f=[[u.id,f,""]]);n(f,{insert:"head",singleton:!1});u.exports=f.locals||{}},487:(u,n,f)=>{function r(ia){for(var da=-1,O=0;O<x.length;O++)if(x[O].identifier===ia){da=O;break}return da}function y(ia,da){for(var O={},X=[],S=0;S<ia.length;S++){var V=ia[S],N=da.base?V[0]+da.base:V[0],P=O[N]||0,L="".concat(N," ").concat(P);O[N]=P+1;N=r(L);V={css:V[1],media:V[2],sourceMap:V[3]};-1!==N?(x[N].references++,x[N].updater(V)):
x.push({identifier:L,updater:G(V,da),references:1});X.push(L)}return X}function B(ia){var da=document.createElement("style"),O=ia.attributes||{};if(void 0===O.nonce){var X=f.nc;X&&(O.nonce=X)}if(Object.keys(O).forEach(function(S){da.setAttribute(S,O[S])}),"function"==typeof ia.insert)ia.insert(da);else{ia=D(ia.insert||"head");if(!ia)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ia.appendChild(da)}return da}function E(ia,da,O,
X){O=O?"":X.media?"@media ".concat(X.media," {").concat(X.css,"}"):X.css;ia.styleSheet?ia.styleSheet.cssText=aa(da,O):(O=document.createTextNode(O),X=ia.childNodes,X[da]&&ia.removeChild(X[da]),X.length?ia.insertBefore(O,X[da]):ia.appendChild(O))}function K(ia,da,O){da=O.css;var X=O.media;O=O.sourceMap;if(X?ia.setAttribute("media",X):ia.removeAttribute("media"),O&&"undefined"!=typeof btoa&&(da+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(O)))),
" */")),ia.styleSheet)ia.styleSheet.cssText=da;else{for(;ia.firstChild;)ia.removeChild(ia.firstChild);ia.appendChild(document.createTextNode(da))}}function G(ia,da){if(da.singleton){var O=ka++;var X=T||(T=B(da));var S=E.bind(null,X,O,!1);var V=E.bind(null,X,O,!0)}else X=B(da),S=K.bind(null,X,da),V=function(){if(null===X.parentNode)var N=!1;else X.parentNode.removeChild(X),N=void 0;!N};return S(ia),function(N){N?(N.css!==ia.css||N.media!==ia.media||N.sourceMap!==ia.sourceMap)&&S(ia=N):V()}}var C,D=
function(){var ia={};return function(da){if(void 0===ia[da]){var O=document.querySelector(da);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch(X){O=null}ia[da]=O}return ia[da]}}(),x=[],R,aa=(R=[],function(ia,da){return R[ia]=da,R.filter(Boolean).join("\n")}),T=null,ka=0;u.exports=function(ia,da){(da=da||{}).singleton||"boolean"==typeof da.singleton||(da.singleton=(void 0===C&&(C=!(!(window&&document&&document.all)||window.atob)),C));var O=y(ia=
ia||[],da);return function(X){if(X=X||[],"[object Array]"===Object.prototype.toString.call(X)){for(var S=0;S<O.length;S++){var V=r(O[S]);x[V].references--}X=y(X,da);for(S=0;S<O.length;S++)V=r(O[S]),0===x[V].references&&(x[V].updater(),x.splice(V,1));O=X}}}},2829:u=>{u.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:u=>{u.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(u,n,f)=>{function r(B){if(!f.o(y,B))return Promise.resolve().then(()=>
{var G=Error("Cannot find module '"+B+"'");throw G.code="MODULE_NOT_FOUND",G;});var E=y[B],K=E[0];return Promise.all(E.slice(1).map(f.e)).then(()=>f.t(K,3))}var y={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};r.keys=()=>Object.keys(y);r.id=788;u.exports=r},7154:u=>{function n(){return u.exports=n=Object.assign||function(f){for(var r=1;r<arguments.length;r++){var y=arguments[r],B;for(B in y)Object.prototype.hasOwnProperty.call(y,B)&&(f[B]=y[B])}return f},n.apply(this,arguments)}u.exports=n},6479:(u,n,f)=>{var r=f(7316);u.exports=function(y,B){if(null==y)return{};var E,K=r(y,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(y);
for(E=0;E<G.length;E++){var C=G[E];0<=B.indexOf(C)||Object.prototype.propertyIsEnumerable.call(y,C)&&(K[C]=y[C])}}return K}},7316:u=>{u.exports=function(n,f){if(null==n)return{};var r,y={},B=Object.keys(n);for(r=0;r<B.length;r++){var E=B[r];0<=f.indexOf(E)||(y[E]=n[E])}return y}},8328:(u,n,f)=>{f.r(n);f.d(n,{default:()=>B});n=f(3645);var r=f.n(n);n=f(1667);n=f.n(n);var y=f(7464);f=f(9638);r=r()(function(E){return E[1]});y=n()(y.Z);f=n()(f.Z);r.push([u.id,'@font-face{font-family:"Virgil";src:url('+
y+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+f+");font-display:swap}",""]);const B=r},6121:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const r=f},2510:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const r=f},7972:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const r=f},190:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const r=f},6718:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const r=f},3623:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const r=f},103:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const r=f},7061:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);
f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const r=f},1498:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const r=f},666:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const r=f},849:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const r=f},6915:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});
n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const r=f},7030:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const r=f},3994:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const r=f},700:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const r=f},287:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const r=f},5657:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const r=f},7392:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const r=f},6065:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const r=f},83:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const r=f},1554:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const r=f},1970:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const r=f},961:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const r=f},4878:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const r=f},1988:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const r=f},3245:(u,n,f)=>{f.r(n);f.d(n,{default:()=>r});n=f(3645);f=f.n(n)()(function(y){return y[1]});f.push([u.id,"",""]);f.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const r=f},3645:u=>{u.exports=function(n){var f=[];return f.toString=function(){return this.map(function(r){var y=n(r);return r[2]?"@media ".concat(r[2]," {").concat(y,"}"):y}).join("")},f.i=function(r,y,B){"string"==typeof r&&(r=[[null,
r,""]]);var E={};if(B)for(var K=0;K<this.length;K++){var G=this[K][0];null!=G&&(E[G]=!0)}for(K=0;K<r.length;K++)G=[].concat(r[K]),B&&E[G[0]]||(y&&(G[2]?G[2]="".concat(y," and ").concat(G[2]):G[2]=y),f.push(G))},f}},1667:u=>{u.exports=function(n,f){return f||(f={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),f.hash&&(n+=f.hash),/["'() \t\n]/.test(n)||f.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},9638:(u,n,f)=>{f.d(n,{Z:()=>
r});const r=f.p+"excalidraw-assets/Cascadia.woff2"},7464:(u,n,f)=>{f.d(n,{Z:()=>r});const r=f.p+"excalidraw-assets/Virgil.woff2"},8288:(u,n,f)=>{f.d(n,{iC:()=>y,f:()=>B,qx:()=>E,Iw:()=>K,$e:()=>G,wZ:()=>C,ay:()=>D,oc:()=>x,Oh:()=>R,Ks:()=>r,Vi:()=>aa,$C:()=>T,ut:()=>ka,_D:()=>ia,n5:()=>da,rk:()=>O,Hg:()=>X,hs:()=>S,eQ:()=>V,k:()=>N,LO:()=>P,I:()=>L,Gj:()=>ba,nM:()=>sa,Lg:()=>W,HM:()=>na,V4:()=>ra,EH:()=>xa,Gi:()=>Ba});var r;u=f(2189);f=f.n(u);var y="Excalidraw",B=10,E=8,K=5,G=1,C=30,D=Math.PI/12,
x={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},R={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(va){va.COPY="copy";va.PASTE="paste";va.CUT="cut";va.KEYDOWN="keydown";va.KEYUP="keyup";va.MOUSE_MOVE="mousemove";va.RESIZE="resize";va.UNLOAD="unload";va.BLUR="blur";va.DRAG_OVER="dragover";va.DROP="drop";va.GESTURE_END="gestureend";va.BEFORE_UNLOAD="beforeunload";va.GESTURE_START="gesturestart";va.GESTURE_CHANGE="gesturechange";va.POINTER_MOVE="pointermove";
va.POINTER_UP="pointerup";va.STATE_CHANGE="statechange";va.WHEEL="wheel";va.TOUCH_START="touchstart";va.TOUCH_END="touchend";va.HASHCHANGE="hashchange";va.VISIBILITY_CHANGE="visibilitychange";va.SCROLL="scroll"}(r||(r={}));var aa={TEST:"test",DEVELOPMENT:"development"},T={SHAPE_ACTIONS_MENU:"App-menu__left"},ka={1:"Virgil",2:"Helvetica",3:"Cascadia"},ia="Segoe UI Emoji",da=20,O=1,X="left",S="top",V="{version}",N=20,P={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
L={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ba=300,sa=500,W=5E3,na=100,ra=.1,xa={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ba=f().appearanceFilter},3956:(u,n,f)=>{function r(g,z){return Math.pow(g[0]-z[0],2)+Math.pow(g[1]-z[1],2)}function y(g,z,A){return[g[0]+(z[0]-g[0])*A,g[1]+(z[1]-g[1])*A]}function B(g,z,A,M){M=M||[];var ca=g[z+0],ja=g[z+1],ya=g[z+2];const wa=g[z+3];var Da=3*ja[0]-2*ca[0]-wa[0];Da*=Da;ja=3*ja[1]-2*ca[1]-wa[1];ja*=ja;let Pa=3*ya[0]-2*wa[0]-ca[0];Pa*=Pa;ca=3*ya[1]-2*wa[1]-
ca[1];(ca*=ca,Da<Pa&&(Da=Pa),ja<ca&&(ja=ca),Da+ja)<A?(A=g[z+0],M.length?1<(Ka=M[M.length-1],lb=A,Math.sqrt(r(Ka,lb)))&&M.push(A):M.push(A),M.push(g[z+3])):(Ka=g[z+0],Da=g[z+1],lb=g[z+2],g=g[z+3],z=y(Ka,Da,.5),ca=y(Da,lb,.5),lb=y(lb,g,.5),Da=y(z,ca,.5),ca=y(ca,lb,.5),ya=y(Da,ca,.5),B([Ka,z,Da,ya],0,A,M),B([ya,ca,lb,g],0,A,M));var Ka,lb;return M}function E(g,z){return K(g,0,g.length,z)}function K(g,z,A,M,ca){ca=ca||[];const ja=g[z],ya=g[A-1];let wa=0,Da=1;for(let sb=z+1;sb<A-1;++sb){var Pa=g[sb];var Ka=
ja,lb=ya,rb=r(Ka,lb);0===rb?Pa=r(Pa,Ka):(rb=((Pa[0]-Ka[0])*(lb[0]-Ka[0])+(Pa[1]-Ka[1])*(lb[1]-Ka[1]))/rb,Pa=(rb=Math.max(0,Math.min(1,rb)),r(Pa,y(Ka,lb,rb))));Pa>wa&&(wa=Pa,Da=sb)}return Math.sqrt(wa)>M?(K(g,z,Da+1,M,ca),K(g,Da,A,M,ca)):(ca.length||ca.push(ja),ca.push(ya)),ca}function G(g,z=.15,A){const M=[],ca=(g.length-1)/3;for(let ja=0;ja<ca;ja++)B(g,3*ja,z,M);return A&&0<A?K(M,0,M.length,A):M}function C(g,z,A){if(g&&g.length){const [M,ca]=z;z=Math.PI/180*A;const ja=Math.cos(z),ya=Math.sin(z);
g.forEach(wa=>{const [Da,Pa]=wa;wa[0]=(Da-M)*ja-(Pa-ca)*ya+M;wa[1]=(Da-M)*ya+(Pa-ca)*ja+ca})}}function D(g){const z=g[0];g=g[1];return Math.sqrt(Math.pow(z[0]-g[0],2)+Math.pow(z[1]-g[1],2))}function x(g,z,A,M){const ca=z[1]-g[1];z=g[0]-z[0];g=ca*g[0]+z*g[1];const ja=M[1]-A[1];M=A[0]-M[0];A=ja*A[0]+M*A[1];const ya=ca*M-ja*z;return ya?[(M*g-z*A)/ya,(ca*A-ja*g)/ya]:null}function R(g,z,A){const M=g.length;if(3>M)return!1;const ca=[Number.MAX_SAFE_INTEGER,A];z=[z,A];A=0;for(let ja=0;ja<M;ja++){const ya=
g[ja],wa=g[(ja+1)%M];if(ka(ya,wa,z,ca)){if(0===T(ya,z,wa))return aa(ya,z,wa);A++}}return 1==A%2}function aa(g,z,A){return z[0]<=Math.max(g[0],A[0])&&z[0]>=Math.min(g[0],A[0])&&z[1]<=Math.max(g[1],A[1])&&z[1]>=Math.min(g[1],A[1])}function T(g,z,A){g=(z[1]-g[1])*(A[0]-z[0])-(z[0]-g[0])*(A[1]-z[1]);return 0===g?0:0<g?1:2}function ka(g,z,A,M){const ca=T(g,z,A),ja=T(g,z,M),ya=T(A,M,g),wa=T(A,M,z);return ca!==ja&&ya!==wa||!(0!==ca||!aa(g,A,z))||!(0!==ja||!aa(g,M,z))||!(0!==ya||!aa(A,g,M))||!(0!==wa||!aa(A,
z,M))}function ia(g,z){const A=[0,0],M=Math.round(z.hachureAngle+90);M&&C(g,A,M);z=function(ca,ja){var ya=[...ca];ya[0].join(",")!==ya[ya.length-1].join(",")&&ya.push([ya[0][0],ya[0][1]]);ca=[];if(ya&&2<ya.length){let Da=ja.hachureGap;0>Da&&(Da=4*ja.strokeWidth);Da=Math.max(Da,.1);ja=[];for(var wa=0;wa<ya.length-1;wa++){const lb=ya[wa],rb=ya[wa+1];if(lb[1]!==rb[1]){const sb=Math.min(lb[1],rb[1]);ja.push({ymin:sb,ymax:Math.max(lb[1],rb[1]),x:sb===lb[1]?lb[0]:rb[0],islope:(rb[0]-lb[0])/(rb[1]-lb[1])})}}if(ja.sort((lb,
rb)=>lb.ymin<rb.ymin?-1:lb.ymin>rb.ymin?1:lb.x<rb.x?-1:lb.x>rb.x?1:lb.ymax===rb.ymax?0:(lb.ymax-rb.ymax)/Math.abs(lb.ymax-rb.ymax)),!ja.length)return ca;let Pa=[],Ka=ja[0].ymin;for(;Pa.length||ja.length;){if(ja.length){ya=-1;for(wa=0;wa<ja.length&&!(ja[wa].ymin>Ka);wa++)ya=wa;ja.splice(0,ya+1).forEach(lb=>{Pa.push({s:Ka,edge:lb})})}if(Pa=Pa.filter(lb=>!(lb.edge.ymax<=Ka)),Pa.sort((lb,rb)=>lb.edge.x===rb.edge.x?0:(lb.edge.x-rb.edge.x)/Math.abs(lb.edge.x-rb.edge.x)),1<Pa.length)for(ya=0;ya<Pa.length;ya+=
2){wa=ya+1;if(wa>=Pa.length)break;ca.push([[Math.round(Pa[ya].edge.x),Ka],[Math.round(Pa[wa].edge.x),Ka]])}Ka+=Da;Pa.forEach(lb=>{lb.edge.x+=Da*lb.edge.islope})}}return ca}(g,z);return M&&(C(g,A,-M),function(ca,ja,ya){const wa=[];ca.forEach(Da=>wa.push(...Da));C(wa,ja,ya)}(z,A,-M)),z}function da(g){const z=[];a:{var A=g;for(var M=[];""!==A;){if(!A.match(/^([ \t\r\n,]+)/))if(A.match(/^([aAcChHlLmMqQsStTvVzZ])/))M[M.length]={type:0,text:RegExp.$1};else{if(!A.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){A=
[];break a}M[M.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}A=A.substr(RegExp.$1.length)}A=(M[M.length]={type:2,text:""},M)}M="BOD";let ca=0;for(var ja=A[ca];2!==ja.type;){let ya=0;const wa=[];if("BOD"===M){if("M"!==ja.text&&"m"!==ja.text)return da("M0,0"+g);ca++;ya=ch[ja.text];M=ja.text}else 1===ja.type?ya=ch[M]:(ca++,ya=ch[ja.text],M=ja.text);if(!(ca+ya<A.length))throw Error("Path data ended short");for(ja=ca;ja<ca+ya;ja++){const Da=A[ja];if(1!==Da.type)throw Error("Param not a number: "+M+
","+Da.text);wa[wa.length]=+Da.text}if("number"!=typeof ch[M])throw Error("Bad segment: "+M);z.push({key:M,data:wa});ca+=ya;ja=A[ca];"M"===M&&(M="L");"m"===M&&(M="l")}return z}function O(g){let z=0,A=0,M=0,ca=0;const ja=[];for(const {key:ya,data:wa}of g)switch(ya){case "M":ja.push({key:"M",data:[...wa]});[z,A]=wa;[M,ca]=wa;break;case "m":z+=wa[0];A+=wa[1];ja.push({key:"M",data:[z,A]});M=z;ca=A;break;case "L":ja.push({key:"L",data:[...wa]});[z,A]=wa;break;case "l":z+=wa[0];A+=wa[1];ja.push({key:"L",
data:[z,A]});break;case "C":ja.push({key:"C",data:[...wa]});z=wa[4];A=wa[5];break;case "c":g=wa.map((Da,Pa)=>Pa%2?Da+A:Da+z);ja.push({key:"C",data:g});z=g[4];A=g[5];break;case "Q":ja.push({key:"Q",data:[...wa]});z=wa[2];A=wa[3];break;case "q":g=wa.map((Da,Pa)=>Pa%2?Da+A:Da+z);ja.push({key:"Q",data:g});z=g[2];A=g[3];break;case "A":ja.push({key:"A",data:[...wa]});z=wa[5];A=wa[6];break;case "a":z+=wa[5];A+=wa[6];ja.push({key:"A",data:[wa[0],wa[1],wa[2],wa[3],wa[4],z,A]});break;case "H":ja.push({key:"H",
data:[...wa]});z=wa[0];break;case "h":z+=wa[0];ja.push({key:"H",data:[z]});break;case "V":ja.push({key:"V",data:[...wa]});A=wa[0];break;case "v":A+=wa[0];ja.push({key:"V",data:[A]});break;case "S":ja.push({key:"S",data:[...wa]});z=wa[2];A=wa[3];break;case "s":g=wa.map((Da,Pa)=>Pa%2?Da+A:Da+z);ja.push({key:"S",data:g});z=g[2];A=g[3];break;case "T":ja.push({key:"T",data:[...wa]});z=wa[0];A=wa[1];break;case "t":z+=wa[0];A+=wa[1];ja.push({key:"T",data:[z,A]});break;case "Z":case "z":ja.push({key:"Z",
data:[]}),z=M,A=ca}return ja}function X(g){const z=[];var A="";let M=0,ca=0,ja=0,ya=0,wa=0,Da=0;for(const {key:Ka,data:lb}of g){switch(Ka){case "M":z.push({key:"M",data:[...lb]});[M,ca]=lb;[ja,ya]=lb;break;case "C":z.push({key:"C",data:[...lb]});M=lb[4];ca=lb[5];wa=lb[2];Da=lb[3];break;case "L":z.push({key:"L",data:[...lb]});[M,ca]=lb;break;case "H":M=lb[0];z.push({key:"L",data:[M,ca]});break;case "V":ca=lb[0];z.push({key:"L",data:[M,ca]});break;case "S":var Pa=g=0;"C"===A||"S"===A?(g=M+(M-wa),Pa=
ca+(ca-Da)):(g=M,Pa=ca);z.push({key:"C",data:[g,Pa,...lb]});wa=lb[0];Da=lb[1];M=lb[2];ca=lb[3];break;case "T":const [rb,sb]=lb;Pa=g=0;"Q"===A||"T"===A?(g=M+(M-wa),Pa=ca+(ca-Da)):(g=M,Pa=ca);z.push({key:"C",data:[M+2*(g-M)/3,ca+2*(Pa-ca)/3,rb+2*(g-rb)/3,sb+2*(Pa-sb)/3,rb,sb]});wa=g;Da=Pa;M=rb;ca=sb;break;case "Q":const [dc,Yb,zc,ed]=lb;z.push({key:"C",data:[M+2*(dc-M)/3,ca+2*(Yb-ca)/3,zc+2*(dc-zc)/3,ed+2*(Yb-ed)/3,zc,ed]});wa=dc;Da=Yb;M=zc;ca=ed;break;case "A":A=Math.abs(lb[0]);g=Math.abs(lb[1]);Pa=
lb[2];const id=lb[3],vd=lb[4],le=lb[5],ke=lb[6];if(0===A||0===g)z.push({key:"C",data:[M,ca,le,ke,le,ke]}),M=le,ca=ke;else if(M!==le||ca!==ke)V(M,ca,le,ke,A,g,Pa,id,vd).forEach(function(Oe){z.push({key:"C",data:Oe})}),M=le,ca=ke;break;case "Z":z.push({key:"Z",data:[]}),M=ja,ca=ya}A=Ka}return z}function S(g,z,A){return[g*Math.cos(A)-z*Math.sin(A),g*Math.sin(A)+z*Math.cos(A)]}function V(g,z,A,M,ca,ja,ya,wa,Da,Pa){const Ka=(lb=ya,Math.PI*lb/180);var lb;lb=[];if(Pa)[wa,rb,sb,dc]=Pa;else{[g,z]=S(g,z,-Ka);
[A,M]=S(A,M,-Ka);var rb=(g-A)/2;var sb=(z-M)/2;var dc=rb*rb/(ca*ca)+sb*sb/(ja*ja);1<dc&&(dc=Math.sqrt(dc),ca*=dc,ja*=dc);dc=ca*ca;var Yb=ja*ja;wa=(wa===Da?-1:1)*Math.sqrt(Math.abs((dc*Yb-dc*sb*sb-Yb*rb*rb)/(dc*sb*sb+Yb*rb*rb)));sb=wa*ca*sb/ja+(g+A)/2;dc=wa*-ja*rb/ca+(z+M)/2;wa=Math.asin(parseFloat(((z-dc)/ja).toFixed(9)));rb=Math.asin(parseFloat(((M-dc)/ja).toFixed(9)));g<sb&&(wa=Math.PI-wa);A<sb&&(rb=Math.PI-rb);0>wa&&(wa=2*Math.PI+wa);0>rb&&(rb=2*Math.PI+rb);Da&&wa>rb&&(wa-=2*Math.PI);!Da&&rb>wa&&
(rb-=2*Math.PI)}if(Math.abs(rb-wa)>120*Math.PI/180){lb=rb;Yb=A;const zc=M;rb=Da&&rb>wa?wa+120*Math.PI/180:wa+120*Math.PI/180*-1;lb=V(A=sb+ca*Math.cos(rb),M=dc+ja*Math.sin(rb),Yb,zc,ca,ja,ya,0,Da,[rb,lb,sb,dc])}ya=Math.tan((rb-wa)/4);ca=4/3*ca*ya;ya*=4/3*ja;ja=[g,z];g=[g+ca*Math.sin(wa),z-ya*Math.cos(wa)];z=[A+ca*Math.sin(rb),M-ya*Math.cos(rb)];A=[A,M];if(g[0]=2*ja[0]-g[0],g[1]=2*ja[1]-g[1],Pa)return[g,z,A].concat(lb);lb=[g,z,A].concat(lb);Pa=[];for(A=0;A<lb.length;A+=3)M=S(lb[A][0],lb[A][1],Ka),g=
S(lb[A+1][0],lb[A+1][1],Ka),z=S(lb[A+2][0],lb[A+2][1],Ka),Pa.push([M[0],M[1],g[0],g[1],z[0],z[1]]);return Pa}function N(g,z,A){const M=(g||[]).length;if(2<M){const ca=[];for(let ja=0;ja<M-1;ja++)ca.push(...va(g[ja][0],g[ja][1],g[ja+1][0],g[ja+1][1],A));return z&&ca.push(...va(g[M-1][0],g[M-1][1],g[0][0],g[0][1],A)),{type:"path",ops:ca}}return 2===M?{type:"path",ops:va(g[0][0],g[0][1],g[1][0],g[1][1],A)}:{type:"path",ops:[]}}function P(g,z){let A=Va(g,1+.2*z.roughness,z);if(!z.disableMultiStroke){var M=
1.5*(1+.22*z.roughness);const ca=Object.assign({},z);ca.randomizer=void 0;z.seed&&(ca.seed=z.seed+1);g=Va(g,M,ca);A=A.concat(g)}return{type:"path",ops:A}}function L(g,z,A){const M=2*Math.PI/Math.max(A.curveStepCount,A.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(g/2,2)+Math.pow(z/2,2))/2)));g=Math.abs(g/2);z=Math.abs(z/2);const ca=1-A.curveFitting;return g+=Ba(g*ca,A),z+=Ba(z*ca,A),{increment:M,rx:g,ry:z}}function ba(g,z,A,M){const [ca,ja]=bb(M.increment,g,z,M.rx,M.ry,1,M.increment*
xa(.1,xa(.4,1,A),A),A);let ya=Ta(ca,null,A);A.disableMultiStroke||([g]=bb(M.increment,g,z,M.rx,M.ry,1.5,0,A),A=Ta(g,null,A),ya=ya.concat(A));return{estimatedPoints:ja,opset:{type:"path",ops:ya}}}function sa(g,z,A,M,ca,ja,ya,wa,Da){A=Math.abs(A/2);M=Math.abs(M/2);A+=Ba(.01*A,Da);for(M+=Ba(.01*M,Da);0>ca;)ca+=2*Math.PI,ja+=2*Math.PI;ja-ca>2*Math.PI&&(ca=0,ja=2*Math.PI);var Pa=Math.min(2*Math.PI/Da.curveStepCount/2,(ja-ca)/2);const Ka=Jb(Pa,g,z,A,M,ca,ja,1,Da);Da.disableMultiStroke||(Pa=Jb(Pa,g,z,A,
M,ca,ja,1.5,Da),Ka.push(...Pa));return ya&&(wa?Ka.push(...va(g,z,g+A*Math.cos(ca),z+M*Math.sin(ca),Da),...va(g,z,g+A*Math.cos(ja),z+M*Math.sin(ja),Da)):Ka.push({op:"lineTo",data:[g,z]},{op:"lineTo",data:[g+A*Math.cos(ca),z+M*Math.sin(ca)]})),{type:"path",ops:Ka}}function W(g,z){const A=[];if(g.length){const M=z.maxRandomnessOffset||0,ca=g.length;if(2<ca){A.push({op:"move",data:[g[0][0]+Ba(M,z),g[0][1]+Ba(M,z)]});for(let ja=1;ja<ca;ja++)A.push({op:"lineTo",data:[g[ja][0]+Ba(M,z),g[ja][1]+Ba(M,z)]})}}return{type:"fillPath",
ops:A}}function na(g,z){var A=Gd;let M=z.fillStyle||"hachure";if(!Bf[M])switch(M){case "zigzag":Bf[M]||(Bf[M]=new ee(A));break;case "cross-hatch":Bf[M]||(Bf[M]=new nf(A));break;case "dots":Bf[M]||(Bf[M]=new Xg(A));break;case "dashed":Bf[M]||(Bf[M]=new Oh(A));break;case "zigzag-line":Bf[M]||(Bf[M]=new Ph(A));break;default:M="hachure",Bf[M]||(Bf[M]=new Rd(A))}return Bf[M].fillPolygon(g,z)}function ra(g){return g.randomizer||(g.randomizer=new Se(g.seed||0)),g.randomizer.next()}function xa(g,z,A,M=1){return A.roughness*
M*(ra(A)*(z-g)+g)}function Ba(g,z,A=1){return xa(-g,g,z,A)}function va(g,z,A,M,ca,ja=!1){const ya=ja?ca.disableMultiStrokeFill:ca.disableMultiStroke;ja=Ma(g,z,A,M,ca,!0,!1);if(ya)return ja;g=Ma(g,z,A,M,ca,!0,!0);return ja.concat(g)}function Ma(g,z,A,M,ca,ja,ya){var wa=Math.pow(g-A,2)+Math.pow(z-M,2),Da=Math.sqrt(wa);let Pa;Pa=200>Da?1:500<Da?.4:-.0016668*Da+1.233334;let Ka=ca.maxRandomnessOffset||0;Ka*Ka*100>wa&&(Ka=Da/10);wa=Ka/2;Da=.2+.2*ra(ca);let lb=ca.bowing*ca.maxRandomnessOffset*(M-z)/200,
rb=ca.bowing*ca.maxRandomnessOffset*(g-A)/200;lb=Ba(lb,ca,Pa);rb=Ba(rb,ca,Pa);const sb=[];return ja&&(ya?sb.push({op:"move",data:[g+Ba(wa,ca,Pa),z+Ba(wa,ca,Pa)]}):sb.push({op:"move",data:[g+Ba(Ka,ca,Pa),z+Ba(Ka,ca,Pa)]})),ya?sb.push({op:"bcurveTo",data:[lb+g+(A-g)*Da+Ba(wa,ca,Pa),rb+z+(M-z)*Da+Ba(wa,ca,Pa),lb+g+2*(A-g)*Da+Ba(wa,ca,Pa),rb+z+2*(M-z)*Da+Ba(wa,ca,Pa),A+Ba(wa,ca,Pa),M+Ba(wa,ca,Pa)]}):sb.push({op:"bcurveTo",data:[lb+g+(A-g)*Da+Ba(Ka,ca,Pa),rb+z+(M-z)*Da+Ba(Ka,ca,Pa),lb+g+2*(A-g)*Da+Ba(Ka,
ca,Pa),rb+z+2*(M-z)*Da+Ba(Ka,ca,Pa),A+Ba(Ka,ca,Pa),M+Ba(Ka,ca,Pa)]}),sb}function Va(g,z,A){const M=[];M.push([g[0][0]+Ba(z,A),g[0][1]+Ba(z,A)]);M.push([g[0][0]+Ba(z,A),g[0][1]+Ba(z,A)]);for(let ca=1;ca<g.length;ca++)M.push([g[ca][0]+Ba(z,A),g[ca][1]+Ba(z,A)]),ca===g.length-1&&M.push([g[ca][0]+Ba(z,A),g[ca][1]+Ba(z,A)]);return Ta(M,null,A)}function Ta(g,z,A){const M=g.length,ca=[];if(3<M){const ja=[],ya=1-A.curveTightness;ca.push({op:"move",data:[g[1][0],g[1][1]]});for(let wa=1;wa+2<M;wa++){const Da=
g[wa];ja[0]=[Da[0],Da[1]];ja[1]=[Da[0]+(ya*g[wa+1][0]-ya*g[wa-1][0])/6,Da[1]+(ya*g[wa+1][1]-ya*g[wa-1][1])/6];ja[2]=[g[wa+1][0]+(ya*g[wa][0]-ya*g[wa+2][0])/6,g[wa+1][1]+(ya*g[wa][1]-ya*g[wa+2][1])/6];ja[3]=[g[wa+1][0],g[wa+1][1]];ca.push({op:"bcurveTo",data:[ja[1][0],ja[1][1],ja[2][0],ja[2][1],ja[3][0],ja[3][1]]})}z&&2===z.length&&(g=A.maxRandomnessOffset,ca.push({op:"lineTo",data:[z[0]+Ba(g,A),z[1]+Ba(g,A)]}))}else 3===M?(ca.push({op:"move",data:[g[1][0],g[1][1]]}),ca.push({op:"bcurveTo",data:[g[1][0],
g[1][1],g[2][0],g[2][1],g[2][0],g[2][1]]})):2===M&&ca.push(...va(g[0][0],g[0][1],g[1][0],g[1][1],A));return ca}function bb(g,z,A,M,ca,ja,ya,wa){const Da=[],Pa=[],Ka=Ba(.5,wa)-Math.PI/2;Pa.push([Ba(ja,wa)+z+.9*M*Math.cos(Ka-g),Ba(ja,wa)+A+.9*ca*Math.sin(Ka-g)]);for(let lb=Ka;lb<2*Math.PI+Ka-.01;lb+=g){const rb=[Ba(ja,wa)+z+M*Math.cos(lb),Ba(ja,wa)+A+ca*Math.sin(lb)];Da.push(rb);Pa.push(rb)}return Pa.push([Ba(ja,wa)+z+M*Math.cos(Ka+2*Math.PI+.5*ya),Ba(ja,wa)+A+ca*Math.sin(Ka+2*Math.PI+.5*ya)]),Pa.push([Ba(ja,
wa)+z+.98*M*Math.cos(Ka+ya),Ba(ja,wa)+A+.98*ca*Math.sin(Ka+ya)]),Pa.push([Ba(ja,wa)+z+.9*M*Math.cos(Ka+.5*ya),Ba(ja,wa)+A+.9*ca*Math.sin(Ka+.5*ya)]),[Pa,Da]}function Jb(g,z,A,M,ca,ja,ya,wa,Da){var Pa=ja+Ba(.1,Da);ja=[];for(ja.push([Ba(wa,Da)+z+.9*M*Math.cos(Pa-g),Ba(wa,Da)+A+.9*ca*Math.sin(Pa-g)]);Pa<=ya;Pa+=g)ja.push([Ba(wa,Da)+z+M*Math.cos(Pa),Ba(wa,Da)+A+ca*Math.sin(Pa)]);return ja.push([z+M*Math.cos(ya),A+ca*Math.sin(ya)]),ja.push([z+M*Math.cos(ya),A+ca*Math.sin(ya)]),Ta(ja,null,Da)}function Hb(g,
z,A,M,ca,ja,ya,wa){const Da=[],Pa=[wa.maxRandomnessOffset||1,(wa.maxRandomnessOffset||1)+.3];let Ka;const lb=wa.disableMultiStroke?1:2;for(let rb=0;rb<lb;rb++)0===rb?Da.push({op:"move",data:[ya[0],ya[1]]}):Da.push({op:"move",data:[ya[0]+Ba(Pa[0],wa),ya[1]+Ba(Pa[0],wa)]}),Ka=[ca+Ba(Pa[rb],wa),ja+Ba(Pa[rb],wa)],Da.push({op:"bcurveTo",data:[g+Ba(Pa[rb],wa),z+Ba(Pa[rb],wa),A+Ba(Pa[rb],wa),M+Ba(Pa[rb],wa),Ka[0],Ka[1]]});return Da}function Tb(g){var z,A,M="";if("string"==typeof g||"number"==typeof g)M+=
g;else if("object"==typeof g)if(Array.isArray(g))for(z=0;z<g.length;z++)g[z]&&(A=Tb(g[z]))&&(M&&(M+=" "),M+=A);else for(z in g)g[z]&&(M&&(M+=" "),M+=z);return M}function mc(){for(var g,z,A=0,M="";A<arguments.length;)(g=arguments[A++])&&(z=Tb(g))&&(M&&(M+=" "),M+=z);return M}function Gb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function $b(g){for(var z=
1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Gb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Gb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ub(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));A.push.apply(A,M)}return A}function zb(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ub(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ub(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function fb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function cb(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?fb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):fb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ja(g,z){var A=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Ha(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ja(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ja(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,
M))})}return g}function Sa(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function hb(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Sa(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Sa(Object(A)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Vb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Rb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Hc(g){for(var z=
1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Rb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Rb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Kc(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));A.push.apply(A,M)}return A}function Dc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Kc(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Kc(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ic(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Wc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ic(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ic(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Kd(g,z){var A=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function kd(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Kd(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Kd(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,
M))})}return g}function xe(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function ue(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?xe(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):xe(Object(A)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(A,M))})}return g}function rd(g){var z=g.options,A=g.value,M=g.label,ca=g.onChange,ja=g.onClose,ya=Ea().useRef(),wa=Ea().useRef(),Da=Ea().useRef(null);Ea().useEffect(function(){wa.current?wa.current.focus():Da.current&&Da.current.focus()},[]);return Ea().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":M,onKeyDown:function(Pa){var Ka=z.find(function(dc){return dc.keyBinding===Pa.key.toLowerCase()});if(Pa.metaKey||Pa.altKey||Pa.ctrlKey||
!Ka)if("Tab"===Pa.key)setTimeout(function(){wa.current!==document.activeElement&&ja()},0);else if(xg(Pa.key)){Ka=ua.rtl;if(-1!==(sb=Array.prototype.indexOf.call(Da.current.children,document.activeElement))){var lb=z.length,rb=sb;switch(Pa.key){case Ka?"ArrowLeft":"ArrowRight":case "ArrowDown":rb=(sb+1)%lb;break;case Ka?"ArrowRight":"ArrowLeft":case "ArrowUp":rb=(lb+sb-1)%lb}Da.current.children[rb].focus()}Pa.preventDefault()}else"Escape"!==Pa.key&&"Enter"!==Pa.key||(Pa.preventDefault(),ja());else{var sb=
z.indexOf(Ka);Da.current.children[sb].focus();Pa.preventDefault()}Pa.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"picker-content",ref:Da},z.map(function(Pa,Ka){return Ea().createElement("button",{className:"picker-option",onClick:function(lb){lb.currentTarget.focus();ca(Pa.value)},title:"".concat(Pa.text," — ").concat(Pa.keyBinding.toUpperCase()),"aria-label":Pa.text||"none","aria-keyshortcuts":Pa.keyBinding,key:Pa.text,ref:function(lb){lb&&0===Ka&&(ya.current=lb);
lb&&Pa.value===A&&(wa.current=lb)},onFocus:function(){ca(Pa.value)}},Pa.icon,Ea().createElement("span",{className:"picker-keybinding"},Pa.keyBinding))})))}function wd(g){var z,A=g.value,M=g.label,ca=g.options,ja=g.onChange;g=g.group;g=void 0===g?"":g;var ya=Ea().useState(!1),wa=ya[0],Da=ya[1],Pa=Ea().useRef(null);ya=ua.rtl;return Ea().createElement("label",{className:"picker-container"},Ea().createElement("button",{name:g,className:wa?"active":"","aria-label":M,onClick:function(){return Da(!wa)},
ref:Pa},null===(z=ca.find(function(Ka){return Ka.value===A}))||void 0===z?void 0:z.icon),Ea().createElement(Ea().Suspense,{fallback:""},wa?Ea().createElement(Ea().Fragment,null,Ea().createElement(jb,Pd()({onCloseRequest:function(Ka){return Ka.target!==Pa.current&&Da(!1)}},ya?{right:5.5}:{left:-5.5}),Ea().createElement(rd,{options:ca,value:A,label:M,onChange:ja,onClose:function(){var Ka;Da(!1);null===(Ka=Pa.current)||void 0===Ka||Ka.focus()}})),Ea().createElement("div",{className:"picker-triangle"})):
null))}function Ge(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Ne(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ge(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ge(Object(A)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ve(){return(0,jc.useContext)(lg)}function pf(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Ke(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?pf(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,
Object.getOwnPropertyDescriptors(A)):pf(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ff(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Eg(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ff(Object(A),!0).forEach(function(M){pd()(g,
M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ff(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}async function uh(...g){return(await ym).default(...g)}async function jh(...g){return(await rf).default(...g)}function Le(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));A.push.apply(A,M)}return A}function We(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Le(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Le(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function sg(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Fe(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?sg(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):sg(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function tb(g,z){var A=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Db(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?tb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):tb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,
M))})}return g}function ob(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Xa(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?ob(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):ob(Object(A)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(A,M))})}return g}function ib(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function vb(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?ib(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):
ib(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Sb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function rc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Sb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Sb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function vc(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Nc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?vc(Object(A),
!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):vc(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function sd(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Yc(g){for(var z=1;z<arguments.length;z++){var A=
null!=arguments[z]?arguments[z]:{};z%2?sd(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):sd(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Xd(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,
M)}return A}function uc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Xd(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Xd(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Xb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));A.push.apply(A,M)}return A}function he(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Xb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Xb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function dd(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Ae(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?dd(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):dd(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function qb(g,z){var A=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function ic(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?qb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):qb(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,
M))})}return g}function mb(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function kc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?mb(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):mb(Object(A)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(A,M))})}return g}function ld(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Ad(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?ld(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):
ld(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ud(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Xe(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ud(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ud(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Fc(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Tc(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Fc(Object(A),
!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Fc(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function nc(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function yb(g){for(var z=1;z<arguments.length;z++){var A=
null!=arguments[z]?arguments[z]:{};z%2?nc(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):nc(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function yd(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,
M)}return A}function lf(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Od(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,M)}return A}function Xf(g){for(var z=1;z<arguments.length;z++){var A=
null!=arguments[z]?arguments[z]:{};z%2?Od(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Od(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}function Ga(g,z){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);z&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));A.push.apply(A,
M)}return A}function Wa(g){for(var z=1;z<arguments.length;z++){var A=null!=arguments[z]?arguments[z]:{};z%2?Ga(Object(A),!0).forEach(function(M){pd()(g,M,A[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):Ga(Object(A)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(A,M))})}return g}f.r(n);f.d(n,{default:()=>du,defaultLang:()=>Za,getElementMap:()=>$i,getSceneVersion:()=>cl,getSyncableElements:()=>Nk,languages:()=>fa,
restore:()=>mn,restoreAppState:()=>ln,restoreElements:()=>wk});var Ra=f(7154),kb=f.n(Ra),Kb=f(6479),sc=f.n(Kb),jc=f(4698),Ea=f.n(jc),hc=f(8288);const Uc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==hc.Vi.TEST&&(f.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Uc.u2,"@").concat(Uc.i8,"/dist/"));var Ld=f(5374),Pc=f.n(Ld),Sd=f(2829),Yf=f(2051),ae=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Za={code:"en",label:"English"},fa=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Za]).sort(function(g,z){return g.label>z.label?1:-1}).filter(function(g){return 85<=Yf[g.code]});"production"===hc.Vi.DEVELOPMENT&&fa.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var la,ua=Za,La={},gb=function(){var g=Pc()(function(z){return ae(this,function(A){switch(A.label){case 0:return ua=
z,document.documentElement.dir=ua.rtl?"rtl":"ltr",document.documentElement.lang=ua.code,z.code.startsWith("__test__")?(La={},[3,3]):[3,1];case 1:return[4,f(788)("./".concat(ua.code,".json"))];case 2:La=A.sent(),A.label=3;case 3:return[2]}})});return function(z){return g.apply(this,arguments)}}(),wb=function(g,z){for(var A=0;A<z.length;++A){var M=z[A];if(void 0===g[M])return;g=g[M]}if("string"==typeof g)return g},eb=function(g,z){if(ua.code.startsWith("__test__"))return g=z?"".concat(g,"(").concat(JSON.stringify(z).slice(1,
-1),")"):g,"‪[[".concat(g,"]]‬");var A=g.split(".");A=wb(La,A)||wb(Sd,A);if(void 0===A)throw Error("Can't find translation for ".concat(g));if(z)for(var M in z)A=A.replace("{{".concat(M,"}}"),z[M]);return A},oc=function(){return Ea().createElement("div",{className:"LoadingMessage"},Ea().createElement("span",null,eb("labels.loadingScene")))},Zc=(la=function(g,z){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,M){A.__proto__=M}||function(A,M){for(var ca in M)Object.prototype.hasOwnProperty.call(M,
ca)&&(A[ca]=M[ca])})(g,z)},function(g,z){function A(){this.constructor=g}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");la(g,z);g.prototype=null===z?Object.create(z):(A.prototype=z.prototype,new A)}),Cd=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&
!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],
wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},se=function(g){function z(){for(var A=[],M=0;M<arguments.length;M++)A[M]=arguments[M];var ca;
M=this;return ca=M=g.apply(this,A)||this,M.state={isLoading:!0},ca}return Zc(z,g),z.prototype.componentDidMount=function(){var A=this;return Pc()(function(){var M;return Cd(this,function(ca){switch(ca.label){case 0:return M=fa.find(function(ja){return ja.code===A.props.langCode})||Za,[4,gb(M)];case 1:return ca.sent(),A.setState({isLoading:!1}),[2]}})})()},z.prototype.render=function(){return this.state.isLoading?Ea().createElement(oc,null):this.props.children},z}(Ea().Component),ze=f(566),pd=f.n(ze);
class Rd{constructor(g){this.helper=g}fillPolygon(g,z){return this._fillPolygon(g,z)}_fillPolygon(g,z,A=!1){let M=ia(g,z);A&&(g=this.connectingLines(g,M),M=M.concat(g));return{type:"fillSketch",ops:this.renderLines(M,z)}}renderLines(g,z){const A=[];for(const M of g)A.push(...this.helper.doubleLineOps(M[0][0],M[0][1],M[1][0],M[1][1],z));return A}connectingLines(g,z){const A=[];if(1<z.length)for(let ca=1;ca<z.length;ca++){var M=z[ca-1];3>D(M)||(M=[z[ca][0],M[1]],3<D(M)&&(M=this.splitOnIntersections(g,
M),A.push(...M)))}return A}midPointInPolygon(g,z){return R(g,(z[0][0]+z[1][0])/2,(z[0][1]+z[1][1])/2)}splitOnIntersections(g,z){var A=Math.max(5,.1*D(z)),M=[];for(var ca=0;ca<g.length;ca++){var ja=g[ca],ya=g[(ca+1)%g.length];if(ka(ja,ya,...z)&&(ja=x(ja,ya,z[0],z[1]))){ya=D([ja,z[0]]);const wa=D([ja,z[1]]);ya>A&&wa>A&&M.push({point:ja,distance:ya})}}if(1<M.length){A=M.sort((wa,Da)=>wa.distance-Da.distance).map(wa=>wa.point);if(R(g,...z[0])||A.shift(),R(g,...z[1])||A.pop(),1>=A.length)return this.midPointInPolygon(g,
z)?[z]:[];z=[z[0],...A,z[1]];A=[];for(M=0;M<z.length-1;M+=2)ca=[z[M],z[M+1]],this.midPointInPolygon(g,ca)&&A.push(ca);return A}return this.midPointInPolygon(g,z)?[z]:[]}}class ee extends Rd{fillPolygon(g,z){return this._fillPolygon(g,z,!0)}}class nf extends Rd{fillPolygon(g,z){const A=this._fillPolygon(g,z);z=Object.assign({},z,{hachureAngle:z.hachureAngle+90});g=this._fillPolygon(g,z);return A.ops=A.ops.concat(g.ops),A}}class Xg{constructor(g){this.helper=g}fillPolygon(g,z){g=ia(g,z=Object.assign({},
z,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(g,z)}dotsOnLines(g,z){const A=[];let M=z.hachureGap;0>M&&(M=4*z.strokeWidth);M=Math.max(M,.1);let ca=z.fillWeight;0>ca&&(ca=z.strokeWidth/2);const ja=M/4;for(const Pa of g){var ya=D(Pa);g=Math.ceil(ya/M)-1;ya-=g*M;const Ka=(Pa[0][0]+Pa[1][0])/2-M/4,lb=Math.min(Pa[0][1],Pa[1][1]);for(let rb=0;rb<g;rb++){var wa=lb+ya+rb*M,Da=this.helper.randOffsetWithRange(Ka-ja,Ka+ja,z);wa=this.helper.randOffsetWithRange(wa-ja,wa+ja,z);Da=this.helper.ellipse(Da,
wa,ca,ca,z);A.push(...Da.ops)}}return{type:"fillSketch",ops:A}}}class Oh{constructor(g){this.helper=g}fillPolygon(g,z){g=ia(g,z);return{type:"fillSketch",ops:this.dashedLine(g,z)}}dashedLine(g,z){const A=0>z.dashOffset?0>z.hachureGap?4*z.strokeWidth:z.hachureGap:z.dashOffset,M=0>z.dashGap?0>z.hachureGap?4*z.strokeWidth:z.hachureGap:z.dashGap,ca=[];return g.forEach(ja=>{var ya=D(ja);const wa=Math.floor(ya/(A+M));ya=(ya+M-wa*(A+M))/2;let Da=ja[0];var Pa=ja[1];Da[0]>Pa[0]&&(Da=ja[1],Pa=ja[0]);ja=Math.atan((Pa[1]-
Da[1])/(Pa[0]-Da[0]));for(Pa=0;Pa<wa;Pa++){var Ka=Pa*(A+M),lb=Ka+A;Ka=[Da[0]+Ka*Math.cos(ja)+ya*Math.cos(ja),Da[1]+Ka*Math.sin(ja)+ya*Math.sin(ja)];lb=[Da[0]+lb*Math.cos(ja)+ya*Math.cos(ja),Da[1]+lb*Math.sin(ja)+ya*Math.sin(ja)];ca.push(...this.helper.doubleLineOps(Ka[0],Ka[1],lb[0],lb[1],z))}}),ca}}class Ph{constructor(g){this.helper=g}fillPolygon(g,z){const A=0>z.hachureGap?4*z.strokeWidth:z.hachureGap,M=0>z.zigzagOffset?A:z.zigzagOffset;g=ia(g,z=Object.assign({},z,{hachureGap:A+M}));return{type:"fillSketch",
ops:this.zigzagLines(g,M,z)}}zigzagLines(g,z,A){const M=[];return g.forEach(ca=>{var ja=D(ca);ja=Math.round(ja/(2*z));let ya=ca[0];var wa=ca[1];ya[0]>wa[0]&&(ya=ca[1],wa=ca[0]);ca=Math.atan((wa[1]-ya[1])/(wa[0]-ya[0]));for(wa=0;wa<ja;wa++){var Da=2*wa*z,Pa=2*(wa+1)*z,Ka=Math.sqrt(2*Math.pow(z,2));Da=[ya[0]+Da*Math.cos(ca),ya[1]+Da*Math.sin(ca)];Pa=[ya[0]+Pa*Math.cos(ca),ya[1]+Pa*Math.sin(ca)];Ka=[Da[0]+Ka*Math.cos(ca+Math.PI/4),Da[1]+Ka*Math.sin(ca+Math.PI/4)];M.push(...this.helper.doubleLineOps(Da[0],
Da[1],Ka[0],Ka[1],A),...this.helper.doubleLineOps(Ka[0],Ka[1],Pa[0],Pa[1],A))}}),M}}const Bf={};class Se{constructor(g){this.seed=g}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const ch={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Gd={randOffset:function(g,z){return Ba(g,z)},randOffsetWithRange:function(g,z,A){return xa(g,z,A)},ellipse:function(g,z,A,M,ca){A=L(A,M,ca);return ba(g,z,ca,A).opset},doubleLineOps:function(g,
z,A,M,ca){return va(g,z,A,M,ca,!0)}};class Ch{constructor(g){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=g||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(g){return g?Object.assign({},this.defaultOptions,g):this.defaultOptions}_d(g,z,A){return{shape:g,sets:z||[],options:A||this.defaultOptions}}line(g,z,A,M,ca){ca=this._o(ca);return this._d("line",[{type:"path",ops:va(g,z,A,M,ca)}],ca)}rectangle(g,z,A,M,ca){ca=this._o(ca);const ja=[];var ya=N([[g,z],[g+A,z],[g+A,z+M],[g,z+M]],!0,ca);ca.fill&&(g=[[g,z],[g+A,z],[g+A,z+M],[g,z+M]],"solid"===ca.fillStyle?ja.push(W(g,ca)):ja.push(na(g,ca)));return"none"!==ca.stroke&&ja.push(ya),this._d("rectangle",
ja,ca)}ellipse(g,z,A,M,ca){ca=this._o(ca);const ja=[];M=L(A,M,ca);A=ba(g,z,ca,M);ca.fill&&("solid"===ca.fillStyle?(g=ba(g,z,ca,M).opset,g.type="fillPath",ja.push(g)):ja.push(na(A.estimatedPoints,ca)));return"none"!==ca.stroke&&ja.push(A.opset),this._d("ellipse",ja,ca)}circle(g,z,A,M){g=this.ellipse(g,z,A,A,M);return g.shape="circle",g}linearPath(g,z){z=this._o(z);return this._d("linearPath",[N(g,!1,z)],z)}arc(g,z,A,M,ca,ja,ya=!1,wa){wa=this._o(wa);const Da=[],Pa=sa(g,z,A,M,ca,ja,ya,!0,wa);if(ya&&
wa.fill)if("solid"===wa.fillStyle)g=sa(g,z,A,M,ca,ja,!0,!1,wa),g.type="fillPath",Da.push(g);else{ya=Da.push;A=Math.abs(A/2);M=Math.abs(M/2);A+=Ba(.01*A,wa);for(M+=Ba(.01*M,wa);0>ca;)ca+=2*Math.PI,ja+=2*Math.PI;ja-ca>2*Math.PI&&(ca=0,ja=2*Math.PI);const Ka=(ja-ca)/wa.curveStepCount,lb=[];for(;ca<=ja;ca+=Ka)lb.push([g+A*Math.cos(ca),z+M*Math.sin(ca)]);g=(lb.push([g+A*Math.cos(ja),z+M*Math.sin(ja)]),lb.push([g,z]),na(lb,wa));ya.call(Da,g)}return"none"!==wa.stroke&&Da.push(Pa),this._d("arc",Da,wa)}curve(g,
z){z=this._o(z);const A=[],M=P(g,z);z.fill&&"none"!==z.fill&&3<=g.length&&(g=G(function(ca,ja=0){var ya=ca.length;if(3>ya)throw Error("A curve must have at least three points.");const wa=[];if(3===ya)wa.push([...ca[0]],[...ca[1]],[...ca[2]],[...ca[2]]);else{ya=[];ya.push(ca[0],ca[0]);for(var Da=1;Da<ca.length;Da++)ya.push(ca[Da]),Da===ca.length-1&&ya.push(ca[Da]);ca=[];ja=1-ja;wa.push([...ya[0]]);for(Da=1;Da+2<ya.length;Da++){const Pa=ya[Da];ca[0]=[Pa[0],Pa[1]];ca[1]=[Pa[0]+(ja*ya[Da+1][0]-ja*ya[Da-
1][0])/6,Pa[1]+(ja*ya[Da+1][1]-ja*ya[Da-1][1])/6];ca[2]=[ya[Da+1][0]+(ja*ya[Da][0]-ja*ya[Da+2][0])/6,ya[Da+1][1]+(ja*ya[Da][1]-ja*ya[Da+2][1])/6];ca[3]=[ya[Da+1][0],ya[Da+1][1]];wa.push(ca[1],ca[2],ca[3])}}return wa}(g),10,(1+z.roughness)/2),"solid"===z.fillStyle?A.push(W(g,z)):A.push(na(g,z)));return"none"!==z.stroke&&A.push(M),this._d("curve",A,z)}polygon(g,z){z=this._o(z);const A=[],M=N(g,!0,z);return z.fill&&("solid"===z.fillStyle?A.push(W(g,z)):A.push(na(g,z))),"none"!==z.stroke&&A.push(M),this._d("polygon",
A,z)}path(g,z){const A=this._o(z),M=[];if(!g)return this._d("path",M,A);g=(g||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");z=A.fill&&"transparent"!==A.fill&&"none"!==A.fill;const ca="none"!==A.stroke,ja=!!(A.simplification&&1>A.simplification),ya=function(wa,Da,Pa){var Ka=X(O(da(wa)));wa=[];let lb=[];var rb=[0,0];let sb=[];const dc=()=>{4<=sb.length&&lb.push(...G(sb,Da));sb=[]};for(const {key:Yb,data:zc}of Ka)switch(Yb){case "M":dc();lb.length&&(wa.push(lb),lb=[]);rb=[zc[0],
zc[1]];lb.push(rb);break;case "L":dc();lb.push([zc[0],zc[1]]);break;case "C":sb.length||(Ka=lb.length?lb[lb.length-1]:rb,sb.push([Ka[0],Ka[1]]));sb.push([zc[0],zc[1]]);sb.push([zc[2],zc[3]]);sb.push([zc[4],zc[5]]);break;case "Z":dc(),lb.push([rb[0],rb[1]])}dc();lb.length&&(wa.push(lb),lb=[]);if(!Pa)return wa;rb=[];for(const Yb of wa)wa=E(Yb,Pa),wa.length&&rb.push(wa);return rb}(g,1,ja?4-4*A.simplification:(1+A.roughness)/2);if(z)if(A.combineNestedSvgPaths){const wa=[];ya.forEach(Da=>wa.push(...Da));
"solid"===A.fillStyle?M.push(W(wa,A)):M.push(na(wa,A))}else ya.forEach(wa=>{"solid"===A.fillStyle?M.push(W(wa,A)):M.push(na(wa,A))});return ca&&(ja?ya.forEach(wa=>{M.push(N(wa,!1,A))}):M.push(function(wa,Da){wa=X(O(da(wa)));const Pa=[];let Ka=[0,0],lb=[0,0];for(const {key:rb,data:sb}of wa)switch(rb){case "M":const dc=1*(Da.maxRandomnessOffset||0);Pa.push({op:"move",data:sb.map(ke=>ke+Ba(dc,Da))});lb=[sb[0],sb[1]];Ka=[sb[0],sb[1]];break;case "L":Pa.push(...va(lb[0],lb[1],sb[0],sb[1],Da));lb=[sb[0],
sb[1]];break;case "C":const [Yb,zc,ed,id,vd,le]=sb;Pa.push(...Hb(Yb,zc,ed,id,vd,le,lb,Da));lb=[vd,le];break;case "Z":Pa.push(...va(lb[0],lb[1],Ka[0],Ka[1],Da)),lb=[Ka[0],Ka[1]]}return{type:"path",ops:Pa}}(g,A))),this._d("path",M,A)}opsToPath(g){let z="";for(const A of g.ops)switch(g=A.data,A.op){case "move":z+=`M${g[0]} ${g[1]} `;break;case "bcurveTo":z+=`C${g[0]} ${g[1]}, ${g[2]} ${g[3]}, ${g[4]} ${g[5]} `;break;case "lineTo":z+=`L${g[0]} ${g[1]} `}return z.trim()}toPaths(g){var z=g.sets||[];g=g.options||
this.defaultOptions;const A=[];for(const M of z){z=null;switch(M.type){case "path":z={d:this.opsToPath(M),stroke:g.stroke,strokeWidth:g.strokeWidth,fill:"none"};break;case "fillPath":z={d:this.opsToPath(M),stroke:"none",strokeWidth:0,fill:g.fill||"none"};break;case "fillSketch":z=this.fillSketch(M,g)}z&&A.push(z)}return A}fillSketch(g,z){let A=z.fillWeight;return 0>A&&(A=z.strokeWidth/2),{d:this.opsToPath(g),stroke:z.fill||"none",strokeWidth:A,fill:"none"}}}class qi{constructor(g,z){this.canvas=g;
this.ctx=this.canvas.getContext("2d");this.gen=new Ch(z)}draw(g){const z=g.sets||[],A=g.options||this.getDefaultOptions(),M=this.ctx;for(const ca of z)switch(ca.type){case "path":M.save();M.strokeStyle="none"===A.stroke?"transparent":A.stroke;M.lineWidth=A.strokeWidth;A.strokeLineDash&&M.setLineDash(A.strokeLineDash);A.strokeLineDashOffset&&(M.lineDashOffset=A.strokeLineDashOffset);this._drawToContext(M,ca);M.restore();break;case "fillPath":M.save();M.fillStyle=A.fill||"";this._drawToContext(M,ca,
"curve"===g.shape||"polygon"===g.shape?"evenodd":"nonzero");M.restore();break;case "fillSketch":this.fillSketch(M,ca,A)}}fillSketch(g,z,A){let M=A.fillWeight;0>M&&(M=A.strokeWidth/2);g.save();A.fillLineDash&&g.setLineDash(A.fillLineDash);A.fillLineDashOffset&&(g.lineDashOffset=A.fillLineDashOffset);g.strokeStyle=A.fill||"";g.lineWidth=M;this._drawToContext(g,z);g.restore()}_drawToContext(g,z,A="nonzero"){g.beginPath();for(const M of z.ops){const ca=M.data;switch(M.op){case "move":g.moveTo(ca[0],ca[1]);
break;case "bcurveTo":g.bezierCurveTo(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5]);break;case "lineTo":g.lineTo(ca[0],ca[1])}}"fillPath"===z.type?g.fill(A):g.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(g,z,A,M,ca){g=this.gen.line(g,z,A,M,ca);return this.draw(g),g}rectangle(g,z,A,M,ca){g=this.gen.rectangle(g,z,A,M,ca);return this.draw(g),g}ellipse(g,z,A,M,ca){g=this.gen.ellipse(g,z,A,M,ca);return this.draw(g),g}circle(g,z,A,M){g=this.gen.circle(g,z,A,M);
return this.draw(g),g}linearPath(g,z){g=this.gen.linearPath(g,z);return this.draw(g),g}polygon(g,z){g=this.gen.polygon(g,z);return this.draw(g),g}arc(g,z,A,M,ca,ja,ya=!1,wa){g=this.gen.arc(g,z,A,M,ca,ja,ya,wa);return this.draw(g),g}curve(g,z){g=this.gen.curve(g,z);return this.draw(g),g}path(g,z){g=this.gen.path(g,z);return this.draw(g),g}}class xk{constructor(g,z){this.svg=g;this.gen=new Ch(z)}draw(g){var z=g.sets||[];const A=g.options||this.getDefaultOptions(),M=this.svg.ownerDocument||window.document,
ca=M.createElementNS("http://www.w3.org/2000/svg","g");for(const ja of z){z=null;switch(ja.type){case "path":z=M.createElementNS("http://www.w3.org/2000/svg","path");z.setAttribute("d",this.opsToPath(ja));z.setAttribute("stroke",A.stroke);z.setAttribute("stroke-width",A.strokeWidth+"");z.setAttribute("fill","none");A.strokeLineDash&&z.setAttribute("stroke-dasharray",A.strokeLineDash.join(" ").trim());A.strokeLineDashOffset&&z.setAttribute("stroke-dashoffset",`${A.strokeLineDashOffset}`);break;case "fillPath":z=
M.createElementNS("http://www.w3.org/2000/svg","path");z.setAttribute("d",this.opsToPath(ja));z.setAttribute("stroke","none");z.setAttribute("stroke-width","0");z.setAttribute("fill",A.fill||"");"curve"!==g.shape&&"polygon"!==g.shape||z.setAttribute("fill-rule","evenodd");break;case "fillSketch":z=this.fillSketch(M,ja,A)}z&&ca.appendChild(z)}return ca}fillSketch(g,z,A){let M=A.fillWeight;0>M&&(M=A.strokeWidth/2);g=g.createElementNS("http://www.w3.org/2000/svg","path");return g.setAttribute("d",this.opsToPath(z)),
g.setAttribute("stroke",A.fill||""),g.setAttribute("stroke-width",M+""),g.setAttribute("fill","none"),A.fillLineDash&&g.setAttribute("stroke-dasharray",A.fillLineDash.join(" ").trim()),A.fillLineDashOffset&&g.setAttribute("stroke-dashoffset",`${A.fillLineDashOffset}`),g}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(g){return this.gen.opsToPath(g)}line(g,z,A,M,ca){g=this.gen.line(g,z,A,M,ca);return this.draw(g)}rectangle(g,z,A,M,ca){g=this.gen.rectangle(g,
z,A,M,ca);return this.draw(g)}ellipse(g,z,A,M,ca){g=this.gen.ellipse(g,z,A,M,ca);return this.draw(g)}circle(g,z,A,M){g=this.gen.circle(g,z,A,M);return this.draw(g)}linearPath(g,z){g=this.gen.linearPath(g,z);return this.draw(g)}polygon(g,z){g=this.gen.polygon(g,z);return this.draw(g)}arc(g,z,A,M,ca,ja,ya=!1,wa){g=this.gen.arc(g,z,A,M,ca,ja,ya,wa);return this.draw(g)}curve(g,z){g=this.gen.curve(g,z);return this.draw(g)}path(g,z){g=this.gen.path(g,z);return this.draw(g)}}const Qh={canvas:(g,z)=>new qi(g,
z),svg:(g,z)=>new xk(g,z),generator:g=>new Ch(g),newSeed:()=>Ch.newSeed()};var be=function(g){return null!=g&&"text"===g.type},Fg=function(g){return null!=g&&hj(g.type)},hj=function(g){return"arrow"===g||"line"===g||"draw"===g},og=function(g){return null!=g&&"arrow"===g.type},yk=function(g){return null!=g&&("rectangle"===g.type||"diamond"===g.type||"ellipse"===g.type||"text"===g.type)},Hf=function(g,z,A,M,ca){return[(g-A)*Math.cos(ca)-(z-M)*Math.sin(ca)+A,(g-A)*Math.sin(ca)+(z-M)*Math.cos(ca)+M]},
ij=function(g,z,A){return Hf(g[0],g[1],z[0],z[1],A)},Zf=function(g,z,A,M,ca,ja,ya,wa){var Da=Math.cos(M);M=Math.sin(M);return g.e&&g.w?z+=ca+ya:g.e?(z+=ca*(1+Da),A+=ca*M,z+=ya*(1-Da),A+=ya*-M):g.w&&(z+=ca*(1-Da),A+=ca*-M,z+=ya*(1+Da),A+=ya*M),g.n&&g.s?A+=ja+wa:g.n?(z+=ja*M,A+=ja*(1-Da),z+=wa*-M,A+=wa*(1+Da)):g.s&&(z+=ja*-M,A+=ja*(1+Da),z+=wa*M,A+=wa*(1-Da)),[z,A]},ei=function(g,z){if(void 0===z&&(z=1),3<=g.length){var A=[g[0],g[g.length-1]];g=A[0];A=A[1];return Math.hypot(A[0]-g[0],A[1]-g[1])<=hc.qx/
z}return!1},Ei=function(g,z,A){var M=g.length;if(3>M)return!1;var ca=[Number.MAX_SAFE_INTEGER,A];z=[z,A];for(var ja=A=0;ja<M;ja++){var ya=g[ja],wa=g[(ja+1)%M],Da=ya,Pa=wa,Ka=z,lb=ca,rb=jj(Da,Pa,Ka),sb=jj(Da,Pa,lb),dc=jj(Ka,lb,Da),Yb=jj(Ka,lb,Pa);if(rb!==sb&&dc!==Yb||0===rb&&zk(Da,Ka,Pa)||0===sb&&zk(Da,lb,Pa)||0===dc&&zk(Ka,Da,lb)||0===Yb&&zk(Ka,Pa,lb)){if(0===jj(ya,z,wa))return zk(ya,z,wa);A++}}return 1==A%2},zk=function(g,z,A){return z[0]<=Math.max(g[0],A[0])&&z[0]>=Math.min(g[0],A[0])&&z[1]<=Math.max(g[1],
A[1])&&z[1]>=Math.min(g[1],A[1])},jj=function(g,z,A){g=(z[1]-g[1])*(A[0]-z[0])-(z[0]-g[0])*(A[1]-z[1]);return 0===g?0:0<g?1:2},ri=function(g,z,A){return A?[Math.round(g/A)*A,Math.round(z/A)*A]:[g,z]},Gi=function(g,z,A){var M=A.map(function(Da){return Da[g]}),ca=Math.max.apply(Math,M);M=Math.min.apply(Math,M);ca-=M;var ja=0===ca?1:z/ca,ya=1/0;z=A.map(function(Da){return Da.map(function(Pa,Ka){if(Ka!==g)return Pa;Pa*=ja;return ya=Math.min(Pa,ya),Pa})});if(2===z.length)return z;var wa=M-ya;return z.map(function(Da){return Da.map(function(Pa,
Ka){return Ka===g?Pa+wa:Pa})})},ig=function(g){return Fg(g)?vj(g):[g.x,g.y,g.x+g.width,g.y+g.height]},Hi=function(g){for(var z=0,A=g.sets;z<A.length;z++){var M=A[z];if("path"===M.type)return M.ops}return g.sets[0].ops},Bk=function(g,z){var A=[0,0];g=g.reduce(function(M,ca){var ja,ya=ca.op;ca=ca.data;if("move"===ya)A=ca;else if("bcurveTo"===ya){var wa=[ca[0],ca[1]],Da=[ca[2],ca[3]],Pa=[ca[4],ca[5]],Ka=A;A=Pa;ya=function(sb,dc){return Math.pow(1-sb,3)*Pa[dc]+3*sb*Math.pow(1-sb,2)*Da[dc]+3*Math.pow(sb,
2)*(1-sb)*wa[dc]+Ka[dc]*Math.pow(sb,3)};for(ca=0;1>=ca;){var lb=ya(ca,0),rb=ya(ca,1);z&&(lb=(ja=z(lb,rb))[0],rb=ja[1]);M.minY=Math.min(M.minY,rb);M.minX=Math.min(M.minX,lb);M.maxX=Math.max(M.maxX,lb);M.maxY=Math.max(M.maxY,rb);ca+=.1}}return M},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[g.minX,g.minY,g.maxX,g.maxY]},vj=function(g){if(2>g.points.length||!wi.get(g)){var z=g.points.reduce(function(A,M){var ca=M[0];M=M[1];return A.minY=Math.min(A.minY,M),A.minX=Math.min(A.minX,ca),A.maxX=Math.max(A.maxX,
ca),A.maxY=Math.max(A.maxY,M),A},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[z.minX+g.x,z.minY+g.y,z.maxX+g.x,z.maxY+g.y]}z=wi.get(g);z=Hi(z[0]);z=Bk(z);return[z[0]+g.x,z[1]+g.y,z[2]+g.x,z[3]+g.y]},si=function(g){var z=ig(g),A=z[0],M=z[1],ca=z[2],ja=z[3];z=(A+ca)/2;var ya=(M+ja)/2;if(Fg(g))return function(lb,rb,sb){if(2>lb.points.length||!wi.get(lb)){var dc=lb.points.reduce(function(Yb,zc){var ed,id=zc[0];zc=zc[1];return id=(ed=Hf(lb.x+id,lb.y+zc,rb,sb,lb.angle))[0],zc=ed[1],Yb.minY=Math.min(Yb.minY,
zc),Yb.minX=Math.min(Yb.minX,id),Yb.maxX=Math.max(Yb.maxX,id),Yb.maxY=Math.max(Yb.maxY,zc),Yb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[dc.minX,dc.minY,dc.maxX,dc.maxY]}dc=wi.get(lb);dc=Hi(dc[0]);return Bk(dc,function(Yb,zc){return Hf(lb.x+Yb,lb.y+zc,rb,sb,lb.angle)})}(g,z,ya);if("diamond"===g.type){M=Hf(z,M,z,ya,g.angle);var wa=M[0];M=M[1];ja=Hf(z,ja,z,ya,g.angle);var Da=ja[0];ja=ja[1];var Pa=Hf(A,ya,z,ya,g.angle);A=Pa[0];Pa=Pa[1];ya=Hf(ca,ya,z,ya,g.angle);z=ya[0];ya=ya[1];return[Math.min(wa,
Da,A,z),Math.min(M,ja,Pa,ya),Math.max(wa,Da,A,z),Math.max(M,ja,Pa,ya)]}if("ellipse"===g.type)return ca=(ca-A)/2,wa=(ja-M)/2,M=Math.cos(g.angle),Da=Math.sin(g.angle),g=Math.hypot(ca*M,wa*Da),ca=Math.hypot(wa*M,ca*Da),[z-g,ya-ca,z+g,ya+ca];Da=Hf(A,M,z,ya,g.angle);wa=Da[0];Da=Da[1];Pa=Hf(A,ja,z,ya,g.angle);A=Pa[0];Pa=Pa[1];var Ka=Hf(ca,ja,z,ya,g.angle);ja=Ka[0];Ka=Ka[1];ya=Hf(ca,M,z,ya,g.angle);z=ya[0];ya=ya[1];return[Math.min(wa,A,ja,z),Math.min(Da,Pa,Ka,ya),Math.max(wa,A,ja,z),Math.max(Da,Pa,Ka,ya)]},
Bg=function(g){if(!g.length)return[0,0,0,0];var z=1/0,A=-1/0,M=1/0,ca=-1/0;return g.forEach(function(ja){ja=si(ja);var ya=ja[1],wa=ja[2],Da=ja[3];z=Math.min(z,ja[0]);M=Math.min(M,ya);A=Math.max(A,wa);ca=Math.max(ca,Da)}),[z,M,A,ca]},Pg=function(g,z,A){if(!Fg(g))return[g.x,g.y,g.x+z,g.y+A];z=Gi(0,z,Gi(1,A,g.points));A=Qh.generator();z="sharp"===g.strokeSharpness?A.linearPath(z,Th(g)):A.curve(z,Th(g));z=Hi(z);z=Bk(z);return[z[0]+g.x,z[1]+g.y,z[2]+g.x,z[3]+g.y]},Be=function(g,z,A){var M=Qh.generator();
z="sharp"===A?M.linearPath(z,Th(g)):M.curve(z,Th(g));z=Hi(z);z=Bk(z);return[z[0]+g.x,z[1]+g.y,z[2]+g.x,z[3]+g.y]};const Ee=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var vh=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},Jg=function(g){return[Ee.Q6[g],Ee.iQ[g],Ee.pl[g],Ee.ht[g],Ee.QN[g],Ee.iN[g],Ee.sl[g],Ee.$C[g],Ee.ek[g],Ee.LR[g],Ee.er[g],Ee.$y[g]]};const Ek={canvasBackground:vh([Ee.ix,Ee.MA[0],Ee.MA[1]],Jg(0)),elementBackground:vh(["transparent",Ee.MA[4],Ee.MA[6]],Jg(6)),elementStroke:vh([Ee.Sn,Ee.MA[8],Ee.MA[7]],Jg(9))};var $f=f(6207),Kg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
cf=Kg?"metaKey":"ctrlKey",xg=function(g){return"ArrowLeft"===g||"ArrowRight"===g||"ArrowDown"===g||"ArrowUp"===g},kj=function(g){return g.charAt(0).toUpperCase()+g.slice(1)},Cg=function(g){return g instanceof HTMLElement&&"wysiwyg"===g.dataset.type||g instanceof HTMLBRElement||g instanceof HTMLTextAreaElement||g instanceof HTMLInputElement&&("text"===g.type||"number"===g.type)},Vi=function(g){var z=g.fontFamily;return"".concat(g.fontSize,"px ").concat("".concat(hc.ut[z],", ").concat(hc._D))},Wi=function(g,
z){var A=document.createElement("div"),M=document.body;A.style.position="absolute";A.style.whiteSpace="pre";A.style.font=z;M.appendChild(A);A.innerText=g.split("\n").map(function(ca){return ca||" "}).join("\n");g=A.offsetWidth;z=A.offsetHeight;M=document.createElement("span");M.style.display="inline-block";M.style.overflow="hidden";M.style.width="1px";M.style.height="1px";A.appendChild(M);M=M.offsetTop+M.offsetHeight;return document.body.removeChild(A),{width:g,height:z,baseline:M}},ti=function(g,
z){var A,M=0,ca=function(){for(var ja=[],ya=0;ya<arguments.length;ya++)ja[ya]=arguments[ya];A=ja;clearTimeout(M);M=window.setTimeout(function(){return g.apply(void 0,ja)},z)};return ca.flush=function(){clearTimeout(M);A&&g.apply(void 0,A)},ca.cancel=function(){clearTimeout(M)},ca},Ii=function(g){g&&(g.style.cursor="")},Ji=function(g,z){g&&(g.style.cursor=z)},ui=function(g,z){g&&("selection"===z?Ii(g):g.style.cursor=hc.oc.CROSSHAIR)},wh=function(){var g;return"HTML"===(null===(g=document.fullscreenElement)||
void 0===g?void 0:g.nodeName)},Wd=function(g){return g=g.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Kg?g.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):g.replace(/\bCtrlOrCmd\b/i,"Ctrl")},ug=function(g,z){var A=z.zoom,M=1/A.value;return{x:(g.clientX-A.translation.x-z.offsetLeft)*M-z.scrollX,y:(g.clientY-A.translation.y-z.offsetTop)*M-z.scrollY}},mh=function(g,z){var A=z.zoom;return{x:(g.sceneX+z.scrollX+
z.offsetLeft)*A.value+A.translation.x,y:(g.sceneY+z.scrollY+z.offsetTop)*A.value+A.translation.y}},ag=function(g){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(g))},xh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Dg=function(g){return{x:g[0],y:g[1]}},Gk=function(g){if("AbortError"!==(null==g?void 0:g.name))throw g;},bg=function(g){return function(z){(0,$f.unstable_batchedUpdates)(g,z)}},xl=function(g,z){var A,M=[{value:1,
symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(A=M.length-1;0<A&&!(g>=M[A].value);A--);return(g/M[A].value).toFixed(z).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+M[A].symbol},Lf=function(){var g;return(null===(g=document.querySelector('meta[name\x3d"version"]'))||void 0===g?void 0:g.content)||hc.eQ},Dh=function(){var g=new Map,z=hc.rk,A=hc.n5,M=Ee.Sn,ca=hc.Hg,ja=window.innerHeight,ya="".concat(eb("labels.untitled"),"-"),wa=ya.concat;var Da=new Date;var Pa=Da.getFullYear();
var Ka="".concat(Da.getMonth()+1).padStart(2,"0"),lb="".concat(Da.getDate()).padStart(2,"0"),rb="".concat(Da.getHours()).padStart(2,"0");Da="".concat(Da.getMinutes()).padStart(2,"0");Pa="".concat(Pa,"-").concat(Ka,"-").concat(lb,"-").concat(rb).concat(Da);return{appearance:"light",collaborators:g,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:z,currentItemFontSize:A,currentItemLinearStrokeSharpness:"round",
currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:M,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:ca,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ja,isBindingEnabled:!0,
isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:wa.call(ya,Pa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ee.ix,width:window.innerWidth,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,
export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,
export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},
vi=function(g,z){for(var A={},M=0,ca=Object.keys(g);M<ca.length;M++){var ja=ca[M],ya=nh[ja];null!=ya&&ya[z]&&(A[ja]=g[ja])}return A},pg=Dh(),Sh=[12,8],Yk=[3,6],fi=function(g,z,A){switch(A.globalAlpha=g.opacity/100,g.type){case "rectangle":case "diamond":case "ellipse":z.draw(wi.get(g));break;case "arrow":case "draw":case "line":wi.get(g).forEach(function(lb){z.draw(lb)});break;default:if(!be(g))throw Error("Unimplemented type ".concat(g.type));var M=xh.test(g.text),ca=M&&!A.canvas.isConnected;ca&&
document.body.appendChild(A.canvas);A.canvas.setAttribute("dir",M?"rtl":"ltr");M=A.font;A.font=Vi(g);var ja=A.fillStyle;A.fillStyle=g.strokeColor;var ya=A.textAlign;A.textAlign=g.textAlign;var wa=g.text.replace(/\r\n?/g,"\n").split("\n"),Da=g.height/wa.length,Pa=g.height-g.baseline;g="center"===g.textAlign?g.width/2:"right"===g.textAlign?g.width:0;for(var Ka=0;Ka<wa.length;Ka++)A.fillText(wa[Ka],g,(Ka+1)*Da-Pa);A.fillStyle=ja;A.font=M;A.textAlign=ya;ca&&A.canvas.remove()}A.globalAlpha=1},Hk=new WeakMap,
wi=new WeakMap,Th=function(g){var z={seed:g.seed,strokeLineDash:"dashed"===g.strokeStyle?Sh:"dotted"===g.strokeStyle?Yk:void 0,disableMultiStroke:"solid"!==g.strokeStyle,strokeWidth:"solid"!==g.strokeStyle?g.strokeWidth+.5:g.strokeWidth,fillWeight:g.strokeWidth/2,hachureGap:4*g.strokeWidth,roughness:g.roughness,stroke:g.strokeColor};switch(g.type){case "rectangle":case "diamond":case "ellipse":return z.fillStyle=g.fillStyle,z.fill="transparent"===g.backgroundColor?void 0:g.backgroundColor,"ellipse"===
g.type&&(z.curveFitting=1),z;case "line":case "draw":return ei(g.points)&&(z.fillStyle=g.fillStyle,z.fill="transparent"===g.backgroundColor?void 0:g.backgroundColor),z;case "arrow":return z;default:throw Error("Unimplemented type ".concat(g.type));}},Yj=function(g,z){var A=wi.get(g)||null;if(!A){switch(Hk.delete(g),g.type){case "rectangle":if("round"===g.strokeSharpness){A=g.width;var M=g.height,ca=.25*Math.min(A,M);A=z.path("M ".concat(ca," 0 L ").concat(A-ca," 0 Q ").concat(A," 0, ").concat(A," ").concat(ca,
" L ").concat(A," ").concat(M-ca," Q ").concat(A," ").concat(M,", ").concat(A-ca," ").concat(M," L ").concat(ca," ").concat(M," Q 0 ").concat(M,", 0 ").concat(M-ca," L 0 ").concat(ca," Q 0 0, ").concat(ca," 0"),Th(g))}else A=z.rectangle(0,0,g.width,g.height,Th(g));break;case "diamond":A=function(ya){var wa=Math.floor(ya.width/2)+1,Da=Math.floor(ya.height/2)+1;return[wa,0,ya.width,Da,wa,ya.height,0,Da]}(g);A=z.polygon([[A[0],A[1]],[A[2],A[3]],[A[4],A[5]],[A[6],A[7]]],Th(g));break;case "ellipse":A=
z.ellipse(g.width/2,g.height/2,g.width,g.height,Th(g));break;case "line":case "draw":case "arrow":var ja=Th(g);A=g.points.length?g.points:[[0,0]];if(A="sharp"===g.strokeSharpness?ja.fill?[z.polygon(A,ja)]:[z.linearPath(A,ja)]:[z.curve(A,ja)],"arrow"===g.type){M=g.startArrowhead;M=void 0===M?null:M;ca=g.endArrowhead;ca=void 0===ca?"arrow":ca;function ya(wa,Da,Pa,Ka){Da=function(dc,Yb,zc,ed){Yb=Hi(Yb[0]);if(1>Yb.length)return null;var id="start"===zc?1:Yb.length-1,vd=Yb[id].data,le=[vd[4],vd[5]],ke=
[vd[2],vd[3]],Oe=[vd[0],vd[1]];Yb=Yb[id-1];var Je=[0,0];"move"===Yb.op?Je=Yb.data:"bcurveTo"===Yb.op&&(Je=[Yb.data[4],Yb.data[5]]);id=function(zd,Zd){return Math.pow(1-zd,3)*le[Zd]+3*zd*Math.pow(1-zd,2)*ke[Zd]+3*Math.pow(zd,2)*(1-zd)*Oe[Zd]+Je[Zd]*Math.pow(zd,3)};Yb="start"===zc?Je:le;zc=Yb[0];Yb=Yb[1];vd=[id(.3,0),id(.3,1)];id=vd[0];vd=vd[1];var df=Math.hypot(zc-id,Yb-vd);id=(zc-id)/df;vd=(Yb-vd)/df;df={arrow:30,bar:15,dot:15}[ed];dc=dc.points.reduce(function(zd,Zd,je,$e){je=0<je?$e[je-1]:[0,0];
return zd+Math.hypot(Zd[0]-je[0],Zd[1]-je[1])},0);df=Math.min(df,dc/2);dc=zc-id*df;id=Yb-vd*df;if("dot"===ed)return[zc,Yb,Math.hypot(id-Yb,dc-zc)];vd={arrow:20,bar:90}[ed];df=Hf(dc,id,zc,Yb,-vd*Math.PI/180);ed=df[0];df=df[1];dc=Hf(dc,id,zc,Yb,vd*Math.PI/180);return[zc,Yb,ed,df,dc[0],dc[1]]}(wa,Da,Pa,Ka);if(null===Da)return[];if("dot"===Ka)return[z.circle(Da[0],Da[1],Da[2],$b($b({},ja),{},{fill:wa.strokeColor,fillStyle:"solid"}))];Ka=Da[0];Pa=Da[1];var lb=Da[2],rb=Da[3],sb=Da[4];Da=Da[5];return"dotted"===
wa.strokeStyle?ja.strokeLineDash=[3,4]:delete ja.strokeLineDash,[z.line(lb,rb,Ka,Pa,ja),z.line(sb,Da,Ka,Pa,ja)]}null!==M&&(M=ya(g,A,"start",M),A.push.apply(A,M));null!==ca&&(M=ya(g,A,"end",ca),A.push.apply(A,M))}break;case "text":A=[]}wi.set(g,A)}},on=function(g,z,A,M,ca){var ja=z.generator;switch(g.type){case "selection":A.translate(g.x+ca.scrollX,g.y+ca.scrollY);z=A.fillStyle;A.fillStyle="rgba(0, 0, 255, 0.10)";A.fillRect(0,0,g.width,g.height);A.fillStyle=z;A.translate(-g.x-ca.scrollX,-g.y-ca.scrollY);
break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(g,ja),M){z=ca?ca.zoom:pg.zoom;ja=(M=Hk.get(g))&&M.canvasZoom!==z.value&&!(null!=ca&&ca.shouldCacheIgnoreZoom);if(!M||ja){M=document.createElement("canvas");ja=M.getContext("2d");var ya=0,wa=0;if(Fg(g)){ya=ig(g);var Da=ya[0];wa=ya[1];var Pa=ya[3];M.width=Math.abs(Da-ya[2])*window.devicePixelRatio*z.value+40*z.value;M.height=Math.abs(wa-Pa)*window.devicePixelRatio*z.value+40*z.value;ya=g.x>Da?
Math.floor(Math.abs(g.x-Da))*window.devicePixelRatio*z.value:0;wa=g.y>wa?Math.floor(Math.abs(g.y-wa))*window.devicePixelRatio*z.value:0;ja.translate(ya,wa)}else M.width=g.width*window.devicePixelRatio*z.value+40*z.value,M.height=g.height*window.devicePixelRatio*z.value+40*z.value;ja.translate(20*z.value,20*z.value);ja.scale(window.devicePixelRatio*z.value,window.devicePixelRatio*z.value);Da=Qh.canvas(M);z=(fi(g,Da,ja),ja.translate(-20*z.value,-20*z.value),ja.scale(1/(window.devicePixelRatio*z.value),
1/(window.devicePixelRatio*z.value)),{element:g,canvas:M,canvasZoom:z.value,canvasOffsetX:ya,canvasOffsetY:wa});g=(Hk.set(g,z),z)}else g=M;z=g.element;ya=ig(z);M=ya[0];ja=ya[1];wa=ya[2];ya=ya[3];Da=((M+wa)/2+ca.scrollX)*window.devicePixelRatio;ca=((ja+ya)/2+ca.scrollY)*window.devicePixelRatio;A.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);A.translate(Da,ca);A.rotate(z.angle);A.drawImage(g.canvas,-(wa-M)/2*window.devicePixelRatio-20*g.canvasZoom/g.canvasZoom,-(ya-ja)/2*window.devicePixelRatio-
20*g.canvasZoom/g.canvasZoom,g.canvas.width/g.canvasZoom,g.canvas.height/g.canvasZoom);A.rotate(-z.angle);A.translate(-Da,-ca);A.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ja=ig(g),wa=ja[0],M=ja[1],ya=ja[2],Da=ja[3],ja=(wa+ya)/2+ca.scrollX,ca=(M+Da)/2+ca.scrollY,wa=(ya-wa)/2-(g.x-wa),M=(Da-M)/2-(g.y-M),A.translate(ja,ca),A.rotate(g.angle),A.translate(-wa,-M),fi(g,z,A),A.translate(wa,M),A.rotate(-g.angle),A.translate(-ja,-ca);break;default:throw Error("Unimplemented type ".concat(g.type));
}},yh=function(){function g(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return g.mapElementToScene=function(z,A){"string"==typeof z?this.sceneMapById.set(z,A):this.sceneMapByElement.set(z,A)},g.getScene=function(z){return"string"==typeof z?this.sceneMapById.get(z)||null:this.sceneMapByElement.get(z)||null},g.prototype.getElementsIncludingDeleted=function(){return this.elements},g.prototype.getElements=function(){return this.nonDeletedElements},g.prototype.getElement=
function(z){return this.elementsMap.get(z)||null},g.prototype.getNonDeletedElement=function(z){return(z=this.getElement(z))&&!z.isDeleted?z:null},g.prototype.getNonDeletedElements=function(z){var A=this,M=[];return z.forEach(function(ca){ca=A.getNonDeletedElement(ca);null!=ca&&M.push(ca)}),M},g.prototype.replaceAllElements=function(z){var A=this;this.elements=z;this.elementsMap.clear();z.forEach(function(M){A.elementsMap.set(M.id,M);g.mapElementToScene(M,A)});this.nonDeletedElements=ge(this.elements);
this.informMutation()},g.prototype.informMutation=function(){for(var z=0,A=Array.from(this.callbacks);z<A.length;z++)(0,A[z])()},g.prototype.addCallback=function(z){var A=this;if(this.callbacks.has(z))throw Error();return this.callbacks.add(z),function(){if(!A.callbacks.has(z))throw Error();A.callbacks.delete(z)}},g.prototype.destroy=function(){var z=this;g.sceneMapById.forEach(function(A,M){A===z&&g.sceneMapById.delete(M)});this.callbacks.clear()},g}();yh.sceneMapByElement=new WeakMap;yh.sceneMapById=
new Map;var Pm=new Se(Date.now()),Zj=function(){return Math.floor(Pm.next()*Math.pow(2,31))},xi=function(){return((g=21)=>{let z="",A=crypto.getRandomValues(new Uint8Array(g));for(;g--;){let M=63&A[g];z+=36>M?M.toString(36):62>M?(M-26).toString(36).toUpperCase():63>M?"_":"-"}return z})()},jf=function(g,z){var A,M=!1,ca=z.points,ja;for(ja in void 0!==ca&&(z=zb(zb({},function(sb){var dc=sb.map(function(Yb){return Yb[0]});sb=sb.map(function(Yb){return Yb[1]});return{width:Math.max.apply(Math,dc)-Math.min.apply(Math,
dc),height:Math.max.apply(Math,sb)-Math.min.apply(Math,sb)}}(ca)),z)),z){var ya=z[ja];if(void 0!==ya&&(g[ja]!==ya||"object"==typeof ya&&null!==ya&&"groupIds"!==ja)){if("points"===ja){var wa=g[ja],Da=ya;if(wa.length===Da.length){for(var Pa=!1,Ka=wa.length;--Ka;){var lb=wa[Ka],rb=Da[Ka];if(lb[0]!==rb[0]||lb[1]!==rb[1]){Pa=!0;break}}if(!Pa)continue}}g[ja]=ya;M=!0}}M&&(void 0===z.height&&void 0===z.width&&void 0===ca||wi.delete(g),g.version++,g.versionNonce=Zj(),null===(A=yh.getScene(g))||void 0===A||
A.informMutation())},yg=function(g,z){return zb(zb(zb({},g),z),{},{version:g.version+1,versionNonce:Zj()})},Rh=function(g){return Fg(g)?2>g.points.length:0===g.width&&0===g.height},Ye=function(g,z,A){var M=Math.abs(z),ca=Math.abs(A);"line"===g||"arrow"===g||"draw"===g?(g=Math.round(Math.atan(ca/M)/hc.ay)*hc.ay,0===g?A=0:g===Math.PI/2?z=0:A=Math.round(M*Math.tan(g))*Math.sign(A)||A):"selection"!==g&&(A=M*Math.sign(A));return{width:z,height:A}},Ml=function(g){var z={width:g.width,height:g.height,x:g.x,
y:g.y};if(0>g.width){var A=Math.abs(g.width);z.width=A;z.x=g.x-A}0>g.height&&(A=Math.abs(g.height),z.height=A,z.y=g.y-A);return z},Of=f(5474),Vh=f.n(Of),zl=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},bk=function(g,z,A){var M,ca;A=A.filter(function(ja){return ja.groupIds.includes(g)});return 2>A.length?z.selectedGroupIds[g]||z.editingGroupId===g?cb(cb({},z),{},{selectedGroupIds:cb(cb({},z.selectedGroupIds),{},(M={},M[g]=!1,M)),editingGroupId:null}):z:cb(cb({},
z),{},{selectedGroupIds:cb(cb({},z.selectedGroupIds),{},(ca={},ca[g]=!0,ca)),selectedElementIds:cb(cb({},z.selectedElementIds),Object.fromEntries(A.map(function(ja){return[ja.id,!0]})))})},zh=function(g,z){return z.groupIds.filter(function(A){return A!==g.editingGroupId}).find(function(A){return g.selectedGroupIds[A]})},Li=function(g){return Object.entries(g.selectedGroupIds).filter(function(z){z[0];return z[1]}).map(function(z){var A=z[0];z[1];return A})},Wh=function(g,z){for(var A=cb({},g),M=0,
ca=uf(z,g);M<ca.length;M++){var ja=ca[M].groupIds;if(g.editingGroupId){var ya=ja.indexOf(g.editingGroupId);-1<ya&&(ja=ja.slice(0,ya))}0<ja.length&&(A=bk(ja[ja.length-1],A,z))}return A},ck=function(g,z){return g.filter(function(A){return A.groupIds.includes(z)})},yj=function(g,z){var A,M,ca=z.x,ja=z.y,ya=z.strokeColor,wa=z.backgroundColor,Da=z.fillStyle,Pa=z.strokeWidth,Ka=z.strokeStyle,lb=z.roughness,rb=z.opacity,sb=z.width;sb=void 0===sb?0:sb;var dc=z.height;dc=void 0===dc?0:dc;var Yb=z.angle;Yb=
void 0===Yb?0:Yb;var zc=z.groupIds;zc=void 0===zc?[]:zc;var ed=z.strokeSharpness,id=z.boundElementIds;id=void 0===id?null:id;z=Vh()(z,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:z.id||xi(),type:g,x:ca,y:ja,width:sb,height:dc,angle:Yb,strokeColor:ya,backgroundColor:wa,fillStyle:Da,strokeWidth:Pa,strokeStyle:Ka,roughness:lb,opacity:rb,groupIds:zc,strokeSharpness:ed,seed:null!==
(A=z.seed)&&void 0!==A?A:Zj(),version:z.version||1,versionNonce:null!==(M=z.versionNonce)&&void 0!==M?M:0,isDeleted:!1,boundElementIds:id}},Ol=function(g){return yj(g.type,g)},Xh=function(g,z){return{x:"center"===g.textAlign?z.width/2:"right"===g.textAlign?z.width:0,y:"middle"===g.verticalAlign?z.height/2:0}},Kj=function(g){var z=Wi(g.text,Vi(g)),A=Xh(g,z);return yg(Ha(Ha({},yj("text",g)),{},{text:g.text,fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:g.textAlign,verticalAlign:g.verticalAlign,
x:g.x-A.x,y:g.y-A.y,width:z.width,height:z.height,baseline:z.baseline}),{})},Te=function(g){return Ha(Ha({},yj(g.type,g)),{},{points:g.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:g.startArrowhead,endArrowhead:g.endArrowhead})},Lj=function(g,z){if(void 0===z&&(z=0),null==g||"object"!=typeof g)return g;if("[object Object]"===Object.prototype.toString.call(g)){var A="function"==typeof g.constructor?Object.create(Object.getPrototypeOf(g)):{},M;for(M in g)g.hasOwnProperty(M)&&
(0!==z||"shape"!==M&&"canvas"!==M)&&(A[M]=Lj(g[M],z+1));return A}if(Array.isArray(g)){A=g.length;for(M=Array(A);A--;)M[A]=Lj(g[A],z+1);return M}return g},Yi=function(g,z,A,M){A=Lj(A);return A.id=xi(),A.seed=Zj(),A.groupIds=function(ca,ja,ya){var wa=zl([],ca);ja=ja?ca.indexOf(ja):-1;ca=-1<ja?ja:ca.length;for(ja=0;ja<ca;ja++)wa[ja]=ya(wa[ja]);return wa}(A.groupIds,g,function(ca){return z.has(ca)||z.set(ca,xi()),z.get(ca)}),M&&(A=Object.assign(A,M)),A},Re={mouse:8,pen:16,touch:28},Al={e:!0,s:!0,n:!0,
w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},eh=function(g,z,A,M,ca,ja,ya){g=Hf(g+A/2,z+M/2,ca,ja,ya);return[g[0]-A/2,g[1]-M/2,A,M]},Fk=function(g,z,A,M,ca){var ja=g[0],ya=g[1],wa=g[2];g=g[3];void 0===ca&&(ca={});var Da=Re[M];M=Da/A.value;var Pa=Da/A.value,Ka=Da/A.value,lb=Da/A.value,rb=wa-ja,sb=g-ya,dc=(ja+wa)/2,Yb=(ya+g)/2,zc=4/A.value;Da=(Da-8)/(2*A.value);var ed={nw:ca.nw?void 0:eh(ja-zc-Ka+Da,ya-zc-lb+Da,M,Pa,dc,Yb,z),ne:ca.ne?void 0:
eh(wa+zc-Da,ya-zc-lb+Da,M,Pa,dc,Yb,z),sw:ca.sw?void 0:eh(ja-zc-Ka+Da,g+zc-Da,M,Pa,dc,Yb,z),se:ca.se?void 0:eh(wa+zc-Da,g+zc-Da,M,Pa,dc,Yb,z),rotation:ca.rotation?void 0:eh(ja+rb/2-M/2,ya-zc-lb+Da-16/A.value,M,Pa,dc,Yb,z)};A=5*Re.mouse/A.value;return Math.abs(rb)>A&&(ca.n||(ed.n=eh(ja+rb/2-M/2,ya-zc-lb+Da,M,Pa,dc,Yb,z)),ca.s||(ed.s=eh(ja+rb/2-M/2,g+zc-Da,M,Pa,dc,Yb,z))),Math.abs(sb)>A&&(ca.w||(ed.w=eh(ja-zc-Ka+Da,ya+sb/2-Pa/2,M,Pa,dc,Yb,z)),ca.e||(ed.e=eh(wa+zc-Da,ya+sb/2-Pa/2,M,Pa,dc,Yb,z))),ed},
wj=function(g,z,A){void 0===A&&(A="mouse");var M={};if("arrow"===g.type||"line"===g.type||"draw"===g.type){if(2===g.points.length){var ca=g.points[1];0===ca[0]||0===ca[1]?M=zj:0<ca[0]&&0>ca[1]?M=Yh:0<ca[0]&&0<ca[1]?M=zj:0>ca[0]&&0<ca[1]?M=Yh:0>ca[0]&&0>ca[1]&&(M=zj)}}else"text"===g.type&&(M=Ql);return Fk(ig(g),g.angle,z,A,M)},zi=function(g,z){return[0,0,0,0,z,g,1,0]},Yg=function(g,z){void 0===g&&(g=0);void 0===z&&(z=0);var A=[0,0,0,0,0,0,0,0];if(0>z||7<z)throw Error("Expected `index` betwen 0 and 7, got `".concat(z,
"`"));return 0!==g&&(A[z]=g),A},Ih=function(g){return[g[0],g[1],g[2],g[3],-g[4],-g[5],-g[6],-g[7]]},yl=function(g,z){return"number"==typeof z?[g[0]-z,g[1],g[2],g[3],g[4],g[5],g[6],g[7]]:[g[0]-z[0],g[1]-z[1],g[2]-z[2],g[3]-z[3],g[4]-z[4],g[5]-z[5],g[6]-z[6],g[7]-z[7]]},Jk=function(g,z){return"number"==typeof z?[g[0]*z,g[1]*z,g[2]*z,g[3]*z,g[4]*z,g[5]*z,g[6]*z,g[7]*z]:[z[0]*g[0]+z[2]*g[2]+z[3]*g[3]-z[6]*g[6],z[1]*g[0]+z[0]*g[1]-z[4]*g[2]+z[5]*g[3]+z[2]*g[4]-z[3]*g[5]-z[7]*g[6]-z[6]*g[7],z[2]*g[0]+z[0]*
g[2]-z[6]*g[3]+z[3]*g[6],z[3]*g[0]+z[6]*g[2]+z[0]*g[3]-z[2]*g[6],z[4]*g[0]+z[2]*g[1]-z[1]*g[2]+z[7]*g[3]+z[0]*g[4]+z[6]*g[5]-z[5]*g[6]+z[3]*g[7],z[5]*g[0]-z[3]*g[1]+z[7]*g[2]+z[1]*g[3]-z[6]*g[4]+z[0]*g[5]+z[4]*g[6]+z[2]*g[7],z[6]*g[0]+z[3]*g[2]-z[2]*g[3]+z[0]*g[6],z[7]*g[0]+z[6]*g[1]+z[5]*g[2]+z[4]*g[3]+z[3]*g[4]+z[2]*g[5]+z[1]*g[6]+z[0]*g[7]]},gk=function(g,z){return[Mj(g,z),g[1]*z[7]+g[4]*z[5]-g[5]*z[4]+g[7]*z[1],g[2]*z[7]-g[4]*z[6]+g[6]*z[4]+g[7]*z[2],g[3]*z[7]+g[5]*z[6]-g[6]*z[5]+g[7]*z[3],g[4]*
z[7]+g[7]*z[4],g[5]*z[7]+g[7]*z[5],g[6]*z[7]+g[7]*z[6],g[7]*z[7]]},Mj=function(g,z){return g[0]*z[7]+g[1]*z[6]+g[2]*z[5]+g[3]*z[4]+g[4]*z[3]+g[5]*z[2]+g[6]*z[1]+g[7]*z[0]},Sm=function(g){return Math.sqrt(Math.abs(g[0]*g[0]-g[2]*g[2]-g[3]*g[3]+g[6]*g[6]))},lj=function(g){var z=Sm(g);return 0===z||1===z?g:Jk(g,(0>g[6]?-1:1)/z)},Nl=(Yg(1,1),Yg(1,2),Yg(1,3),Yg(1,4),Yg(1,5),Yg(1,6),Yg(1,7),function(g,z,A){return lj([0,A,g,z,0,0,0,0])}),dk=function(g,z){return A=g,[(M=z)[0]*A[0]+M[2]*A[2]+M[3]*A[3]-M[6]*
A[6],M[1]*A[0]+M[0]*A[1]-M[4]*A[2]+M[5]*A[3]+M[2]*A[4]-M[3]*A[5]-M[7]*A[6]-M[6]*A[7],M[2]*A[0]+M[0]*A[2]-M[6]*A[3]+M[3]*A[6],M[3]*A[0]+M[6]*A[2]+M[0]*A[3]-M[2]*A[6],M[4]*A[0]+M[7]*A[3]+M[0]*A[4]+M[3]*A[7],M[5]*A[0]+M[7]*A[2]+M[0]*A[5]+M[2]*A[7],M[6]*A[0]+M[0]*A[6],M[7]*A[0]+M[0]*A[7]];var A,M},ek=function(g){return[0,0,0,0,g[1],g[0],1,0]},hi=function(g){return[g[5],g[4]]},oj=function(g,z){return A=Jk(g,Math.sin(z/2)),M=Math.cos(z/2),"number"==typeof M?[A[0]+M,A[1],A[2],A[3],A[4],A[5],A[6],A[7]]:[A[0]+
M[0],A[1]+M[1],A[2]+M[2],A[3]+M[3],A[4]+M[4],A[5]+M[5],A[6]+M[6],A[7]+M[7]];var A,M},Ni=function(g,z){return lj(Jk(Jk(g,z),Ih(g)))},Lk=function(g,z,A,M){var ca=10/z.zoom.value;return!fk(g,z,[A,M])&&Rl(g,[A,M],ca)},fk=function(g,z,A){z=10/z.zoom.value;if("text"===g.type)var M=dm;else"arrow"===g.type?M=!1:(M="transparent"!==g.backgroundColor,M="line"===g.type||"draw"===g.type?M&&ei(g.points):M),M=M?ik:Ik;return nj({element:g,point:A,threshold:z,check:M})},Rl=function(g,z,A){var M=z[0],ca=z[1],ja=ig(g);
z=ja[0];var ya=ja[1],wa=ja[2];ja=ja[3];M=Hf(M,ca,(z+wa)/2,(ya+ja)/2,-g.angle);g=M[0];M=M[1];return g>z-A&&g<wa+A&&M>ya-A&&M<ja+A},Mk=function(g,z){var A=z.x;z=z.y;var M=Zi(g,g.width,g.height);return nj({element:g,point:[A,z],threshold:M,check:Gn})},Zi=function(g,z,A){return Math.max(16,Math.min(.25*("diamond"===g.type?1/Math.sqrt(2):1)*Math.min(z,A),32))},nj=function(g){switch(g.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var z=cm(g.element,g.point);return g.check(z,g.threshold);
case "arrow":case "line":case "draw":return eo(g);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(g,z){switch(g.type){case "rectangle":case "text":var A=Ui(g,z),M=A[1],ca=A[2];g=Math;z=g.max;A=Nl(0,1,-A[3]);A=Mj(M,A);ca=Nl(1,0,-ca);M=Mj(M,ca);return z.call(g,A,M);case "diamond":return M=Ui(g,z),g=M[1],z=M[2],M=M[3],z=Nl(M,z,-M*z),Mj(g,z);case "ellipse":return g=qn(g,z),z=g[1],-Math.sign(z[1])*Mj(g[0],z)}},dm=function(g,z){return 0>
g},ik=function(g,z){return g<z},Ik=function(g,z){return Math.abs(g)<z},Gn=function(g,z){return 0<=g&&g<z},qn=function(g,z){z=Ui(g,z);g=z[1];var A=z[2],M=z[3];z=hi(g);var ca=z[0],ja=z[1],ya=.707,wa=.707;[0,1,2,3].forEach(function(Da){Da=(A*A-M*M)*Math.pow(ya,3)/A;var Pa=(M*M-A*A)*Math.pow(wa,3)/M,Ka=ca-Da,lb=ja-Pa,rb=Math.hypot(M*wa-Pa,A*ya-Da),sb=Math.hypot(lb,Ka);ya=Math.min(1,Math.max(0,(Ka*rb/sb+Da)/A));wa=Math.min(1,Math.max(0,(lb*rb/sb+Pa)/M));Da=Math.hypot(wa,ya);ya/=Da;wa/=Da});z=zi(A*ya,M*
wa);return[g,dk(lj(gk(z,g)),z)]},eo=function(g){var z=g.element,A=g.threshold;if(!wi.get(z))return!1;var M=Ui(g.element,g.point),ca=M[0],ja=M[1],ya=M[2];M=Nl(0,1,-M[3]);ya=Nl(1,0,-ya);if(!ik(Mj(ja,M),A)||!ik(Mj(ja,ya),A))return!1;ca=hi(ca);var wa=ca[0],Da=ca[1];ca=wi.get(z);return g.check===ik&&ca.some(function(Pa){var Ka=z.strokeSharpness;var lb=[],rb=!1,sb=0;for(Pa=Hi(Pa);sb<Pa.length;sb++){var dc=Pa[sb];"move"===dc.op?(rb=!rb)&&lb.push([dc.data[0],dc.data[1]]):"bcurveTo"===dc.op&&rb&&(lb.push([dc.data[0],
dc.data[1]]),lb.push([dc.data[2],dc.data[3]]),lb.push([dc.data[4],dc.data[5]]))}4<=lb.length?"sharp"===Ka?Ka=Ei(lb,wa,Da):(Ka=G(lb,10,5),Ka=Ei(Ka,wa,Da)):Ka=!1;return Ka})?!0:ca.some(function(Pa){return Xk(Pa,wa,Da,A)})},Ui=function(g,z){var A,M=ek(z);z=ig(g);var ca=Sl(z),ja=oj(ca,g.angle);M=Ni(ja,M);ca=yl(M,[0,0,0,0,ca[4],ca[5],0,0]);ca=[0,0,0,0,Math.abs(ca[4]),Math.abs(ca[5]),1,0];g=(A=g.x,[0,0,0,0,g.y,A,0,0]);return[yl(M,g),ca,(z[2]-z[0])/2,(z[3]-z[1])/2]},Ll=function(g){var z=ig(g);z=Sl(z);g=
oj(z,g.angle);z=[0,0,0,0,z[4],z[5],0,0];z=Ih([1,0,0,0,-.5*z[5],.5*z[4],0,0]);return Jk(z,g)},Sl=function(g){return zi((g[0]+g[2])/2,(g[1]+g[3])/2)},Ak=function(g,z,A,M){switch(void 0===M&&(M=0),g.type){case "rectangle":case "text":case "diamond":var ca=Ag(g);var ja=ca.flatMap(function(ya,wa){wa=[ya,ca[(wa+1)%4]];var Da=M;ya=wa[0];wa=wa[1];var Pa=[0,0,0,0,wa[4]-ya[4],wa[5]-ya[5],0,0];var Ka=Math.sqrt(Math.abs(Pa[7]*Pa[7]-Pa[5]*Pa[5]-Pa[4]*Pa[4]+Pa[1]*Pa[1]));Pa=0===Ka||1===Ka?Pa:Jk(Pa,1/Ka);Da*=.5;
Da=[1,0,0,0,Da*Pa[4],Da*Pa[5],0,0];wa=[Ni(Da,ya),Ni(Da,wa)];ya=wa[0];wa=wa[1];if(0<=Mj(ya,z)*Mj(wa,z))var lb=[];else{a:{ya=lj(gk(wa,ya));ya=lj((lb=z,[(rb=ya)[0]*lb[0],rb[1]*lb[0]+rb[0]*lb[1],rb[2]*lb[0]+rb[0]*lb[2],rb[3]*lb[0]+rb[0]*lb[3],rb[4]*lb[0]+rb[2]*lb[1]-rb[1]*lb[2]+rb[0]*lb[4],rb[5]*lb[0]-rb[3]*lb[1]+rb[1]*lb[3]+rb[0]*lb[5],rb[6]*lb[0]+rb[3]*lb[2]-rb[2]*lb[3]+rb[0]*lb[6],rb[7]*lb[0]+rb[6]*lb[1]+rb[5]*lb[2]+rb[4]*lb[3]+rb[3]*lb[4]+rb[2]*lb[5]+rb[1]*lb[6]]));break a;var rb}lb=[ya]}return lb}).concat(ca.flatMap(function(ya){var wa=
M;if(0===wa)var Da=0===Mj(z,ya)?[ya]:[];else{Da=z[2];var Pa=z[3],Ka=z[1],lb=hi(ya);ya=lb[0];var rb=lb[1];lb=Da*Da+Pa*Pa;wa=wa*wa*lb-Math.pow(Da*ya+Pa*rb+Ka,2);if(0===lb||0>=wa)Da=[];else{wa=Math.sqrt(wa);var sb=ya*Pa*Pa-rb*Da*Pa-Da*Ka;Ka=rb*Da*Da-ya*Da*Pa-Pa*Ka;Da=[zi((sb+Pa*wa)/lb,(Ka-Da*wa)/lb),zi((sb-Pa*wa)/lb,(Ka+Da*wa)/lb)]}}return Da}));break;case "ellipse":ja=Fi(g,M,z)}if(2>ja.length)return[];g=ja.sort(function(ya,wa){return Sm(gk(ya,A))-Sm(gk(wa,A))});return[g[0],g[g.length-1]]},Ag=function(g,
z){void 0===z&&(z=1);var A=z*g.width/2;z=z*g.height/2;switch(g.type){case "rectangle":case "text":return[zi(A,z),zi(A,-z),zi(-A,-z),zi(-A,z)];case "diamond":return[zi(0,z),zi(A,0),zi(0,-z),zi(-A,0)]}},Fi=function(g,z,A){var M=g.width/2+z;g=g.height/2+z;z=A[2];var ca=A[3],ja=A[1];A=M*M*z*z+g*g*ca*ca;var ya=A-ja*ja;if(0===A||0>=ya)return[];ya=Math.sqrt(ya);var wa=-M*M*z*ja;ja*=-g*g*ca;return[zi((wa+M*g*ca*ya)/A,(ja-M*g*z*ya)/A),zi((wa-M*g*ca*ya)/A,(ja+M*g*z*ya)/A)]},oh=function(g,z,A){var M=Math.sign(z),
ca=0,ja=null;return Ag(g,Math.abs(z)).forEach(function(ya){var wa=M*lj(gk(ya,A))[1];wa>ca&&(ca=wa,ja=ya)}),ja},Xk=function(g,z,A,M){var ca=[0,0];return Hi(g).some(function(ja,ya){ya=ja.op;var wa=ja.data;if("move"===ya)ca=wa;else if("bcurveTo"===ya){ja=[wa[0],wa[1]];ya=[wa[2],wa[3]];wa=[wa[4],wa[5]];var Da=ca;return ca=wa,function(Pa,Ka,lb,rb,sb,dc){var Yb=sb[0];sb=sb[1];for(var zc=function(le,ke){return Math.pow(1-le,3)*rb[ke]+3*le*Math.pow(1-le,2)*lb[ke]+3*Math.pow(le,2)*(1-le)*Ka[ke]+Pa[ke]*Math.pow(le,
3)},ed=0;1>=ed;){var id=zc(ed,0),vd=zc(ed,1);if(Math.sqrt(Math.pow(id-Yb,2)+Math.pow(vd-sb,2))<dc)return!0;ed+=.01}return!1}(Da,ja,ya,wa,[z,A],M)}return!1})},dh=function(g,z,A){return z>=g[0]&&z<=g[0]+g[2]&&A>=g[1]&&A<=g[1]+g[3]},Oi=function(g,z,A,M,ca,ja){return g.reduce(function(ya,wa){return ya?ya:(ya=function(Da,Pa,Ka,lb,rb,sb){if(!Pa.selectedElementIds[Da.id])return!1;Da=wj(Da,rb,sb);Pa=Da.rotation;var dc=Vh()(Da,["rotation"]);if(Pa&&dh(Pa,Ka,lb))return"rotation";Da=Object.keys(dc).filter(function(Yb){Yb=
dc[Yb];return!!Yb&&dh(Yb,Ka,lb)});return 0<Da.length&&Da[0]}(wa,z,A,M,ca,ja))?{element:wa,transformHandleType:ya}:null},null)},of=function(g,z,A,M,ca){var ja=Fk([g[0],g[1],g[2],g[3]],0,M,ca,Al);return Object.keys(ja).find(function(ya){return(ya=ja[ya])&&dh(ya,z,A)})||!1},Ah=["ns","nesw","ew","nwse"],Ie=function(g){var z=g.element,A=z&&-1==Math.sign(z.height)*Math.sign(z.width),M=null;switch(g.transformHandleType){case "n":case "s":M="ns";break;case "w":case "e":M="ew";break;case "nw":case "se":M=
A?"nesw":"nwse";break;case "ne":case "sw":M=A?"nwse":"nesw";break;case "rotation":return"grab"}M&&z&&(g=M,z=z.angle,A=Ah.indexOf(g),0<=A&&(g=Ah[(A+Math.round(z/(Math.PI/4)))%Ah.length]),M=g);return M?"".concat(M,"-resize"):""},dl=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},dg=function(){function g(z,A){this.elementId=z.id;yh.mapElementToScene(this.elementId,A);g.normalizePoints(z);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return g.getElement=function(z){var A;return(null===(A=yh.getScene(z))||void 0===A?void 0:A.getNonDeletedElement(z))||null},g.handlePointDragging=function(z,A,M,ca,ja){if(!z.editingLinearElement)return!1;var ya=z.editingLinearElement,wa=ya.activePointIndex,Da=ya.isDragging,Pa=g.getElement(ya.elementId);return Pa?null!=wa&&-1<wa?(!1===Da&&A({editingLinearElement:hb(hb({},ya),{},{isDragging:!0})}),z=g.createPointAt(Pa,M-ya.pointerOffset.x,
ca-ya.pointerOffset.y,z.gridSize),g.movePoint(Pa,wa,z),og(Pa)&&ja(Pa,0===wa?"start":"end"),!0):!1:!1},g.handlePointerUp=function(z,A,M){z=A.activePointIndex;var ca=A.isDragging,ja=g.getElement(A.elementId);if(!ja)return A;var ya={};!ca||0!==z&&z!==ja.points.length-1||(ei(ja.points,M.zoom.value)&&g.movePoint(ja,z,0===z?ja.points[ja.points.length-1]:ja.points[0]),ca=M.isBindingEnabled?bi(Dg(g.getPointAtIndexGlobalCoordinates(ja,z)),yh.getScene(ja)):null,(M={})[0===z?"startBindingElement":"endBindingElement"]=
ca,ya=M);return hb(hb(hb({},A),ya),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},g.handlePointerDown=function(z,A,M,ca,ja){var ya={didAddPoint:!1,hitElement:null};if(!A.editingLinearElement)return ya;var wa=g.getElement(A.editingLinearElement.elementId);if(!wa)return ya;if(z.altKey)return null==A.editingLinearElement.lastUncommittedPoint&&jf(wa,{points:dl(dl([],wa.points),[g.createPointAt(wa,ja.x,ja.y,A.gridSize)])}),ca.resumeRecording(),M({editingLinearElement:hb(hb({},A.editingLinearElement),{},
{activePointIndex:wa.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(ja,yh.getScene(wa))})}),ya.didAddPoint=!0,ya;z=g.getPointIndexUnderCursor(wa,A.zoom,ja.x,ja.y);if(-1<z)ya.hitElement=wa;else{var Da=A.editingLinearElement;ca=Da.startBindingElement;Da=Da.endBindingElement;A.isBindingEnabled&&og(wa)&&Pf(wa,ca,Da)}Da=ig(wa);ca=(Da[0]+Da[2])/2;Da=(Da[1]+Da[3])/2;wa=-1<z&&Hf(wa.x+wa.points[z][0],wa.y+wa.points[z][1],ca,Da,wa.angle);return M({editingLinearElement:hb(hb({},A.editingLinearElement),
{},{activePointIndex:-1<z?z:null,pointerOffset:wa?{x:ja.x-wa[0],y:ja.y-wa[1]}:{x:0,y:0}})}),ya},g.handlePointerMove=function(z,A,M,ca,ja){var ya=ca.lastUncommittedPoint,wa=g.getElement(ca.elementId);if(!wa)return ca;var Da=wa.points,Pa=Da[Da.length-1];if(!z.altKey)return Pa===ya&&g.movePoint(wa,Da.length-1,"delete"),hb(hb({},ca),{},{lastUncommittedPoint:null});z=g.createPointAt(wa,A-ca.pointerOffset.x,M-ca.pointerOffset.y,ja);return Pa===ya?g.movePoint(wa,wa.points.length-1,z):g.movePoint(wa,"new",
z),hb(hb({},ca),{},{lastUncommittedPoint:wa.points[wa.points.length-1]})},g.getPointsGlobalCoordinates=function(z){var A=ig(z),M=(A[0]+A[2])/2,ca=(A[1]+A[3])/2;return z.points.map(function(ja){var ya;return[(ya=Hf(z.x+ja[0],z.y+ja[1],M,ca,z.angle))[0],ya[1]]})},g.getPointAtIndexGlobalCoordinates=function(z,A){var M=0>A?z.points.length+A:A;A=ig(z);M=z.points[M];return Hf(z.x+M[0],z.y+M[1],(A[0]+A[2])/2,(A[1]+A[3])/2,z.angle)},g.pointFromAbsoluteCoords=function(z,A){var M=ig(z);A=Hf(A[0],A[1],(M[0]+
M[2])/2,(M[1]+M[3])/2,-z.angle);return[A[0]-z.x,A[1]-z.y]},g.getPointIndexUnderCursor=function(z,A,M,ca){z=this.getPointsGlobalCoordinates(z);for(var ja=z.length;-1<--ja;){var ya=z[ja];if(Math.hypot(ya[0]-M,ya[1]-ca)*A.value<this.POINT_HANDLE_SIZE/2+1)return ja}return-1},g.createPointAt=function(z,A,M,ca){A=ri(A,M,ca);M=ig(z);A=Hf(A[0],A[1],(M[0]+M[2])/2,(M[1]+M[3])/2,-z.angle);return[A[0]-z.x,A[1]-z.y]},g.normalizePoints=function(z){var A=z.points,M=A[0][0],ca=A[0][1];jf(z,{points:A.map(function(ja,
ya){return[ja[0]-M,ja[1]-ca]}),x:z.x+M,y:z.y+ca})},g.movePointByOffset=function(z,A,M){var ca=z.points[A];g.movePoint(z,A,[ca[0]+M.x,ca[1]+M.y])},g.movePoint=function(z,A,M,ca){var ja=z.points,ya=0,wa=0;if("delete"===M){if("new"===A)throw Error("invalid args in movePoint");(M=ja.slice()).splice(A,1);0===A&&(ya=M[0][0],wa=M[0][1],M=M.map(function(lb,rb){return 0===rb?[0,0]:[lb[0]-ya,lb[1]-wa]}))}else if("new"===A)M=dl(dl([],ja),[M]);else{var Da=M[0]-ja[A][0],Pa=M[1]-ja[A][1];M=ja.map(function(lb,rb){return rb===
A?0===rb?(ya=Da,wa=Pa,lb):(ya=0,wa=0,[lb[0]+Da,lb[1]+Pa]):ya||wa?[lb[0]-ya,lb[1]-wa]:lb})}var Ka=Be(z,M,z.strokeSharpness||"round");ja=Be(z,ja,z.strokeSharpness||"round");ja=Hf(ya,wa,(ja[0]+ja[2])/2-(Ka[0]+Ka[2])/2,(ja[1]+ja[3])/2-(Ka[1]+Ka[3])/2,z.angle);jf(z,hb(hb({},ca),{},{points:M,x:z.x+ja[0],y:z.y+ja[1]}))},g}();dg.POINT_HANDLE_SIZE=20;var Um=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},Pf=function(g,z,A){var M=new Set,ca=new Set;Gg(g,z,A,"start",M,ca);
Gg(g,A,z,"end",M,ca);z=Array.from(ca).filter(function(ja){return!M.has(ja)});yh.getScene(g).getNonDeletedElements(z).forEach(function(ja){var ya;jf(ja,{boundElementIds:null===(ya=ja.boundElementIds)||void 0===ya?void 0:ya.filter(function(wa){return wa!==g.id})})})},Gg=function(g,z,A,M,ca,ja){if("keep"!==z)if(null!=z)null!=A&&("keep"===A?Ef(g,z,M):"start"!==M&&A.id===z.id)||(Dj(g,z,M),ca.add(z.id));else{var ya;z="start"===M?"startBinding":"endBinding";A=g[z];g=null==A?null:(jf(g,((ya={})[z]=null,ya)),
A.elementId);null!=g&&ja.add(g)}},vg=function(g){g.forEach(function(z){og(z)?Pf(z,Mg(z,"start"),Mg(z,"end")):yk(z)&&em(z)})},em=function(g){sh(g).forEach(function(z){var A=z[1];return Pf(z[0],"end"===A?"keep":g,"start"===A?"keep":g)})},jk=function(g,z,A,M){null!=z.startBoundElement&&Dj(g,z.startBoundElement,"start");z=bi(M,A);null==z||Ef(g,z,"end")||Dj(g,z,"end")},Dj=function(g,z,A){var M,ca;jf(g,((M={})["start"===A?"startBinding":"endBinding"]=function(ja){for(var ya=1;ya<arguments.length;ya++){var wa=
null!=arguments[ya]?arguments[ya]:{};ya%2?Vb(Object(wa),!0).forEach(function(Da){pd()(ja,Da,wa[Da])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ja,Object.getOwnPropertyDescriptors(wa)):Vb(Object(wa)).forEach(function(Da){Object.defineProperty(ja,Da,Object.getOwnPropertyDescriptor(wa,Da))})}return ja}({elementId:z.id},af(g,z,A)),M));jf(z,{boundElementIds:Array.from(new Set(Um(Um([],null!==(ca=z.boundElementIds)&&void 0!==ca?ca:[]),[g.id])))})},Ef=function(g,z,A){A=g["start"===A?"endBinding":
"startBinding"];return(null==A?void 0:A.elementId)===z.id&&3>g.points.length},ih=function(g){g.forEach(function(z){og(z)&&Pf(z,null,null)})},bi=function(g,z){return ni(z.getElements(),function(A){return yk(A)&&Mk(A,g)})},af=function(g,z,A){var M="start"===A?-1:1;A=-1===M?0:g.points.length-1;M=A-M;A=dg.getPointAtIndexGlobalCoordinates(g,A);M=dg.getPointAtIndexGlobalCoordinates(g,M);a:{g=Ll(z);M=Ni(g,ek(M));g=Ni(g,ek(A));var ca=lj(gk(g,M));g=z.height/z.width;M=z.width/2;var ja=z.height/2,ya=ca[2],wa=
ca[3];ca=ca[1];var Da=Math.abs(wa),Pa=Math.abs(ya);switch(z.type){case "rectangle":case "text":g=ca/(M*(Pa+g*Da));break a;case "diamond":g=Da<Pa?ca/(Pa*M):ca/(Da*ja);break a;case "ellipse":g=ca/(M*Math.sqrt(Math.pow(ya,2)+Math.pow(g,2)*Math.pow(wa,2)));break a}g=void 0}return{focus:g,gap:Math.max(1,cm(z,A))}},Ai=function(g,z){var A,M=null!==(A=g.boundElementIds)&&void 0!==A?A:[];if(0!==M.length){z=null!=z?z:{};var ca=z.newSize,ja=sj(z.simultaneouslyUpdated);yh.getScene(g).getNonDeletedElements(M).forEach(function(ya){var wa,
Da;if((null===(wa=ya.startBinding)||void 0===wa?void 0:wa.elementId)===g.id||(null===(Da=ya.endBinding)||void 0===Da?void 0:Da.elementId)===g.id)wa=xf(g,ya.startBinding,ca),Da=xf(g,ya.endBinding,ca),ja.has(ya.id)?jf(ya,{startBinding:wa,endBinding:Da}):(jn(ya,"start",wa,g),jn(ya,"end",Da,g))})}},sj=function(g){return new Set((g||[]).map(function(z){return z.id}))},jn=function(g,z,A,M){var ca;if(!(null==A||A.elementId!==M.id&&2<g.points.length)){var ja=yh.getScene(g).getElement(A.elementId);if(null!=
ja){var ya="start"===z?-1:1;M=-1===ya?0:g.points.length-1;var wa=dg.getPointAtIndexGlobalCoordinates(g,M-ya);ya=function(Da,Pa,Ka){if(0===Pa){var lb=ig(Da);lb=Sl(lb);return hi(lb)}lb=Ll(Da);Ka=Ni(lb,ek(Ka));lb=Ih(lb);switch(Da.type){case "rectangle":case "text":case "diamond":var rb=oh(Da,Pa,Ka);break;case "ellipse":var sb=Math.abs(Pa);rb=Da.width*sb/2;Da=Da.height*sb/2;Pa=Math.sign(Pa);sb=hi(Ka);Ka=sb[0];sb=sb[1];sb=0===sb?1E-4:sb;var dc=Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(sb,2)*Math.pow(rb,2);
Pa=(-Ka*Math.pow(Da,2)+Pa*sb*Math.sqrt(Math.max(0,dc-Math.pow(rb,2)*Math.pow(Da,2))))/dc;Ka=(-Pa*Ka-1)/sb;rb=-Math.pow(rb,2)*Pa/(Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(Pa,2)*Math.pow(rb,2));rb=zi(rb,(-Pa*rb-1)/Ka)}return hi(Ni(lb,rb))}(ja,A.focus,wa);0===A.gap?ja=ya:(ja=function(Da,Pa,Ka,lb){void 0===lb&&(lb=0);var rb=Ll(Da);Pa=Ni(rb,ek(Pa));Ka=Ni(rb,ek(Ka));Ka=lj(gk(Ka,Pa));var sb=Ih(rb);return Ak(Da,Ka,Pa,lb).map(function(dc){return hi(Ni(sb,dc))})}(ja,wa,ya,A.gap),ja=0===ja.length?ya:ja[0]);dg.movePoint(g,
M,dg.pointFromAbsoluteCoords(g,ja),((ca={})["start"===z?"startBinding":"endBinding"]=A,ca))}}},xf=function(g,z,A){if(null==z||null==A)return z;var M=z.gap,ca=z.focus,ja=A.width;A=A.height;var ya=g.width,wa=g.height;return{elementId:z.elementId,gap:Math.max(1,Math.min(Zi(g,ja,A),M*(ja<A?ja/ya:A/wa))),focus:ca}},Il=function(g){return[Mg(g,"start"),Mg(g,"end")].filter(function(z){return null!=z})},Mg=function(g,z){return bi(Dg(dg.getPointAtIndexGlobalCoordinates(g,"start"===z?0:-1)),yh.getScene(g))},
sh=function(g){return yh.getScene(g).getElements().map(function(z){if(!og(z))return null;var A=Vf(z,"start",g),M=Vf(z,"end",g);return A||M?[z,A&&M?"both":A?"start":"end",g]:null}).filter(function(z){return null!=z})},Vf=function(g,z,A){return null==g["start"===z?"startBinding":"endBinding"]&&!Ef(g,A,z)&&Mk(A,Dg(dg.getPointAtIndexGlobalCoordinates(g,"start"===z?0:-1)))},Uj=function(g,z,A,M){var ca=new Set,ja=new Set,ya="duplicatesServeAsOld"===M;z.forEach(function(wa){var Da=wa.boundElementIds;if(null!=
Da&&0<Da.length&&(Da.forEach(function(Pa){ya&&!A.has(Pa)&&ca.add(Pa)}),ja.add(A.get(wa.id))),og(wa))null!=wa.startBinding&&(Da=wa.startBinding.elementId,ya&&!A.has(Da)&&ja.add(Da)),null!=wa.endBinding&&(Da=wa.endBinding.elementId,ya&&!A.has(Da)&&ja.add(Da)),null==wa.startBinding&&null==wa.endBinding||ca.add(A.get(wa.id))});g.filter(function(wa){return ca.has(wa.id)}).forEach(function(wa){var Da=wa.endBinding;jf(wa,{startBinding:Fh(wa.startBinding,A),endBinding:Fh(Da,A)})});g.filter(function(wa){return ja.has(wa.id)}).forEach(function(wa){var Da=
wa.boundElementIds;null!=Da&&0<Da.length&&jf(wa,{boundElementIds:Da.map(function(Pa){var Ka;return null!==(Ka=A.get(Pa))&&void 0!==Ka?Ka:Pa})})})},Fh=function(g,z){var A;if(null==g)return null;var M=g.elementId;return{focus:g.focus,gap:g.gap,elementId:null!==(A=z.get(M))&&void 0!==A?A:M}},tj=function(g,z){var A=new Set(z.map(function(ca){return ca.id})),M=new Set;z.forEach(function(ca){var ja;yk(ca)&&(null===(ja=ca.boundElementIds)||void 0===ja||ja.forEach(function(ya){A.has(ya)||M.add(ya)}))});g.filter(function(ca){return M.has(ca.id)}).forEach(function(ca){var ja=
ca.endBinding;jf(ca,{startBinding:nm(ca.startBinding,A),endBinding:nm(ja,A)})})},nm=function(g,z){return null==g||z.has(g.elementId)?null:g},ej=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},Qf=function(g){return g>=2*Math.PI?g-2*Math.PI:g},kf=function(g,z,A){return Fg(g)?{points:Gi(0,z,Gi(1,A,g.points))}:{}},Ng=function(g,z,A){z=z/g.width*g.fontSize;if(1>z)return null;g=Wi(g.text,Vi({fontSize:z,fontFamily:g.fontFamily}));return{size:z,baseline:g.baseline+(A-g.height)}},
Jl=function(g,z,A,M){var ca=Bg(g),ja=ca[0],ya=ca[1],wa=ca[2],Da=ca[3];switch(z){case "se":var Pa=Math.max((A-ja)/(wa-ja),(M-ya)/(Da-ya));var Ka=function(rb,sb,dc){var Yb=sb[0];sb=sb[1];return{x:rb.x+(Yb-ja)*(Pa-1)+Yb-dc[0],y:rb.y+(sb-ya)*(Pa-1)+sb-dc[1]}};break;case "nw":Pa=Math.max((wa-A)/(wa-ja),(Da-M)/(Da-ya));Ka=function(rb,sb,dc){var Yb=sb[2];sb=sb[3];return{x:rb.x-(wa-Yb)*(Pa-1)+Yb-dc[2],y:rb.y-(Da-sb)*(Pa-1)+sb-dc[3]}};break;case "ne":Pa=Math.max((A-ja)/(wa-ja),(Da-M)/(Da-ya));Ka=function(rb,
sb,dc){var Yb=sb[0];sb=sb[3];return{x:rb.x+(Yb-ja)*(Pa-1)+Yb-dc[0],y:rb.y-(Da-sb)*(Pa-1)+sb-dc[3]}};break;case "sw":Pa=Math.max((wa-A)/(wa-ja),(M-ya)/(Da-ya)),Ka=function(rb,sb,dc){var Yb=sb[1];sb=sb[2];return{x:rb.x-(wa-sb)*(Pa-1)+sb-dc[2],y:rb.y+(Yb-ya)*(Pa-1)+Yb-dc[1]}}}if(0<Pa){var lb=g.reduce(function(rb,sb){if(!rb)return rb;var dc=sb.width*Pa,Yb=sb.height*Pa,zc={};if("text"===sb.type){zc=Ng(sb,dc,Yb);if(null===zc)return null;zc={fontSize:zc.size,baseline:zc.baseline}}var ed=ig(sb),id=kf(sb,
dc,Yb);Ai(sb,{newSize:{width:dc,height:Yb},simultaneouslyUpdated:g});var vd=Pg(Hc(Hc({},sb),id),dc,Yb);ed=Ka(sb,ed,vd);sb=ed.x;ed=ed.y;return ej(ej([],rb),[Hc(Hc({width:dc,height:Yb,x:sb,y:ed},id),zc)])},[]);lb&&g.forEach(function(rb,sb){jf(rb,lb[sb])})}},rl=function(g,z,A,M,ca,ja,ya){var wa=5*Math.PI/2+Math.atan2(M-ya,A-ja);ca&&(wa+=hc.ay/2,wa-=wa%hc.ay);z.forEach(function(Da,Pa){var Ka,lb,rb=ig(Da);Pa=(rb[0]+rb[2])/2;rb=(rb[1]+rb[3])/2;var sb=null!==(Ka=null===(lb=g.originalElements.get(Da.id))||
void 0===lb?void 0:lb.angle)&&void 0!==Ka?Ka:Da.angle;Ka=Hf(Pa,rb,ja,ya,wa+sb-Da.angle);jf(Da,{x:Da.x+(Ka[0]-Pa),y:Da.y+(Ka[1]-rb),angle:Qf(wa+sb)})})},li=function(g,z,A,M,ca,ja,ya,wa,Da,Pa){var Ka;Da&&(ya=(Ka=Ye(z,ya,ja<M?-wa:wa)).width,0>(wa=Ka.height)&&(wa=-wa));z=ca<A?A-ya:A;ja=ja<M?M-wa:M;Pa&&(z=A-(ya+=ya)/2,ja=M-(wa+=wa)/2);0!==ya&&0!==wa&&jf(g,{x:z,y:ja,width:ya,height:wa})},sl=function(g){return g.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(g){var z=Wi(g.text,Vi(g));jf(g,
{width:z.width,height:z.height,baseline:z.baseline})},rh=function(g,z){return!(g.viewModeEnabled||!g.editingElement&&!uf(z,g).length&&"selection"===g.elementType)},Nk=function(g){return g.filter(function(z){return z.isDeleted||!Rh(z)})},$i=function(g){return g.reduce(function(z,A){return z[A.id]=A,z},{})},cl=function(g){return g.reduce(function(z,A){return z+A.version},0)},ge=function(g){return g.filter(function(z){return!z.isDeleted})},Df=function(g){return ge(g).map(function(z){return hj(z.type)?
Dc(Dc({},z),{},{lastCommittedPoint:null}):z})},ki=function(g,z,A){var M=[g.horizontal,g.vertical].map(function(ca){return null!=ca&&ca.x<=z&&z<=ca.x+ca.width&&ca.y<=A&&A<=ca.y+ca.height});g=M[0];M=M[1];return{isOverEither:g||M,isOverHorizontal:g,isOverVertical:M}},kg=function(g,z){return g.some(function(A){return z.selectedElementIds[A.id]})},uf=function(g,z){return g.filter(function(A){return z.selectedElementIds[A.id]})},kk=function(g,z){return z.editingElement?[z.editingElement]:uf(g,z)},Xi=function(g){var z=
g.scenePoint,A=g.viewportDimensions;g=g.zoom;return{scrollX:A.width/2*(1/g.value)-z.x-1/g.value*g.translation.x,scrollY:A.height/2*(1/g.value)-z.y-1/g.value*g.translation.y}},mi=function(g,z,A){var M;if(!g.length)return{scrollX:0,scrollY:0};var ca=Bg(g);A=ca[0];var ja=ca[1],ya=ca[2];ca=ca[3];return function(wa,Da,Pa){Da=Pa[2];var Ka=Pa[3],lb=mh({sceneX:Pa[0],sceneY:Pa[1]},wa);Pa=lb.x;lb=lb.y;Da=mh({sceneX:Da,sceneY:Ka},wa);Ka=Da.y;return Da.x-Pa>wa.width||Ka-lb>wa.height}(z,0,[A,ja,ya,ca])&&(A=(M=
function(wa,Da){if(!wa.length)return[0,0,0,0];var Pa=1/0,Ka=wa[0];return wa.forEach(function(lb){var rb=si(lb);rb=Math.hypot(Da.x-(rb[0]+rb[2])/2,Da.y-(rb[1]+rb[3])/2);rb<Pa&&(Pa=rb,Ka=lb)}),si(Ka)}(g,ug({clientX:z.scrollX,clientY:z.scrollY},z)))[0],ja=M[1],ya=M[2],ca=M[3]),Xi({scenePoint:{x:(A+ya)/2,y:(ja+ca)/2},viewportDimensions:{width:z.width,height:z.height},zoom:z.zoom})},Oj=function(g){return"rectangle"===g||"ellipse"===g||"diamond"===g||"draw"===g||"line"===g},Uf=function(g){return"rectangle"===
g||"ellipse"===g||"diamond"===g||"arrow"===g||"draw"===g||"line"===g},rk=function(g){return"rectangle"===g||"arrow"===g||"draw"===g||"line"===g},ni=function(g,z){for(var A=null,M=g.length-1;0<=M;--M){var ca=g[M];if(!ca.isDeleted&&z(ca)){A=ca;break}}return A},ci=function(g,z,A,M){return void 0===M&&(M={x:0,y:0}),{value:g,translation:{x:M.x-A.left-g/z.value*(M.x-A.left-z.translation.x),y:M.y-A.top-g/z.value*(M.y-A.top-z.translation.y)}}},Sj=function(g){g=parseFloat(g.toFixed(2));return Math.max(.1,
Math.min(g,10))},gf=(f(9478),Ea().forwardRef(function(g,z){var A=Ea().useRef(null);Ea().useImperativeHandle(z,function(){return A.current});z="ToolIcon_size_".concat(g.size||"m");return"button"===g.type?Ea().createElement("button",{className:mc("ToolIcon_type_button",z,g.className,g.visible&&!g.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!g.hidden,"ToolIcon--selected":g.selected}),hidden:g.hidden,title:g.title,"aria-label":g["aria-label"],type:"button",onClick:g.onClick,
ref:A},Ea().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},g.icon||g.label,g.keyBindingLabel&&Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)),g.showAriaLabel&&Ea().createElement("div",{className:"ToolIcon__label"},g["aria-label"]),g.children):Ea().createElement("label",{className:mc("ToolIcon",g.className),title:g.title},Ea().createElement("input",{className:"ToolIcon_type_radio ".concat(z),type:"radio",name:g.name,"aria-label":g["aria-label"],
"aria-keyshortcuts":g["aria-keyshortcuts"],"data-testid":g["data-testid"],id:g.id,onChange:g.onChange,checked:g.checked,ref:A}),Ea().createElement("div",{className:"ToolIcon__icon"},g.icon,g.keyBindingLabel&&Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)))}));gf.defaultProps={visible:!0,className:""};var zg=function(g){return"light"===g?Ee.$y[4]:Ee.$y[9]},ve=function(g){return"light"===g?Ee.Sn:Ee.MA[4]},Hg=function(g){return"light"===g?Ee.ix:"#1e1e1e"},te=function(g,
z){void 0===z&&(z=512);z="number"==typeof z?{width:z}:z;var A=z.width;A=void 0===A?512:A;var M=z.height;M=void 0===M?A:M;var ca=z.mirror;z=z.style;return Ea().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(A," ").concat(M),className:mc({"rtl-mirror":ca}),style:z},"string"==typeof g?Ea().createElement("path",{fill:"currentColor",d:g}):g)},tl=te("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),De=te("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Fm=te("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=te("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=te("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=te("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Mh=te("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
th=te("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=te("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=te("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=te("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=te("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
lh=te("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=te("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),fd=te("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),$d=(te("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),te("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),te(Ea().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),td=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(g),stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Id=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(g),stroke:ve(g),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=Ea().memo(function(g){g=g.appearance;
return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ve(g),stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(g),stroke:zg(g),strokeLinejoin:"round",strokeWidth:"2"}),Ea().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ve(g),stroke:ve(g),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Gh=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,5 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,19 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Aj=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 5,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),hd=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 19,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),od=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ea().createElement("path",{d:"M19 5V19M5 5V19",stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),Og=
Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),ad=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 2,12 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Tk=Ea().memo(function(g){g=g.appearance;
return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 12,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Kl=te("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),te("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),kh=te("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),tg=te("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Vd=te("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),sf=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"M25 26H111V111H25",fill:ve(g)}),Ea().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ve(g)}),Ea().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M25 26H111V111H25",fill:ve(g)}),Ea().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ve(g)}),Ea().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ve(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Uk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ve(g)}),{width:40,height:20})}),ce=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("g",{fill:ve(g),fillRule:"evenodd",clipRule:"evenodd"},Ea().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ea().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ve(g)}),{width:40,height:20})}),aj=Ea().memo(function(g){var z=g.appearance;g=g.strokeWidth;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(z),strokeWidth:g,fill:"none"}),{width:40,height:20})}),Yd=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),el=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),uk=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fl=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Vk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=Ea().memo(function(g){var z=g.appearance;g=g.flip;g=void 0!==
g&&g;return te(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":"",stroke:ve(z),strokeWidth:2,fill:"none"},Ea().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ea().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Vm=Ea().memo(function(g){var z=g.appearance;g=g.flip;g=void 0!==g&&g;return te(Ea().createElement("g",{stroke:ve(z),fill:ve(z),transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ea().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=Ea().memo(function(g){var z=g.appearance;g=g.flip;g=void 0!==g&&g;return te(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ve(z),strokeWidth:2,fill:"none"})),{width:40,height:20})}),jg=[],ne=function(g){return jg=jg.concat(g),g},qh=function(g,z){var A;return g.editingGroupId&&(z=ck(ge(z),g.editingGroupId),
z.length)?Wc(Wc({},g),{},{selectedElementIds:(A={},A[z[0].id]=!0,A)}):g},Rg=ne({name:"deleteSelectedElements",perform:function(g,z){if(z.editingLinearElement){var A=z.editingLinearElement,M=A.activePointIndex,ca=A.startBindingElement,ja=A.endBindingElement,ya=dg.getElement(A.elementId);if(!ya)return!1;if(null==M||-1===M||2>ya.points.length)return g=g.filter(function(wa){return wa.id!==ya.id}),{elements:g,appState:Wc(Wc({},qh(z,g)),{},{editingLinearElement:null}),commitToHistory:!1};A={startBindingElement:0===
M?null:ca,endBindingElement:M===ya.points.length-1?null:ja};return dg.movePoint(ya,M,"delete"),{elements:g,appState:Wc(Wc({},z),{},{editingLinearElement:Wc(Wc(Wc({},z.editingLinearElement),A),{},{activePointIndex:0<M?M-1:0})}),commitToHistory:!0}}A=function(wa,Da){return{elements:wa.map(function(Pa){return Da.selectedElementIds[Pa.id]?yg(Pa,{isDeleted:!0}):Pa}),appState:Wc(Wc({},Da),{},{selectedElementIds:{}})}}(g,z);M=A.elements;A=A.appState;return tj(M,g.filter(function(wa){return z.selectedElementIds[wa.id]})),
{elements:M,appState:Wc(Wc({},A=qh(A,M)),{},{elementType:"selection",multiElement:null}),commitToHistory:kg(ge(g),z)}},contextItemLabel:"labels.delete",keyTest:function(g){return"Backspace"===g.key||"Delete"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",icon:Ri,title:eb("labels.delete"),"aria-label":eb("labels.delete"),onClick:function(){return M(null)},visible:kg(ge(z),A)})}}),di=function(g,z){for(var A=0,M=z.length,ca=
g.length;A<M;A++,ca++)g[ca]=z[A];return g},Tl=function(g,z){for(var A=[],M=[],ca=null,ja=-1;++ja<g.length;)z.selectedElementIds[g[ja].id]?(M.length&&(A=A.concat(M),M=[]),A.push(ja),ca=ja+1):g[ja].isDeleted&&ca===ja?(ca=ja+1,M.push(ja)):M=[];return A},Nh=function(g,z,A,M){var ca=z[A],ja=function(ya){return!ya.isDeleted&&(!g.editingGroupId||ya.groupIds.includes(g.editingGroupId))};A="left"===M?function(ya,wa,Da){void 0===Da&&(Da=ya.length-1);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length-1,Math.max(Da,
0))+1;-1<--Da;)if(wa(ya[Da],Da,ya))return Da;return-1}(z,ja,Math.max(0,A-1)):function(ya,wa,Da){void 0===Da&&(Da=0);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length,Math.max(Da,0))-1;++Da<ya.length;)if(wa(ya[Da],Da,ya))return Da;return-1}(z,ja,A+1);ja=z[A];if(!ja)return-1;if(g.editingGroupId){if((null==ca?void 0:ca.groupIds.join(""))===(null==ja?void 0:ja.groupIds.join("")))return A;if(null==ja||!ja.groupIds.includes(g.editingGroupId))return-1}if(!ja.groupIds.length)return A;ca=g.editingGroupId?
ja.groupIds[ja.groupIds.indexOf(g.editingGroupId)-1]:ja.groupIds[ja.groupIds.length-1];ca=ck(z,ca);return ca.length?"left"===M?z.indexOf(ca[0]):z.indexOf(ca[ca.length-1]):A},pe=function(g,z,A){var M,ca=Tl(z,g),ja=(M=0,ca.reduce(function(ya,wa,Da){return 0<Da&&ca[Da-1]!==wa-1&&(M=++M),(ya[M]||(ya[M]=[])).push(wa),ya},[]));return"right"===A&&(ja=ja.reverse()),ja.forEach(function(ya,wa){wa=ya[0];ya=ya[ya.length-1];var Da="left"===A?wa:ya,Pa=Nh(g,z,Da,A);if(-1!==Pa&&Da!==Pa){Da="left"===A?z.slice(0,Pa):
z.slice(0,wa);var Ka=z.slice(wa,ya+1);wa="left"===A?z.slice(Pa,wa):z.slice(ya+1,Pa+1);ya="left"===A?z.slice(ya+1):z.slice(Pa+1);z=di("left"===A?di(di(di([],Da),Ka),wa):di(di(di([],Da),wa),Ka),ya)}}),z},Wg=function(g,z,A){var M=Tl(g,z),ca=[],ja=[];if("left"===A){if(z.editingGroupId){if(!(z=ck(g,z.editingGroupId)).length)return g;var ya=g.indexOf(z[0])}else ya=0;z=M[M.length-1]}else{if(z.editingGroupId){if(!(z=ck(g,z.editingGroupId)).length)return g;z=g.indexOf(z[z.length-1])}else z=g.length-1;ya=M[0]}for(var wa=
ya;wa<z+1;wa++)M.includes(wa)?ca.push(g[wa]):ja.push(g[wa]);M=g.slice(0,ya);g=g.slice(z+1);return di("left"===A?di(di(di([],M),ca),ja):di(di(di([],M),ja),ca),g)},Am=ne({name:"sendBackward",perform:function(g,z){return{elements:pe(z,g.slice(),"left"),appState:z,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(g){return g[cf]&&!g.shiftKey&&"BracketLeft"===g.code},PanelComponent:function(g){var z=g.updateData;g=g.appState;return Ea().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return z(null)},title:"".concat(eb("labels.sendBackward")," — ").concat(Wd("CtrlOrCmd+["))},Ea().createElement(Id,{appearance:g.appearance}))}}),ul=ne({name:"bringForward",perform:function(g,z){return{elements:pe(z,g.slice(),"right"),appState:z,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(g){return g[cf]&&!g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var z=g.updateData;g=g.appState;
return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return z(null)},title:"".concat(eb("labels.bringForward")," — ").concat(Wd("CtrlOrCmd+]"))},Ea().createElement(td,{appearance:g.appearance}))}}),w=ne({name:"sendToBack",perform:function(g,z){return{elements:Wg(g,z,"left"),appState:z,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(g){return Kg?g[cf]&&g.altKey&&"BracketLeft"===g.code:g[cf]&&g.shiftKey&&"BracketLeft"===g.code},PanelComponent:function(g){var z=
g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return z(null)},title:"".concat(eb("labels.sendToBack")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ea().createElement(Gf,{appearance:g.appearance}))}}),J=ne({name:"bringToFront",perform:function(g,z){return{elements:Wg(g,z,"right"),appState:z,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(g){return Kg?g[cf]&&g.altKey&&"BracketRight"===
g.code:g[cf]&&g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var z=g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(A){return z(null)},title:"".concat(eb("labels.bringToFront")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ea().createElement(pi,{appearance:g.appearance}))}}),ha=ne({name:"selectAll",perform:function(g,z){return!z.editingLinearElement&&{appState:Wh(kd(kd({},z),{},{editingGroupId:null,
selectedElementIds:g.reduce(function(A,M){return M.isDeleted||(A[M.id]=!0),A},{})}),ge(g)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(g){return g[cf]&&"a"===g.key}}),ea=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},qa=ne({name:"duplicateSelection",perform:function(g,z){if(z.editingLinearElement){var A=z.editingLinearElement,M=A.activePointIndex;A=dg.getElement(A.elementId);if(!A||null===M)return!1;var ca=A.points,ja=ca[M],ya=ca[M+
1];return jf(A,{points:ea(ea(ea([],ca.slice(0,M+1)),[ya?[(ja[0]+ya[0])/2,(ja[1]+ya[1])/2]:[ja[0]+30,ja[1]+30]]),ca.slice(M+1))}),{appState:ue(ue({},z),{},{editingLinearElement:ue(ue({},z.editingLinearElement),{},{activePointIndex:M+1})}),elements:g,commitToHistory:!0}}return ue(ue({},Fa(g,z)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(g){return g[cf]&&"d"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,
{type:"button",icon:tg,title:"".concat(eb("labels.duplicateSelection")," — ").concat(Wd("CtrlOrCmd+D")),"aria-label":eb("labels.duplicateSelection"),onClick:function(){return M(null)},visible:kg(ge(z),A)})}}),Fa=function(g,z){for(var A=new Map,M=[],ca=[],ja=new Map,ya=function(lb){var rb=Yi(z.editingGroupId,A,lb,{x:lb.x+hc.k/2,y:lb.y+hc.k/2});return ja.set(lb.id,rb.id),ca.push(lb),M.push(rb),rb},wa=[],Da=0;Da<g.length;){var Pa=g[Da];if(z.selectedElementIds[Pa.id]){if(Pa.groupIds.length){var Ka=zh(z,
Pa);if(Ka){Pa=ck(g,Ka);wa.push.apply(wa,ea(ea([],Pa),Pa.map(function(lb){return ya(lb)})));Da+=Pa.length;continue}}wa.push(Pa,ya(Pa))}else wa.push(Pa);Da++}return Uj(wa,ca,ja),{elements:wa,appState:Wh(ue(ue({},z),{},{selectedGroupIds:{},selectedElementIds:M.reduce(function(lb,rb){return lb[rb.id]=!0,lb},{})}),ge(wa))}},Oa=function(g){var z=g.options,A=g.value,M=g.onChange,ca=g.group;return Ea().createElement("div",{className:"buttonList buttonListIcon"},z.map(function(ja){return Ea().createElement("label",
{key:ja.text,className:mc({active:A===ja.value}),title:ja.text},Ea().createElement("input",{type:"radio",name:ca,onChange:function(){return M(ja.value)},checked:A===ja.value}),ja.icon)}))},Qa=function(g){var z=g.options,A=g.value,M=g.onChange,ca=g.group;return Ea().createElement("div",{className:"buttonList"},z.map(function(ja){return Ea().createElement("label",{key:ja.text,className:mc({active:A===ja.value})},Ea().createElement("input",{type:"radio",name:ca,onChange:function(){return M(ja.value)},
checked:A===ja.value}),ja.text)}))},jb=(f(2816),function(g){var z=g.children,A=g.left,M=g.top,ca=g.onCloseRequest;g=g.fitInViewport;var ja=void 0!==g&&g,ya=(0,jc.useRef)(null);return(0,jc.useLayoutEffect)(function(){if(ja&&ya.current){var wa=ya.current,Da=wa.getBoundingClientRect(),Pa=Da.y,Ka=Da.width,lb=Da.height,rb=window.innerWidth;Da.x+Ka>rb&&(wa.style.left="".concat(rb-Ka,"px"));Da=window.innerHeight;Pa+lb>Da&&(wa.style.top="".concat(Da-lb,"px"))}},[ja]),(0,jc.useEffect)(function(){if(ca){var wa=
function(Da){var Pa;null!==(Pa=ya.current)&&void 0!==Pa&&Pa.contains(Da.target)||(0,$f.unstable_batchedUpdates)(function(){return ca(Da)})};return document.addEventListener("pointerdown",wa,!1),function(){return document.removeEventListener("pointerdown",wa,!1)}}},[ca]),Ea().createElement("div",{className:"popover",style:{top:M,left:A},ref:ya},z)}),Fb=(f(5574),function(g){var z=(new Option).style;return z.color=g,!!z.color}),Ib=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),
wc=function(g){var z=g.colors,A=g.color,M=g.onChange,ca=g.onClose,ja=g.label,ya=g.showInput,wa=void 0===ya||ya;g=g.type;var Da=Ea().useRef(),Pa=Ea().useRef(),Ka=Ea().useRef(),lb=Ea().useRef();Ea().useEffect(function(){Pa.current?Pa.current.focus():lb.current?lb.current.focus():Ka.current&&Ka.current.focus()},[]);return Ea().createElement("div",{className:"color-picker color-picker-type-".concat(g),role:"dialog","aria-modal":"true","aria-label":eb("labels.colorPicker"),onKeyDown:function(rb){if("Tab"===
rb.key){var sb,dc=document.activeElement;if(rb.shiftKey)dc===Da.current&&(null===(sb=lb.current)||void 0===sb||sb.focus(),rb.preventDefault());else if(dc===lb.current){var Yb;null===(Yb=Da.current)||void 0===Yb||Yb.focus();rb.preventDefault()}}else xg(rb.key)?(dc=document.activeElement,sb=ua.rtl,-1!==(Yb=Array.prototype.indexOf.call(Ka.current.children,dc))&&(dc=Ka.current.children.length-(wa?1:0),Ka.current.children[rb.key===(sb?"ArrowLeft":"ArrowRight")?(Yb+1)%dc:rb.key===(sb?"ArrowRight":"ArrowLeft")?
(dc+Yb-1)%dc:"ArrowDown"===rb.key?(Yb+5)%dc:"ArrowUp"===rb.key?(dc+Yb-5)%dc:Yb].focus()),rb.preventDefault()):Ib.includes(rb.key.toLowerCase())&&!Cg(rb.target)?(Yb=Ib.indexOf(rb.key.toLowerCase()),Ka.current.children[Yb].focus(),rb.preventDefault()):"Escape"!==rb.key&&"Enter"!==rb.key||(rb.preventDefault(),ca());rb.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Ea().createElement("div",{className:"color-picker-triangle"}),
Ea().createElement("div",{className:"color-picker-content",ref:function(rb){rb&&(Ka.current=rb)},tabIndex:0},z.map(function(rb,sb){return Ea().createElement("button",{className:"color-picker-swatch",onClick:function(dc){dc.currentTarget.focus();M(rb)},title:"".concat(rb," — ").concat(Ib[sb].toUpperCase()),"aria-label":rb,"aria-keyshortcuts":Ib[sb],style:{color:rb},key:rb,ref:function(dc){dc&&0===sb&&(Da.current=dc);dc&&rb===A&&(Pa.current=dc)},onFocus:function(){M(rb)}},"transparent"===rb?Ea().createElement("div",
{className:"color-picker-transparent"}):void 0,Ea().createElement("span",{className:"color-picker-keybinding"},Ib[sb]))}),wa&&Ea().createElement(yc,{color:A,label:ja,onChange:function(rb){M(rb)},ref:lb})))},yc=Ea().forwardRef(function(g,z){var A=g.color,M=g.onChange;g=g.label;var ca=Ea().useState(A),ja=ca[0],ya=ca[1],wa=Ea().useRef(null);Ea().useEffect(function(){ya(A)},[A]);Ea().useImperativeHandle(z,function(){return wa.current});var Da=Ea().useCallback(function(Pa){Pa=Pa.toLowerCase();var Ka;(Ka=
"transparent"===Pa||Fb(Pa)?Pa:Fb("#".concat(Pa))?"#".concat(Pa):null)&&M(Ka);ya(Pa)},[M]);return Ea().createElement("label",{className:"color-input-container"},Ea().createElement("div",{className:"color-picker-hash"},"#"),Ea().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":g,onChange:function(Pa){return Da(Pa.target.value)},value:(ja||"").replace(/^#/,""),onBlur:function(){return ya(A)},ref:wa}))}),lc=function(g){var z=g.type,A=g.color,M=g.onChange;g=g.label;var ca=
Ea().useState(!1),ja=ca[0],ya=ca[1],wa=Ea().useRef(null);return Ea().createElement("div",null,Ea().createElement("div",{className:"color-picker-control-container"},Ea().createElement("button",{className:"color-picker-label-swatch","aria-label":g,style:A?{"--swatch-color":A}:void 0,onClick:function(){return ya(!ja)},ref:wa}),Ea().createElement(yc,{color:A,label:g,onChange:function(Da){M(Da)}})),Ea().createElement(Ea().Suspense,{fallback:""},ja?Ea().createElement(jb,{onCloseRequest:function(Da){return Da.target!==
wa.current&&ya(!1)}},Ea().createElement(wc,{colors:Ek[z],color:A||null,onChange:function(Da){M(Da)},onClose:function(){var Da;ya(!1);null===(Da=wa.current)||void 0===Da||Da.focus()},label:g,showInput:!1,type:z})):null))},bd=f(6950),Pd=f.n(bd);f(7143);var we=function(g,z,A){return g.map(function(M){var ca;return z.selectedElementIds[M.id]||M.id===(null===(ca=z.editingElement)||void 0===ca?void 0:ca.id)?A(M):M})},qg=function(g,z,A,M){var ca,ja,ya=z.editingElement;g=ge(g);return null!==(ca=null!==(ja=
ya&&A(ya))&&void 0!==ja?ja:kg(g,z)?function(wa,Da,Pa){wa=Array.from(new Set(uf(wa,Da).map(function(Ka){return Pa(Ka)})));return 1===wa.length?wa[0]:null}(g,z,A):M)&&void 0!==ca?ca:null},Ce=(ne({name:"changeStrokeColor",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{strokeColor:A})}),appState:Ne(Ne({},z),{},{currentItemStrokeColor:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",
{"aria-hidden":"true"},eb("labels.stroke")),Ea().createElement(lc,{type:"elementStroke",label:eb("labels.stroke"),color:qg(z,A,function(M){return M.strokeColor},A.currentItemStrokeColor),onChange:g}))}}),ne({name:"changeBackgroundColor",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{backgroundColor:A})}),appState:Ne(Ne({},z),{},{currentItemBackgroundColor:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,
null,Ea().createElement("h3",{"aria-hidden":"true"},eb("labels.background")),Ea().createElement(lc,{type:"elementBackground",label:eb("labels.background"),color:qg(z,A,function(M){return M.backgroundColor},A.currentItemBackgroundColor),onChange:g}))}}),ne({name:"changeFillStyle",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{fillStyle:A})}),appState:Ne(Ne({},z),{},{currentItemFillStyle:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;
return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fill")),Ea().createElement(Oa,{options:[{value:"hachure",text:eb("labels.hachure"),icon:Ea().createElement(Uk,{appearance:A.appearance})},{value:"cross-hatch",text:eb("labels.crossHatch"),icon:Ea().createElement(ce,{appearance:A.appearance})},{value:"solid",text:eb("labels.solid"),icon:Ea().createElement(pm,{appearance:A.appearance})}],group:"fill",value:qg(z,A,function(ca){return ca.fillStyle},A.currentItemFillStyle),
onChange:function(ca){M(ca)}}))}}),ne({name:"changeStrokeWidth",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{strokeWidth:A})}),appState:Ne(Ne({},z),{},{currentItemStrokeWidth:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeWidth")),Ea().createElement(Oa,{group:"stroke-width",options:[{value:1,text:eb("labels.thin"),icon:Ea().createElement(aj,
{appearance:A.appearance,strokeWidth:2})},{value:2,text:eb("labels.bold"),icon:Ea().createElement(aj,{appearance:A.appearance,strokeWidth:6})},{value:4,text:eb("labels.extraBold"),icon:Ea().createElement(aj,{appearance:A.appearance,strokeWidth:10})}],value:qg(z,A,function(ca){return ca.strokeWidth},A.currentItemStrokeWidth),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeSloppiness",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{seed:Zj(),roughness:A})}),appState:Ne(Ne({},
z),{},{currentItemRoughness:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.sloppiness")),Ea().createElement(Oa,{group:"sloppiness",options:[{value:0,text:eb("labels.architect"),icon:Ea().createElement(Si,{appearance:A.appearance})},{value:1,text:eb("labels.artist"),icon:Ea().createElement(zm,{appearance:A.appearance})},{value:2,text:eb("labels.cartoonist"),icon:Ea().createElement(uk,
{appearance:A.appearance})}],value:qg(z,A,function(ca){return ca.roughness},A.currentItemRoughness),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeStrokeStyle",perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{strokeStyle:A})}),appState:Ne(Ne({},z),{},{currentItemStrokeStyle:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeStyle")),
Ea().createElement(Oa,{group:"strokeStyle",options:[{value:"solid",text:eb("labels.strokeStyle_solid"),icon:Ea().createElement(Yd,{appearance:A.appearance})},{value:"dashed",text:eb("labels.strokeStyle_dashed"),icon:Ea().createElement(el,{appearance:A.appearance})},{value:"dotted",text:eb("labels.strokeStyle_dotted"),icon:Ea().createElement(eg,{appearance:A.appearance})}],value:qg(z,A,function(ca){return ca.strokeStyle},A.currentItemStrokeStyle),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeOpacity",
perform:function(g,z,A){return{elements:we(g,z,function(M){return yg(M,{opacity:A})}),appState:Ne(Ne({},z),{},{currentItemOpacity:A}),commitToHistory:!0}},PanelComponent:function(g){var z,A=g.elements,M=g.appState,ca=g.updateData;return Ea().createElement("label",{className:"control-label"},eb("labels.opacity"),Ea().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ja){return ca(+ja.target.value)},onWheel:function(ja){ja.stopPropagation();var ya=+ja.target.value;0>
ja.deltaY&&100>ya?ca(ya+10):0<ja.deltaY&&0<ya&&ca(ya-10)},value:null!==(z=qg(A,M,function(ja){return ja.opacity},M.currentItemOpacity))&&void 0!==z?z:void 0}))}}),ne({name:"changeFontSize",perform:function(g,z,A){return{elements:we(g,z,function(M){return be(M)?(M=yg(M,{fontSize:A}),qk(M),M):M}),appState:Ne(Ne({},z),{},{currentItemFontSize:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",
null,eb("labels.fontSize")),Ea().createElement(Qa,{group:"font-size",options:[{value:16,text:eb("labels.small")},{value:20,text:eb("labels.medium")},{value:28,text:eb("labels.large")},{value:36,text:eb("labels.veryLarge")}],value:qg(z,A,function(ca){return be(ca)&&ca.fontSize},A.currentItemFontSize||hc.n5),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeFontFamily",perform:function(g,z,A){return{elements:we(g,z,function(M){return be(M)?(M=yg(M,{fontFamily:A}),qk(M),M):M}),appState:Ne(Ne({},
z),{},{currentItemFontFamily:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;g=[{value:1,text:eb("labels.handDrawn")},{value:2,text:eb("labels.normal")},{value:3,text:eb("labels.code")}];return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fontFamily")),Ea().createElement(Qa,{group:"font-family",options:g,value:qg(z,A,function(ca){return be(ca)&&ca.fontFamily},A.currentItemFontFamily||hc.rk),onChange:function(ca){return M(ca)}}))}}),
ne({name:"changeTextAlign",perform:function(g,z,A){return{elements:we(g,z,function(M){return be(M)?(M=yg(M,{textAlign:A}),qk(M),M):M}),appState:Ne(Ne({},z),{},{currentItemTextAlign:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.textAlign")),Ea().createElement(Qa,{group:"text-align",options:[{value:"left",text:eb("labels.left")},{value:"center",text:eb("labels.center")},
{value:"right",text:eb("labels.right")}],value:qg(z,A,function(ca){return be(ca)&&ca.textAlign},A.currentItemTextAlign),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeSharpness",perform:function(g,z,A){var M=kk(ge(g),z),ca=M.length?M.every(function(ja){return!Fg(ja)}):!hj(z.elementType);M=M.length?M.every(Fg):hj(z.elementType);return{elements:we(g,z,function(ja){return yg(ja,{strokeSharpness:A})}),appState:Ne(Ne({},z),{},{currentItemStrokeSharpness:ca?A:z.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:M?
A:z.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.edges")),Ea().createElement(Oa,{group:"edges",options:[{value:"sharp",text:eb("labels.sharp"),icon:Ea().createElement(fl,{appearance:A.appearance})},{value:"round",text:eb("labels.round"),icon:Ea().createElement(Vk,{appearance:A.appearance})}],value:qg(z,A,function(ca){return ca.strokeSharpness},
rk(A.elementType)&&(hj(A.elementType)?A.currentItemLinearStrokeSharpness:A.currentItemStrokeSharpness)||null),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeArrowhead",perform:function(g,z,A){var M;return{elements:we(g,z,function(ca){if(Fg(ca)){var ja=A.position,ya=A.type;if("start"===ja)return yg(ca,{startArrowhead:ya});if("end"===ja)return yg(ca,{endArrowhead:ya})}return ca}),appState:Ne(Ne({},z),{},(M={},M["start"===A.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=A.type,
M)),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;g=ua.rtl;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.arrowheads")),Ea().createElement("div",{className:"iconSelectList"},Ea().createElement(wd,{label:"arrowhead_start",options:[{value:null,text:eb("labels.arrowhead_none"),icon:Ea().createElement(Pk,{appearance:A.appearance}),keyBinding:"q"},{value:"arrow",text:eb("labels.arrowhead_arrow"),icon:Ea().createElement(Hh,
{appearance:A.appearance,flip:!g}),keyBinding:"w"},{value:"bar",text:eb("labels.arrowhead_bar"),icon:Ea().createElement(Hj,{appearance:A.appearance,flip:!g}),keyBinding:"e"},{value:"dot",text:eb("labels.arrowhead_dot"),icon:Ea().createElement(Vm,{appearance:A.appearance,flip:!g}),keyBinding:"r"}],value:qg(z,A,function(ca){return Fg(ca)&&"arrow"===ca.type?ca.startArrowhead:A.currentItemStartArrowhead},A.currentItemStartArrowhead),onChange:function(ca){return M({position:"start",type:ca})}}),Ea().createElement(wd,
{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:eb("labels.arrowhead_none"),keyBinding:"q",icon:Ea().createElement(Pk,{appearance:A.appearance})},{value:"arrow",text:eb("labels.arrowhead_arrow"),keyBinding:"w",icon:Ea().createElement(Hh,{appearance:A.appearance,flip:g})},{value:"bar",text:eb("labels.arrowhead_bar"),keyBinding:"e",icon:Ea().createElement(Hj,{appearance:A.appearance,flip:g})},{value:"dot",text:eb("labels.arrowhead_dot"),keyBinding:"r",icon:Ea().createElement(Vm,
{appearance:A.appearance,flip:g})}],value:qg(z,A,function(ca){return Fg(ca)&&"arrow"===ca.type?ca.endArrowhead:A.currentItemEndArrowhead},A.currentItemEndArrowhead),onChange:function(ca){return M({position:"end",type:ca})}})))}}),f(2189)),yf=f.n(Ce),lg=Ea().createContext(!1),wg=function(){return window.matchMedia?window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},mg=function(g){g=g.children;var z=(0,jc.useRef)();z.current||(z.current=wg());var A=
(0,jc.useState)(z.current.matches),M=A[0],ca=A[1];return(0,jc.useEffect)(function(){var ja=function(){return ca(z.current.matches)};return z.current.addListener(ja),function(){return z.current.removeListener(ja)}},[]),Ea().createElement(lg.Provider,{value:M},g)};ne({name:"changeViewBackgroundColor",perform:function(g,z,A){return{appState:Ke(Ke({},z),{},{viewBackgroundColor:A}),commitToHistory:!0}},PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement("div",{style:{position:"relative"}},
Ea().createElement(lc,{label:eb("labels.canvasBackground"),type:"canvasBackground",color:z.viewBackgroundColor,onChange:function(M){return A(M)}}))}});ne({name:"clearCanvas",perform:function(g,z){return{elements:g.map(function(A){return yg(A,{isDeleted:!0})}),appState:Ke(Ke({},Dh()),{},{appearance:z.appearance,elementLocked:z.elementLocked,exportBackground:z.exportBackground,exportEmbedScene:z.exportEmbedScene,gridSize:z.gridSize,shouldAddWatermark:z.shouldAddWatermark,showStats:z.showStats,pasteDialog:z.pasteDialog}),
commitToHistory:!0}},PanelComponent:function(g){var z=g.updateData;return Ea().createElement(gf,{type:"button",icon:Ri,title:eb("buttons.clearReset"),"aria-label":eb("buttons.clearReset"),showAriaLabel:Ve(),onClick:function(){window.confirm(eb("alerts.clearReset"))&&z(null)}})}});ne({name:"zoomIn",perform:function(g,z){g=ci(Sj(z.zoom.value+hc.V4),z.zoom,{left:z.offsetLeft,top:z.offsetTop},{x:z.width/2,y:z.height/2});return{appState:Ke(Ke({},z),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var z=
g.updateData;return Ea().createElement(gf,{type:"button",icon:oi,title:"".concat(eb("buttons.zoomIn")," — ").concat(Wd("CtrlOrCmd++")),"aria-label":eb("buttons.zoomIn"),onClick:function(){z(null)}})},keyTest:function(g){return("Equal"===g.code||"NumpadAdd"===g.code)&&(g[cf]||g.shiftKey)}});ne({name:"zoomOut",perform:function(g,z){g=ci(Sj(z.zoom.value-hc.V4),z.zoom,{left:z.offsetLeft,top:z.offsetTop},{x:z.width/2,y:z.height/2});return{appState:Ke(Ke({},z),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var z=
g.updateData;return Ea().createElement(gf,{type:"button",icon:Ej,title:"".concat(eb("buttons.zoomOut")," — ").concat(Wd("CtrlOrCmd+-")),"aria-label":eb("buttons.zoomOut"),onClick:function(){z(null)}})},keyTest:function(g){return("Minus"===g.code||"NumpadSubtract"===g.code)&&(g[cf]||g.shiftKey)}});ne({name:"resetZoom",perform:function(g,z){return{appState:Ke(Ke({},z),{},{zoom:ci(1,z.zoom,{left:z.offsetLeft,top:z.offsetTop},{x:z.width/2,y:z.height/2})}),commitToHistory:!1}},PanelComponent:function(g){var z=
g.updateData;return Ea().createElement(gf,{type:"button",icon:$d,title:eb("buttons.resetZoom"),"aria-label":eb("buttons.resetZoom"),onClick:function(){z(null)}})},keyTest:function(g){return("Digit0"===g.code||"Numpad0"===g.code)&&(g[cf]||g.shiftKey)}});var ye=function(g,z,A){g=ge(g);var M=uf(g,z);M=A&&0<M.length?Bg(M):Bg(g);A=ci(Math.min(Math.max(Math.floor(Math.min(z.width/(M[2]-M[0]),z.height/(M[3]-M[1]))/hc.V4)*hc.V4,hc.V4),1),z.zoom,{left:z.offsetLeft,top:z.offsetTop});g=(M[0]+M[2])/2;M=(M[1]+
M[3])/2;return{appState:Ke(Ke(Ke({},z),Xi({scenePoint:{x:g,y:M},viewportDimensions:{width:z.width,height:z.height},zoom:A})),{},{zoom:A}),commitToHistory:!1}};ne({name:"zoomToSelection",perform:function(g,z){return ye(g,z,!0)},keyTest:function(g){return"Digit2"===g.code&&g.shiftKey&&!g.altKey&&!g[cf]}});ne({name:"zoomToFit",perform:function(g,z){return ye(g,z,!1)},keyTest:function(g){return"Digit1"===g.code&&g.shiftKey&&!g.altKey&&!g[cf]}});var Rf,If,Mf=ne({name:"finalize",perform:function(g,z,A,
M){var ca,ja;A=M.canvas;if(z.editingLinearElement){M=z.editingLinearElement;var ya=M.startBindingElement,wa=M.endBindingElement,Da=dg.getElement(M.elementId);if(Da)return og(Da)&&Pf(Da,ya,wa),{elements:2>Da.points.length||Rh(Da)?g.filter(function(lb){return lb.id!==Da.id}):void 0,appState:Eg(Eg({},z),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(M=z.multiElement?z.multiElement:"draw"===(null===(ja=
z.editingElement)||void 0===ja?void 0:ja.type)?z.editingElement:null){"draw"!==M.type&&"touch"!==z.lastPointerDownWith&&(ja=M.points,(ya=M.lastCommittedPoint)&&ja[ja.length-1]===ya||jf(M,{points:M.points.slice(0,-1)}));Rh(M)&&(g=g.slice(0,-1));ja=ei(M.points,z.zoom.value);if(("line"===M.type||"draw"===M.type)&&ja){var Pa=M.points,Ka=Pa[0];jf(M,{points:Pa.map(function(lb,rb){return rb===Pa.length-1?[Ka[0],Ka[1]]:lb})})}og(M)&&!ja&&1<M.points.length&&(ya=dg.getPointAtIndexGlobalCoordinates(M,-1),ja=
ya[0],ya=ya[1],jk(M,z,yh.getScene(M),{x:ja,y:ya}));z.elementLocked||"draw"===z.elementType||(z.selectedElementIds[M.id]=!0)}return(z.elementLocked||"draw"===z.elementType)&&M||Ii(A),{elements:g,appState:Eg(Eg({},z),{},{elementType:(z.elementLocked||"draw"===z.elementType)&&M?z.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:M&&!z.elementLocked&&"draw"!==z.elementType?Eg(Eg({},z.selectedElementIds),{},
(ca={},ca[M.id]=!0,ca)):z.selectedElementIds}),commitToHistory:"draw"===z.elementType}},keyTest:function(g,z){return"Escape"===g.key&&(null!==z.editingLinearElement||!z.draggingElement&&null===z.multiElement)||("Escape"===g.key||"Enter"===g.key)&&null!==z.multiElement},PanelComponent:function(g){var z=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:sk,title:eb("buttons.done"),"aria-label":eb("buttons.done"),onClick:g,visible:null!=z.multiElement})}}),Sg="undefined"!=typeof m&&
null!==(Rf=m.env)&&void 0!==Rf&&Rf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(g,z,A,M){window.gtag("event",z,{event_category:g,event_label:A,value:M})}:("undefined"!=typeof m&&null!==(If=m.env)&&void 0!==If&&If.JEST_WORKER_ID,function(g,z,A,M){}),Qg=(f(8518),function(){var g=function(z,A){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,ja)&&(M[ja]=
ca[ja])})(z,A)};return function(z,A){function M(){this.constructor=z}if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");g(z,A);z.prototype=null===A?Object.create(A):(M.prototype=A.prototype,new M)}}()),Di=function(g){function z(){for(var A=[],M=0;M<arguments.length;M++)A[M]=arguments[M];var ca,ja;M=this;return M=g.apply(this,A)||this,ca=ja=M,M.handleFocus=function(ya){ya=ya.currentTarget;var wa=window.getSelection();if(wa){var Da=
document.createRange();Da.selectNodeContents(ya);wa.removeAllRanges();wa.addRange(Da)}},M.handleBlur=function(ya){ya=ya.currentTarget.innerText.trim();ya!==ja.props.value&&ja.props.onChange(ya);(ya=window.getSelection())&&ya.removeAllRanges()},M.handleKeyDown=function(ya){"Enter"!==ya.key||(ya.preventDefault(),ya.nativeEvent.isComposing||229===ya.keyCode)||ya.currentTarget.blur()},M.makeEditable=function(ya){if(ya)try{ya.contentEditable="plaintext-only"}catch(wa){ya.contentEditable="true"}},ca}return Qg(z,
g),z.prototype.render=function(){return Ea().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},z}(jc.Component),Gj=(f(2680),function(g){var z=g.children,A=g.label,M=g.position;M=void 0===M?"below":M;g=g.long;g=void 0!==g&&g;return Ea().createElement("div",{className:"Tooltip"},Ea().createElement("span",
{className:"above"===M?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:g?"50ch":"10ch"}},A),z)}),hk=function(g){var z=g.title?g.title:"dark"===g.value?eb("buttons.lightMode"):eb("buttons.darkMode");return Ea().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:z},Ea().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(A){return g.onChange(A.target.checked?
"dark":"light")},checked:"dark"===g.value,"aria-label":z}),Ea().createElement("div",{className:"ToolIcon__icon"},"light"===g.value?$k.MOON:$k.SUN))},$k={SUN:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?f.e(736).then(f.bind(f,9012)):f.e(736).then(f.bind(f,499)):f.e(736).then(f.bind(f,5034));xm?"chooseFileSystemEntries"===xm?f.e(736).then(f.bind(f,6980)):f.e(736).then(f.bind(f,868)):f.e(736).then(f.bind(f,3110));const rf=xm?"chooseFileSystemEntries"===xm?f.e(736).then(f.bind(f,1170)):f.e(736).then(f.bind(f,7814)):f.e(736).then(f.bind(f,4001));var gl,Ti=function(g,z){if(null!=z&&z.collaborators&&
(z=z.collaborators.get(g),null!=z&&z.color))return z.color;g=g.split("").reduce(function(M,ca){return M+ca.charCodeAt(0)},0);z=Ek.elementBackground.slice(1);var A=Ek.elementStroke.slice(1);return{background:z[g%z.length],stroke:A[g%A.length]}};!function(g){g.ACTIVE="active";g.AWAY="away";g.IDLE="idle"}(gl||(gl={}));var Gm=function(){var g=document.createElement("canvas").getContext("2d");return g?(g.fillStyle="#f00",g.textBaseline="top",g.font="32px Arial",g.fillText("\ud83d\ude00",0,0),0!==g.getImageData(12,
12,1,1).data[0]):!1}(),vl=function(g,z,A,M,ca,ja,ya,wa,Da){void 0===Da&&(Da=!1);g.translate(ja,ya);g.rotate(wa);Da&&g.fillRect(z-ja,A-ya,M,ca);g.strokeRect(z-ja,A-ya,M,ca);g.rotate(-wa);g.translate(-ja,-ya)},Hm=function(g,z,A,M){g.beginPath();g.arc(z,A,M,0,2*Math.PI);g.fill();g.stroke()},kn=function(g,z,A,M,ca,ja,ya,wa){var Da=void 0===wa?{}:wa;wa=Da.renderScrollbars;wa=void 0===wa||wa;var Pa=Da.renderSelection,Ka=void 0===Pa||Pa;Pa=Da.renderOptimizations;var lb=void 0!==Pa&&Pa;Da=Da.renderGrid;var rb=
void 0===Da||Da;if(!ja)return{atLeastOneVisibleElement:!1};var sb=ja.getContext("2d");sb.scale(M,M);var dc=ja.width/M,Yb=ja.height/M;(ya.exportWithDarkMode&&(sb.filter=hc.Gi),"string"==typeof ya.viewBackgroundColor)?(("transparent"===ya.viewBackgroundColor||5===ya.viewBackgroundColor.length||9===ya.viewBackgroundColor.length||/(hsla|rgba)\(/.test(ya.viewBackgroundColor))&&sb.clearRect(0,0,dc,Yb),Da=sb.fillStyle,sb.fillStyle=ya.viewBackgroundColor,sb.fillRect(0,0,dc,Yb),sb.fillStyle=Da):sb.clearRect(0,
0,dc,Yb);Da=ya.zoom.translation.x;Pa=ya.zoom.translation.y;sb.translate(Da,Pa);sb.scale(ya.zoom.value,ya.zoom.value);rb&&z.gridSize&&function(zd,Zd,je,$e,Eh,$h){var Bj=zd.strokeStyle;zd.strokeStyle="rgba(0,0,0,0.1)";zd.beginPath();for(var cj=je;cj<je+Eh+2*Zd;cj+=Zd)zd.moveTo(cj,$e-Zd),zd.lineTo(cj,$e+$h+2*Zd);for(cj=$e;cj<$e+$h+2*Zd;cj+=Zd)zd.moveTo(je-Zd,cj),zd.lineTo(je+Eh+2*Zd,cj);zd.stroke();zd.strokeStyle=Bj}(sb,z.gridSize,-Math.ceil(Da/ya.zoom.value/z.gridSize)*z.gridSize+ya.scrollX%z.gridSize,
-Math.ceil(Pa/ya.zoom.value/z.gridSize)*z.gridSize+ya.scrollY%z.gridSize,dc/ya.zoom.value,Yb/ya.zoom.value);ja=g.filter(function(zd){var Zd={zoom:ya.zoom,offsetLeft:z.offsetLeft,offsetTop:z.offsetTop,scrollX:ya.scrollX,scrollY:ya.scrollY},je=si(zd);zd=je[0];var $e=je[1],Eh=je[2];je=je[3];var $h=ug({clientX:Zd.offsetLeft,clientY:Zd.offsetTop},Zd);Zd=ug({clientX:Zd.offsetLeft+dc,clientY:Zd.offsetTop+Yb},Zd);return $h.x<=Eh&&$h.y<=je&&Zd.x>=zd&&Zd.y>=$e});(ja.forEach(function(zd){on(zd,ca,sb,lb,ya)}),
z.editingLinearElement)&&(rb=dg.getElement(z.editingLinearElement.elementId))&&function(zd,Zd,je,$e){zd.translate(je.scrollX,je.scrollY);var Eh=zd.strokeStyle,$h=zd.lineWidth;zd.lineWidth=1/je.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(Bj,cj){var Vl;zd.strokeStyle="red";zd.setLineDash([]);zd.fillStyle=(null===(Vl=Zd.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Hm(zd,Bj[0],Bj[1],dg.POINT_HANDLE_SIZE/2/je.zoom.value)});
zd.setLineDash([]);zd.lineWidth=$h;zd.translate(-je.scrollX,-je.scrollY);zd.strokeStyle=Eh}(sb,z,ya,rb);if(A&&on(A,ca,sb,lb,ya),z.isBindingEnabled&&z.suggestedBindings.filter(function(zd){return null!=zd}).forEach(function(zd){var Zd=sb.strokeStyle,je=sb.lineWidth,$e=Array.isArray(zd)?fj:am;sb.translate(ya.scrollX,ya.scrollY);$e(sb,zd);sb.strokeStyle=Zd;sb.lineWidth=je;sb.translate(-ya.scrollX,-ya.scrollY)}),Ka&&!z.multiElement&&!z.editingLinearElement){var zc=g.reduce(function(zd,Zd){var je=[];if(z.selectedElementIds[Zd.id]&&
null==zh(z,Zd)&&je.push(Ee.Sn),ya.remoteSelectedElementIds[Zd.id]&&je.push.apply(je,ya.remoteSelectedElementIds[Zd.id].map(function(Eh){return Ti(Eh,z).background})),je.length){var $e=ig(Zd);zd.push({angle:Zd.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:je})}return zd},[]);A=function(zd){zd=ck(g,zd);zd=Bg(zd);zc.push({angle:0,elementX1:zd[0],elementX2:zd[2],elementY1:zd[1],elementY2:zd[3],selectionColors:[Ee.Sn]})};Ka=0;for(rb=Li(z);Ka<rb.length;Ka++)A(rb[Ka]);
z.editingGroupId&&A(z.editingGroupId);zc.forEach(function(zd){var Zd=zd.angle,je=zd.elementX1,$e=zd.elementY1,Eh=zd.selectionColors,$h=zd.elementX2-je;zd=zd.elementY2-$e;var Bj=sb.getLineDash(),cj=sb.lineWidth,Vl=sb.lineDashOffset,un=sb.strokeStyle,fm=4/ya.zoom.value,vn=8/ya.zoom.value,Wm=4/ya.zoom.value;sb.lineWidth=1/ya.zoom.value;sb.translate(ya.scrollX,ya.scrollY);for(var fo=Eh.length,Xm=0;Xm<fo;++Xm)sb.strokeStyle=Eh[Xm],sb.setLineDash([vn,Wm+(vn+Wm)*(fo-1)]),sb.lineDashOffset=(vn+Wm)*Xm,vl(sb,
je-fm,$e-fm,$h+2*fm,zd+2*fm,je+$h/2,$e+zd/2,Zd);sb.lineDashOffset=Vl;sb.strokeStyle=un;sb.lineWidth=cj;sb.setLineDash(Bj);sb.translate(-ya.scrollX,-ya.scrollY)});Ka=uf(g,z);if(sb.translate(ya.scrollX,ya.scrollY),1===Ka.length)sb.fillStyle=Ee.ix,A=wj(Ka[0],ya.zoom,"mouse"),z.viewModeEnabled||vk(sb,ya,A,Ka[0].angle);else if(1<Ka.length&&!z.isRotating){A=4/ya.zoom.value;sb.fillStyle=Ee.ix;var ed=Bg(Ka);Ka=ed[0];rb=ed[1];var id=ed[2];ed=ed[3];var vd=sb.getLineDash();sb.setLineDash([2/ya.zoom.value]);
var le=sb.lineWidth;sb.lineWidth=1/ya.zoom.value;vl(sb,Ka-A,rb-A,id-Ka+2*A,ed-rb+2*A,(Ka+id)/2,(rb+ed)/2,0);sb.lineWidth=le;sb.setLineDash(vd);A=Fk([Ka,rb,id,ed],0,ya.zoom,"mouse",Al);vk(sb,ya,A,0)}sb.translate(-ya.scrollX,-ya.scrollY)}for(var ke in sb.scale(1/ya.zoom.value,1/ya.zoom.value),sb.translate(-Da,-Pa),ya.remotePointerViewportCoords){Da=ya.remotePointerViewportCoords[ke];id=Da.x;ed=Da.y;id-=z.offsetLeft;ed-=z.offsetTop;vd=0>id||id>dc-9||0>ed||ed>Yb-14;id=Math.max(id,0);id=Math.min(id,dc-
9);ed=Math.max(ed,0);ed=Math.min(ed,Yb-14);Da=Ti(ke,z);Pa=Da.background;A=Da.stroke;Ka=sb.strokeStyle;rb=(Da=sb.fillStyle,sb.globalAlpha);sb.strokeStyle=A;sb.fillStyle=Pa;le=ya.remotePointerUserStates[ke];(vd||le===gl.AWAY)&&(sb.globalAlpha=.48);ya.remotePointerButton&&"down"===ya.remotePointerButton[ke]&&(sb.beginPath(),sb.arc(id,ed,15,0,2*Math.PI,!1),sb.lineWidth=3,sb.strokeStyle="#ffffff88",sb.stroke(),sb.closePath(),sb.beginPath(),sb.arc(id,ed,15,0,2*Math.PI,!1),sb.lineWidth=1,sb.strokeStyle=
A,sb.stroke(),sb.closePath());sb.beginPath();sb.moveTo(id,ed);sb.lineTo(id+1,ed+14);sb.lineTo(id+4,ed+9);sb.lineTo(id+9,ed+10);sb.lineTo(id,ed);sb.fill();sb.stroke();var Oe=ya.remotePointerUsernames[ke],Je="";le===gl.AWAY?Je=Gm?"⚫️":" (".concat(gl.AWAY,")"):le===gl.IDLE?Je=Gm?"\ud83d\udca4":" (".concat(gl.IDLE,")"):le===gl.ACTIVE&&(Je=Gm?"\ud83d\udfe2":"");le="".concat(Oe?"".concat(Oe," "):"").concat(Je);!vd&&le&&(id+=9,ed+=14,vd=sb.measureText(le),Oe=vd.actualBoundingBoxDescent+vd.actualBoundingBoxAscent,
sb.fillStyle=A,sb.fillRect(id-1,ed-1,vd.width+8+2,Oe+8+2),sb.fillStyle=Pa,sb.fillRect(id,ed,vd.width+8,Oe+8),sb.fillStyle=Ee.ix,sb.fillText(le,id+4,ed+4+vd.actualBoundingBoxAscent));sb.strokeStyle=Ka;sb.fillStyle=Da;sb.globalAlpha=rb;sb.closePath()}if(wa){var df=function(zd,Zd,je,$e){var Eh=$e.scrollX,$h=$e.scrollY,Bj=$e.zoom;if(0===zd.length)return{horizontal:null,vertical:null};$e=Bg(zd);var cj=$e[0],Vl=$e[1];zd=$e[2];$e=$e[3];var un=Zd/Bj.value,fm=je/Bj.value,vn=Zd-un,Wm=je-fm;Bj=parseInt(ag("sat"));
var fo=parseInt(ag("sab")),Xm=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Ut=ua.rtl;Eh=vn/2-Eh+Xm;$h=Wm/2-$h+Bj;un=Eh+un-Vr;fm=$h+fm-fo;cj=Math.min(cj,Eh);Vl=Math.min(Vl,$h);zd=Math.max(zd,un);$e=Math.max($e,fm);return{horizontal:Eh===cj&&un===zd?null:{x:Math.max(Xm,4)+(Eh-cj)/(zd-cj)*Zd,y:je-6-Math.max(4,fo),width:(un-Eh)/(zd-cj)*Zd-Math.max(8,Xm+Vr),height:6},vertical:$h===Vl&&fm===$e?null:{x:Ut?Math.max(Xm,4):Zd-6-Math.max(Vr,4),y:($h-Vl)/($e-Vl)*je+Math.max(Bj,4),width:6,height:(fm-$h)/($e-Vl)*
je-Math.max(8,Bj+fo)}}}(g,dc,Yb,ya);Da=sb.fillStyle;Ka=sb.strokeStyle;sb.fillStyle="rgba(0,0,0,0.3)";sb.strokeStyle="rgba(255,255,255,0.8)";[df.horizontal,df.vertical].forEach(function(zd){if(zd){var Zd=zd.x,je=zd.y,$e=zd.width;zd=zd.height;sb.beginPath();sb.moveTo(Zd+3,je);sb.lineTo(Zd+$e-3,je);sb.quadraticCurveTo(Zd+$e,je,Zd+$e,je+3);sb.lineTo(Zd+$e,je+zd-3);sb.quadraticCurveTo(Zd+$e,je+zd,Zd+$e-3,je+zd);sb.lineTo(Zd+3,je+zd);sb.quadraticCurveTo(Zd,je+zd,Zd,je+zd-3);sb.lineTo(Zd,je+3);sb.quadraticCurveTo(Zd,
je,Zd+3,je);sb.closePath();sb.fill();sb.stroke()}});sb.fillStyle=Da;sb.strokeStyle=Ka}return sb.scale(1/M,1/M),{atLeastOneVisibleElement:0<ja.length,scrollBars:df}},vk=function(g,z,A,M){Object.keys(A).forEach(function(ca){var ja=A[ca];if(void 0!==ja){var ya=g.lineWidth;g.lineWidth=1/z.zoom.value;"rotation"===ca?Hm(g,ja[0]+ja[2]/2,ja[1]+ja[3]/2,ja[2]/2):vl(g,ja[0],ja[1],ja[2],ja[3],ja[0]+ja[2]/2,ja[1]+ja[3]/2,M,!0);g.lineWidth=ya}})},am=function(g,z){var A=ig(z),M=A[0],ca=A[1],ja=A[2]-M;A=A[3]-ca;
var ya=Zi(z,ja,A);g.strokeStyle="rgba(0,0,0,.05)";g.lineWidth=ya-4;ya=2+ya/2;switch(z.type){case "rectangle":case "text":vl(g,M-ya,ca-ya,ja+2*ya,A+2*ya,M+ja/2,ca+A/2,z.angle);break;case "diamond":var wa=Math.hypot(ja,A);!function(Da,Pa,Ka,lb,rb,sb){Da.translate(lb,rb);Da.rotate(sb);Da.beginPath();Da.moveTo(0,Ka/2);Da.lineTo(Pa/2,0);Da.lineTo(0,-Ka/2);Da.lineTo(-Pa/2,0);Da.closePath();Da.stroke();Da.rotate(-sb);Da.translate(-lb,-rb)}(g,ja+ya*wa/A*2,A+ya*wa/ja*2,M+ja/2,ca+A/2,z.angle);break;case "ellipse":!function(Da,
Pa,Ka,lb,rb,sb){Da.beginPath();Da.ellipse(lb,rb,Pa/2,Ka/2,sb,0,2*Math.PI);Da.stroke()}(g,ja+2*ya,A+2*ya,M+ja/2,ca+A/2,z.angle)}},fj=function(g,z){var A=z[0],M=z[1];z=z[2];var ca=Zi(z,z.width,z.height);g.strokeStyle="rgba(0,0,0,0)";g.fillStyle="rgba(0,0,0,.05)";("both"===M?[0,-1]:"start"===M?[0]:[-1]).forEach(function(ja){ja=dg.getPointAtIndexGlobalCoordinates(A,ja);Hm(g,ja[0],ja[1],ca)})},Ij=function(g,z,A,M){M=void 0===M?{}:M;var ca=M.offsetX,ja=void 0===ca?0:ca;M=M.offsetY;var ya=void 0===M?0:M;
A&&g.forEach(function(wa){wa.isDeleted||function(Da,Pa,Ka,lb,rb){var sb=ig(Da),dc=sb[0],Yb=sb[1],zc=(sb[2]-dc)/2-(Da.x-dc),ed=(sb[3]-Yb)/2-(Da.y-Yb),id=180*Da.angle/Math.PI;sb=Pa.generator;switch(Da.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Da,sb);sb=Pa.draw(wi.get(Da));1!=(ke=Da.opacity/100)&&(sb.setAttribute("stroke-opacity","".concat(ke)),sb.setAttribute("fill-opacity","".concat(ke)));sb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));Ka.appendChild(sb);break;case "line":case "draw":case "arrow":Yj(Da,sb);var vd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Da.opacity/100;wi.get(Da).forEach(function(je){je=Pa.draw(je);1!==le&&(je.setAttribute("stroke-opacity","".concat(le)),je.setAttribute("fill-opacity","".concat(le)));je.setAttribute("transform","translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id,
" ").concat(zc," ").concat(ed,")"));"line"!==Da.type&&"draw"!==Da.type||!ei(Da.points)||"transparent"===Da.backgroundColor||je.setAttribute("fill-rule","evenodd");vd.appendChild(je)});Ka.appendChild(vd);break;default:if(!be(Da))throw Error("Unimplemented type ".concat(Da.type));var ke=Da.opacity/100;sb=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(sb.setAttribute("stroke-opacity","".concat(ke)),sb.setAttribute("fill-opacity","".concat(ke)));sb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));ke=Da.text.replace(/\r\n?/g,"\n").split("\n");dc=Da.height/ke.length;Yb=Da.height-Da.baseline;for(var Oe="center"===Da.textAlign?Da.width/2:"right"===Da.textAlign?Da.width:0,Je=xh.test(Da.text)?"rtl":"ltr",df="center"===Da.textAlign?"middle":"right"===Da.textAlign||"rtl"===Je?"end":"start",zd=0;zd<ke.length;zd++){var Zd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Zd.textContent=
ke[zd];Zd.setAttribute("x","".concat(Oe));Zd.setAttribute("y","".concat((zd+1)*dc-Yb));Zd.setAttribute("font-family","".concat(hc.ut[Da.fontFamily],", ").concat(hc._D));Zd.setAttribute("font-size","".concat(Da.fontSize,"px"));Zd.setAttribute("fill",Da.strokeColor);Zd.setAttribute("text-anchor",df);Zd.setAttribute("style","white-space: pre;");Zd.setAttribute("direction",Je);sb.appendChild(Zd)}Ka.appendChild(sb)}}(wa,z,A,wa.x+ja,wa.y+ya)})},wl=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,
ca++)g[ca]=z[A];return g},vm=function(g,z,A,M){var ca=A.exportBackground,ja=A.exportPadding;ja=void 0===ja?10:ja;var ya=A.viewBackgroundColor,wa=A.scale,Da=void 0===wa?1:wa;A=A.shouldAddWatermark;void 0===M&&(M=function(Ka,lb){var rb=document.createElement("canvas");return rb.width=Ka*Da,rb.height=lb*Da,{canvas:rb,scale:Da}});g=Yn(g,A);var Pa=Jm(g,ja,A);A=Pa[0];wa=Pa[1];Pa=M(Pa[2],Pa[3]);M=Pa.canvas;Pa=Pa.scale;return kn(g,z,null,void 0===Pa?Da:Pa,Qh.canvas(M),M,{viewBackgroundColor:ca?ya:null,exportWithDarkMode:z.exportWithDarkMode,
scrollX:-A+ja,scrollY:-wa+ja,zoom:Dh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),M},Pl=function(g,z){var A=z.exportBackground,M=z.exportPadding;M=void 0===M?10:M;var ca=z.viewBackgroundColor,ja=z.exportWithDarkMode,ya=z.scale;ya=void 0===ya?1:ya;var wa=z.shouldAddWatermark;z=z.metadata;z=void 0===z?"":z;g=Yn(g,wa);var Da=
Jm(g,M,wa);wa=Da[0];var Pa=Da[1],Ka=Da[2],lb=Da[3];Da=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Da.setAttribute("version","1.1"),Da.setAttribute("xmlns","http://www.w3.org/2000/svg"),Da.setAttribute("viewBox","0 0 ".concat(Ka," ").concat(lb)),Da.setAttribute("width","".concat(Ka*ya)),Da.setAttribute("height","".concat(lb*ya)),ja&&Da.setAttribute("filter",hc.Gi),Da.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(z,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
A&&ca)A=Da.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),A.setAttribute("x","0"),A.setAttribute("y","0"),A.setAttribute("width","".concat(Ka)),A.setAttribute("height","".concat(lb)),A.setAttribute("fill",ca),Da.appendChild(A);A=Qh.svg(Da);return Ij(g,A,Da,{offsetX:-wa+M,offsetY:-Pa+M}),Da},Yn=function(g,z){var A=wl([],g);z&&(z=Bg(g),g=z[2],z=z[3],A=wl([],A),g=Kj({text:eb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:g,y:z+16,
strokeColor:Ee.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),A=wl(A,[g]));return A},Jm=function(g,z,A){g=Bg(g);var M=g[0],ca=g[1];return[M,ca,Math.abs(M-g[2])+2*z,Math.abs(ca-g[3])+z+(A?0:z)]},Tj=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},Mi=function(g){return(g=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(g))?parseFloat(g[1].replace(/,/g,"")):null},Hn=function(g,z){return g.slice(1).every(function(A){return null!==
Mi(A[z])})},In=function(g){var z=g[0].length;if(2<z)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===z){if(!Hn(g,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};z=null===Mi(g[0][0]);var A=(z?g.slice(1):g).map(function(ja){return Mi(ja[0])});return 2>A.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:z?g[0][0]:null,labels:null,values:A}}}var M=Hn(g,0)?0:1;if(!Hn(g,M))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var ca=(M+1)%2;A=(z=null===Mi(g[0][M]))?g.slice(1):g;return 2>A.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:z?g[0][M]:null,labels:A.map(function(ja){return ja[ca]}),values:A.map(function(ja){return Mi(ja[M])})}}},Wk=Ek.elementBackground.slice(2,Ek.elementBackground.length),gj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:Ek.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Im=function(g){return{chartWidth:44*g.values.length+12,chartHeight:280}},Vn=function(g,z,A,M,ca,ja){var ya=Im(g),wa=ya.chartWidth,Da=ya.chartHeight;ya=g.title?Kj(We(We({backgroundColor:ca,groupIds:[M]},gj),{},{text:g.title,x:z+wa/2,y:A-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ja=ja?Ol(We(We({backgroundColor:ca,groupIds:[M]},gj),{},{type:"rectangle",x:z,y:A-Da,width:wa,height:Da,strokeColor:Ek.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Tj(Tj(Tj(Tj(Tj([],ja?[ja]:[]),ya?[ya]:[]),function(Pa,Ka,lb,rb,sb){var dc;return(null===(dc=Pa.labels)||void 0===dc?void 0:dc.map(function(Yb,zc){return Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{text:8<Yb.length?"".concat(Yb.slice(0,5),"..."):Yb,x:Ka+44*zc+24,y:lb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(g,z,A,M,ca)),function(Pa,Ka,lb,rb,sb){var dc=Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{x:Ka-12,y:lb-12,text:"0",textAlign:"right"}));
return[dc,Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{x:Ka-12,y:lb-256-dc.height/2,text:Math.max.apply(Math,Pa.values).toLocaleString(),textAlign:"right"}))]}(g,z,A,M,ca)),function(Pa,Ka,lb,rb,sb){var dc=Im(Pa);Pa=dc.chartWidth;dc=dc.chartHeight;return[Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,endArrowhead:null,width:Pa,points:[[0,0],[Pa,0]]})),Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,
endArrowhead:null,height:dc,points:[[0,0],[0,-dc]]})),Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Pa,opacity:50,points:[[0,0],[Pa,0]]}))]}(g,z,A,M,ca))},Wn=function(g,z,A,M){return"line"===g?function(ca,ja,ya){for(var wa=Math.max.apply(Math,ca.values),Da=xi(),Pa=Wk[Math.floor(Math.random()*Wk.length)],Ka=0,lb=[],rb=0,sb=ca.values;rb<sb.length;rb++)lb.push([44*Ka,-sb[rb]/wa*256]),Ka++;Ka=Math.max.apply(Math,
lb.map(function(Yb){return Yb[0]}));rb=Math.max.apply(Math,lb.map(function(Yb){return Yb[1]}));sb=Math.min.apply(Math,lb.map(function(Yb){return Yb[0]}));var dc=Math.min.apply(Math,lb.map(function(Yb){return Yb[1]}));lb=Te(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"line",x:ja+12+16,y:ya-12,startArrowhead:null,endArrowhead:null,height:rb-dc,width:Ka-sb,strokeWidth:2,points:lb}));Ka=ca.values.map(function(Yb,zc){zc=44*zc+6;Yb=-Yb/wa*256+6;return Ol(We(We({backgroundColor:Pa,groupIds:[Da]},
gj),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:ja+zc+16,y:ya+Yb-24,width:12,height:12}))});rb=ca.values.map(function(Yb,zc){zc=44*zc+6;Yb=Yb/wa*256+18;return Te(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"line",x:ja+zc+16+6,y:ya-Yb,startArrowhead:null,endArrowhead:null,height:Yb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Yb]]}))});return Tj(Tj(Tj(Tj([],Vn(ca,ja,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT)),[lb]),rb),Ka)}(z,A,M):function(ca,ja,ya){var wa=Math.max.apply(Math,
ca.values),Da=xi(),Pa=Wk[Math.floor(Math.random()*Wk.length)],Ka=ca.values.map(function(lb,rb){lb=lb/wa*256;return Ol(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"rectangle",x:ja+44*rb+12,y:ya-lb-12,width:32,height:lb}))});return Tj(Tj([],Ka),Vn(ca,ja,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT))}(z,A,M)},Xn=function(){var g=function(z,A){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,
ja)&&(M[ja]=ca[ja])})(z,A)};return function(z,A){function M(){this.constructor=z}if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");g(z,A);z.prototype=null===A?Object.create(A):(M.prototype=A.prototype,new M)}}(),rn=function(g){function z(A,M){void 0===A&&(A="Couldn't export canvas.");void 0===M&&(M="CANVAS_ERROR");var ca=g.call(this)||this;return ca.name=M,ca.message=A,ca}return Xn(z,g),z}(Error),Nj=function(g,z){var A,M,ca,ja,
ya,wa,Da,Pa;g={type:g.type,version:g.version||1,versionNonce:null!==(A=g.versionNonce)&&void 0!==A?A:0,isDeleted:null!==(M=g.isDeleted)&&void 0!==M&&M,id:g.id||xi(),fillStyle:g.fillStyle||"hachure",strokeWidth:g.strokeWidth||1,strokeStyle:null!==(ca=g.strokeStyle)&&void 0!==ca?ca:"solid",roughness:null!==(ja=g.roughness)&&void 0!==ja?ja:1,opacity:null==g.opacity?100:g.opacity,angle:g.angle||0,x:g.x||0,y:g.y||0,strokeColor:g.strokeColor,backgroundColor:g.backgroundColor,width:g.width||0,height:g.height||
0,seed:null!==(ya=g.seed)&&void 0!==ya?ya:1,groupIds:null!==(wa=g.groupIds)&&void 0!==wa?wa:[],strokeSharpness:null!==(Da=g.strokeSharpness)&&void 0!==Da?Da:hj(g.type)?"round":"sharp",boundElementIds:null!==(Pa=g.boundElementIds)&&void 0!==Pa?Pa:[]};return Fe(Fe(Fe({},g),Ml(g)),z)},wk=function(g){return(g||[]).reduce(function(z,A){if("selection"!==A.type&&!Rh(A)){a:{var M;switch(A.type){case "text":var ca=A.fontSize,ja=A.fontFamily;if("font"in A){ca=A.font.split(" ");ja=ca[1];ca=parseInt(ca[0],10);
b:{for(var ya=0,wa=Object.entries(hc.ut);ya<wa.length;ya++){var Da=wa[ya],Pa=Da[0];if(Da[1].includes(ja)){ja=parseInt(Pa);break b}}ja=hc.rk}}A=Nj(A,{fontSize:ca,fontFamily:ja,text:null!==(M=A.text)&&void 0!==M?M:"",baseline:A.baseline,textAlign:A.textAlign||hc.Hg,verticalAlign:A.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":M=A.startArrowhead;M=void 0===M?null:M;ca=A.endArrowhead;ca=void 0===ca?"arrow"===A.type?"arrow":null:ca;A=Nj(A,{startBinding:A.startBinding,endBinding:A.endBinding,
points:!Array.isArray(A.points)||2>A.points.length?[[0,0],[A.width,A.height]]:A.points,lastCommittedPoint:null,startArrowhead:M,endArrowhead:ca});break a;case "ellipse":case "rectangle":case "diamond":A=Nj(A,{});break a}A=void 0}A&&z.push(A)}return z},[])},ln=function(g,z){g=g||{};for(var A=Dh(),M={},ca=0,ja=Object.entries(A);ca<ja.length;ca++){var ya=ja[ca],wa=ya[0];ya=ya[1];var Da=g[wa],Pa=z?z[wa]:void 0;M[wa]=void 0!==Da?Da:void 0!==Pa?Pa:ya}return Fe(Fe({},M),{},{offsetLeft:g.offsetLeft||0,offsetTop:g.offsetTop||
0,zoom:"number"==typeof g.zoom?{value:g.zoom,translation:A.zoom.translation}:g.zoom||A.zoom})},mn=function(g,z){return{elements:wk(null==g?void 0:g.elements),appState:ln(null==g?void 0:g.appState,z||null)}},tn=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=
[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=
z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},mj=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},ph=function(){function g(){}return g.importLibrary=function(z){return Pc()(function(){var A,
M,ca,ja;return tn(this,function(ya){switch(ya.label){case 0:return[4,qp(z)];case 1:return(A=ya.sent())&&A.library?(M=function(wa,Da){return!wa.find(function(Pa){return Pa.length===Da.length&&Pa.every(function(Ka,lb){return Ka.id===Da[lb].id&&Ka.versionNonce===Da[lb].versionNonce})})},[4,g.loadLibrary()]):[2];case 2:return ca=ya.sent(),ja=A.library.reduce(function(wa,Da){Da=ge(wk(Da));return M(ca,Da)&&wa.push(Da),wa},[]),g.saveLibrary(mj(mj([],ca),ja)),[2]}})})()},g}();ph.libraryCache=null;ph.resetLibrary=
function(){ph.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};ph.loadLibrary=function(){return new Promise(function(){var g=Pc()(function(z){var A,M;return tn(this,function(ca){if(ph.libraryCache)return[2,z(JSON.parse(JSON.stringify(ph.libraryCache)))];try{if(!(A=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,z([])];M=JSON.parse(A).map(function(ja){return wk(ja)});ph.libraryCache=JSON.parse(JSON.stringify(M));z(M)}catch(ja){console.error(ja),z([])}return[2]})});
return function(z){return g.apply(this,arguments)}}())};ph.saveLibrary=function(g){var z=ph.libraryCache;try{var A=JSON.stringify(g);ph.libraryCache=JSON.parse(A);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,A)}catch(M){ph.libraryCache=z,console.error(M)}};var qm=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=
ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);
else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},rm=function(g,z){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Df(g),
appState:vi(z,"export")},null,2)},bm=function(){var g=Pc()(function(z,A){var M;return qm(this,function(ca){switch(ca.label){case 0:return M=rm(z,A),[4,jh(new Blob([M],{type:"application/json"}),{fileName:A.name,description:"Excalidraw file",extensions:[".excalidraw"]},A.fileHandle)];case 1:return[2,{fileHandle:ca.sent()}]}})});return function(z,A){return g.apply(this,arguments)}}(),nn=function(){var g=Pc()(function(z){var A;return qm(this,function(M){switch(M.label){case 0:return[4,uh({description:"Excalidraw files",
extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return A=M.sent(),[2,Om(A,z)]}})});return function(z){return g.apply(this,arguments)}}(),sm=function(){var g=Pc()(function(){var z,A;return qm(this,function(M){switch(M.label){case 0:return[4,ph.loadLibrary()];case 1:return z=M.sent(),A=JSON.stringify({type:"excalidrawlib",version:1,library:z},null,2),"library.excalidrawlib",[4,jh(new Blob([A],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return M.sent(),[2]}})});return function(){return g.apply(this,arguments)}}(),pp=function(){var g=Pc()(function(){var z;return qm(this,function(A){switch(A.label){case 0:return[4,uh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return z=A.sent(),ph.importLibrary(z),[2]}})});return function(){return g.apply(this,arguments)}}(),Km=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Cn=function(){var g=Pc()(function(z){var A;return Km(this,function(M){switch(M.label){case 0:if("image/png"!==z.type)return[3,6];M.label=1;case 1:return M.trys.push([1,4,,5]),[4,Promise.all([f.e(736),f.e(9)]).then(f.bind(f,8527))];case 2:return[4,M.sent().decodePngMetadata(z)];case 3:return[2,M.sent()];case 4:throw"INVALID"===M.sent().message?Error(eb("alerts.imageDoesNotContainScene")):Error(eb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,z.text()]:[3,8];
case 7:return A=M.sent(),[3,10];case 8:return[4,new Promise(function(ca){var ja=new FileReader;ja.readAsText(z,"utf8");ja.onloadend=function(){ja.readyState===FileReader.DONE&&ca(ja.result)}})];case 9:A=M.sent(),M.label=10;case 10:if("image/svg+xml"!==z.type)return[3,15];M.label=11;case 11:return M.trys.push([11,14,,15]),[4,Promise.all([f.e(736),f.e(9)]).then(f.bind(f,8527))];case 12:return[4,M.sent().decodeSvgMetadata({svg:A})];case 13:return[2,M.sent()];case 14:throw"INVALID"===M.sent().message?
Error(eb("alerts.imageDoesNotContainScene")):Error(eb("alerts.cannotRestoreFromImage"));case 15:return[2,A]}})});return function(z){return g.apply(this,arguments)}}(),Om=function(){var g=Pc()(function(z,A){var M,ca;return Km(this,function(ja){switch(ja.label){case 0:return[4,Cn(z)];case 1:M=ja.sent();try{var ya=ca=JSON.parse(M);if("excalidraw"!==(null==ya?void 0:ya.type)||ya.elements&&(!Array.isArray(ya.elements)||ya.appState&&"object"!=typeof ya.appState))throw Error(eb("alerts.couldNotLoadInvalidFile"));
var wa=Df(ca.elements||[]),Da=null==A?void 0:A.appearance,Pa;if(Pa=z.handle){var Ka=["application/json",hc.LO.excalidraw],lb=Ka.includes;a:{if("string"==typeof z)var rb=z;else{if(z.type){var sb=z.type;break a}rb=z.name||""}sb=/\.(excalidraw|json)$/.test(rb)?"application/json":/\.png$/.test(rb)?"image/png":/\.jpe?g$/.test(rb)?"image/jpeg":/\.svg$/.test(rb)?"image/svg+xml":""}Pa=lb.call(Ka,sb)}return[2,mn({elements:wa,appState:Db(Db({appearance:Da,fileHandle:Pa?z.handle:null},vi(ca.appState||{},"export")),
A?mi(ca.elements||[],A):{})},A)]}catch(dc){throw console.error(dc.message),Error(eb("alerts.couldNotLoadInvalidFile"));}}})});return function(z,A){return g.apply(this,arguments)}}(),qp=function(){var g=Pc()(function(z){var A,M;return Km(this,function(ca){switch(ca.label){case 0:return[4,Cn(z)];case 1:if(A=ca.sent(),"excalidrawlib"!==(M=JSON.parse(A)).type)throw Error(eb("alerts.couldNotLoadInvalidFile"));return[2,M]}})});return function(z){return g.apply(this,arguments)}}(),Lm=function(){var g=Pc()(function(z){return Km(this,
function(A){return[2,new Promise(function(M,ca){try{z.toBlob(function(ja){if(!ja)return ca(new rn(eb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));M(ja)})}catch(ja){ca(ja)}})]})});return function(z){return g.apply(this,arguments)}}(),Vj=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;
switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();
wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Nm="",Mm=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,
Dk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Ck=function(){var g=Pc()(function(z,A){var M,ca,ja;return Vj(this,function(ya){switch(ya.label){case 0:M={type:"excalidraw/elements",created:Date.now(),elements:uf(z,A)},Nm=ca=JSON.stringify(M),ya.label=1;case 1:return ya.trys.push([1,3,,4]),Mm=!1,[4,Mb(ca)];case 2:return ya.sent(),[3,4];case 3:return ja=ya.sent(),Mm=!0,console.error(ja),[3,4];case 4:return[2]}})});return function(z,
A){return g.apply(this,arguments)}}(),Q=function(){if(!Nm)return{};try{return JSON.parse(Nm)}catch(g){return console.error(g),{}}},ma=function(g){g=function(z){var A=z.trim().split("\n").map(function(ca){return ca.trim().split("\t")});if(A.length&&2!==A[0].length&&(A=z.trim().split("\n").map(function(ca){return ca.trim().split(",")})),0===A.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var M=A[0].length;if(!A.every(function(ca){return ca.length===M}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
z=In(A);return"VALID_SPREADSHEET"!==z.type&&(A=In(function(ca){for(var ja=[],ya=0;ya<ca[0].length;ya++){for(var wa=[],Da=0;Da<ca.length;Da++)wa.push(ca[Da][ya]);ja.push(wa)}return ja}(A)),"VALID_SPREADSHEET"===A.type)?A:z}(g);return"VALID_SPREADSHEET"===g.type?{spreadsheet:g.spreadsheet}:null},Ca=function(){var g=Pc()(function(z){var A,M,ca;return Vj(this,function(ja){switch(ja.label){case 0:return ja.trys.push([0,5,,6]),z?(M=null===(A=z.clipboardData)||void 0===A?void 0:A.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(ca=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:ca=ja.sent(),ja.label=3;case 3:M=ca,ja.label=4;case 4:return[2,M||""];case 5:return ja.sent(),[2,""];case 6:return[2]}})});return function(z){return g.apply(this,arguments)}}(),db=function(){var g=Pc()(function(z){var A,M,ca,ja;return Vj(this,function(ya){switch(ya.label){case 0:return[4,Ca(z)];case 1:if(!(A=ya.sent())||A.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,Q()];if(M=ma(A))return[2,M];ca=Q();try{return ja=
JSON.parse(A),"excalidraw/elements"===(null==(wa=ja)?void 0:wa.type)&&(null==ca||!ca.created||ca.created<ja.created)?[2,{elements:ja.elements}]:[2,ca]}catch(Da){return[2,Mm&&ca.elements?ca:{text:A}]}}var wa})});return function(z){return g.apply(this,arguments)}}(),Ab=function(){var g=Pc()(function(z){var A;return Vj(this,function(M){switch(M.label){case 0:return[4,Lm(z)];case 1:return A=M.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":A})])];case 2:return M.sent(),[2]}})});
return function(z){return g.apply(this,arguments)}}(),Mb=function(){var g=Pc()(function(z){var A,M;return Vj(this,function(ca){switch(ca.label){case 0:if(A=!1,!Wj)return[3,4];ca.label=1;case 1:return ca.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(z||"")];case 2:return ca.sent(),A=!0,[3,4];case 3:return M=ca.sent(),console.error(M),[3,4];case 4:if(ca=!A){var ja=z||" ",ya="rtl"===document.documentElement.getAttribute("dir");ca=document.createElement("textarea");ca.style.border="0";ca.style.padding=
"0";ca.style.margin="0";ca.style.position="absolute";ca.style[ya?"right":"left"]="-9999px";ca.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");ca.style.fontSize="12pt";ca.setAttribute("readonly","");ca.value=ja;document.body.appendChild(ca);ja=!1;try{ca.select(),ca.setSelectionRange(0,ca.value.length),ja=document.execCommand("copy")}catch(wa){console.error(wa)}ca=!(ca.remove(),ja)}if(ca)throw Error("couldn't copy");return[2]}})});return function(z){return g.apply(this,
arguments)}}(),pc=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=
wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},
trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Ac=function(){var g=Pc()(function(z,A,M,ca,ja){var ya,wa,Da,Pa,Ka,lb,rb,sb,dc,Yb=ja.exportBackground,zc=ja.exportPadding,ed=void 0===zc?10:zc,id=ja.viewBackgroundColor,vd=ja.name;zc=ja.scale;var le=void 0===zc?1:zc,ke=ja.shouldAddWatermark;return pc(this,function(Oe){switch(Oe.label){case 0:if(0===A.length)throw Error(eb("alerts.cannotExportEmptyCanvas"));return"svg"!==
z&&"clipboard-svg"!==z?[3,7]:(wa=Pl,Da=[A],Pa={exportBackground:Yb,exportWithDarkMode:M.exportWithDarkMode,viewBackgroundColor:id,exportPadding:ed,scale:le,shouldAddWatermark:ke},M.exportEmbedScene&&"svg"===z?[4,Promise.all([f.e(736),f.e(9)]).then(f.bind(f,8527))]:[3,3]);case 1:return[4,Oe.sent().encodeSvgMetadata({text:rm(A,M)})];case 2:return Ka=Oe.sent(),[3,4];case 3:Ka=void 0,Oe.label=4;case 4:return ya=wa.apply(void 0,Da.concat([(Pa.metadata=Ka,Pa)])),"svg"!==z?[3,6]:[4,jh(new Blob([ya.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(vd,".svg"),extensions:[".svg"]})];case 5:return Oe.sent(),[2];case 6:if("clipboard-svg"===z)return Mb(ya.outerHTML),[2];Oe.label=7;case 7:return(lb=vm(A,M,{exportBackground:Yb,viewBackgroundColor:id,exportPadding:ed,scale:le,shouldAddWatermark:ke})).style.display="none",document.body.appendChild(lb),"png"!==z?[3,13]:(rb="".concat(vd,".png"),[4,Lm(lb)]);case 8:return sb=Oe.sent(),M.exportEmbedScene?[4,Promise.all([f.e(736),f.e(9)]).then(f.bind(f,8527))]:
[3,11];case 9:return[4,Oe.sent().encodePngMetadata({blob:sb,metadata:rm(A,M)})];case 10:sb=Oe.sent(),Oe.label=11;case 11:return[4,jh(sb,{fileName:rb,extensions:[".png"]})];case 12:return Oe.sent(),[3,17];case 13:if("clipboard"!==z)return[3,17];Oe.label=14;case 14:return Oe.trys.push([14,16,,17]),[4,Ab(lb)];case 15:return Oe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(dc=Oe.sent()).name)throw dc;throw Error(eb("alerts.couldNotCopyToClipboard"));case 17:return lb!==ca&&lb.remove(),[2]}})});
return function(z,A,M,ca,ja){return g.apply(this,arguments)}}(),Lc=function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;
case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,
ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Xc,nd,Qd;ne({name:"changeProjectName",perform:function(g,z,A){return Sg("change","title"),{appState:Xa(Xa({},z),{},{name:A}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement(Di,{label:eb("labels.fileTitle"),value:z.name||"Unnamed",onChange:function(M){return A(M)}})}});
ne({name:"changeExportBackground",perform:function(g,z,A){return{appState:Xa(Xa({},z),{},{exportBackground:A}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:z.exportBackground,onChange:function(M){return A(M.target.checked)}})," ",eb("labels.withBackground"))}});ne({name:"changeExportEmbedScene",perform:function(g,z,A){return{appState:Xa(Xa({},z),{},{exportEmbedScene:A}),commitToHistory:!1}},
PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement("label",{style:{display:"flex"}},Ea().createElement("input",{type:"checkbox",checked:z.exportEmbedScene,onChange:function(M){return A(M.target.checked)}})," ",eb("labels.exportEmbedScene"),Ea().createElement(Gj,{label:eb("labels.exportEmbedScene_details"),position:"above",long:!0},Ea().createElement("div",{className:"TooltipIcon"},fd)))}});ne({name:"changeShouldAddWatermark",perform:function(g,z,A){return{appState:Xa(Xa({},
z),{},{shouldAddWatermark:A}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:z.shouldAddWatermark,onChange:function(M){return A(M.target.checked)}})," ",eb("labels.addWatermark"))}});ne({name:"saveScene",perform:(Xc=Pc()(function(g,z,A){var M,ca,ja;return Lc(this,function(ya){switch(ya.label){case 0:M=!!z.fileHandle,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,bm(g,z)];
case 2:return ca=ya.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},z),{},{fileHandle:ca,toastMessage:M?ca.name?eb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ca.name,'"')):eb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ja=ya.sent())?void 0:ja.name)&&console.error(ja),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(g,z,A){return Xc.apply(this,arguments)}),keyTest:function(g){return"s"===g.key&&g[cf]&&!g.shiftKey},PanelComponent:function(g){var z=
g.updateData;return Ea().createElement(gf,{type:"button",icon:De,title:eb("buttons.save"),"aria-label":eb("buttons.save"),showAriaLabel:Ve(),onClick:function(){return z(null)}})}});ne({name:"saveAsScene",perform:(nd=Pc()(function(g,z,A){var M,ca;return Lc(this,function(ja){switch(ja.label){case 0:return ja.trys.push([0,2,,3]),[4,bm(g,Xa(Xa({},z),{},{fileHandle:null}))];case 1:return M=ja.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},z),{},{fileHandle:M})}];case 2:return"AbortError"!==
(null==(ca=ja.sent())?void 0:ca.name)&&console.error(ca),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(g,z,A){return nd.apply(this,arguments)}),keyTest:function(g){return"s"===g.key&&g.shiftKey&&g[cf]},PanelComponent:function(g){var z=g.updateData;return Ea().createElement(gf,{type:"button",icon:Fm,title:eb("buttons.saveAs"),"aria-label":eb("buttons.saveAs"),showAriaLabel:Ve(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return z(null)}})}});
ne({name:"loadScene",perform:(Qd=Pc()(function(g,z){var A,M,ca,ja;return Lc(this,function(ya){switch(ya.label){case 0:return ya.trys.push([0,2,,3]),[4,nn(z)];case 1:return A=ya.sent(),M=A.elements,ca=A.appState,[2,{elements:M,appState:ca,commitToHistory:!0}];case 2:return"AbortError"===(null==(ja=ya.sent())?void 0:ja.name)?[2,!1]:[2,{elements:g,appState:Xa(Xa({},z),{},{errorMessage:ja.message}),commitToHistory:!1}];case 3:return[2]}})}),function(g,z){return Qd.apply(this,arguments)}),keyTest:function(g){return g[cf]&&
"o"===g.key},PanelComponent:function(g){var z=g.updateData;g.appState;return Ea().createElement(gf,{type:"button",icon:om,title:eb("buttons.load"),"aria-label":eb("buttons.load"),showAriaLabel:Ve(),onClick:z})}});ne({name:"exportWithDarkMode",perform:function(g,z,A){return{appState:Xa(Xa({},z),{},{exportWithDarkMode:A}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,A=g.updateData;return Ea().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",
marginBottom:"10px"}},Ea().createElement(hk,{value:z.exportWithDarkMode?"dark":"light",onChange:function(M){A("dark"===M)},title:eb("labels.toggleExportColorScheme")}))}});var fe="{}",qf=ne({name:"copyStyles",perform:function(g,z){g=g.find(function(A){return z.selectedElementIds[A.id]});return g&&(fe=JSON.stringify(g)),{appState:vb(vb({},z),{},{toastMessage:eb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(g){return g[cf]&&g.altKey&&"KeyC"===g.code}}),
hf=ne({name:"pasteStyles",perform:function(g,z){var A=JSON.parse(fe);return"text"!==(null==A?void 0:A.type)&&"diamond"!==(null==A?void 0:A.type)&&"rectangle"!==(null==A?void 0:A.type)&&"ellipse"!==(null==A?void 0:A.type)&&"arrow"!==(null==A?void 0:A.type)&&"draw"!==(null==A?void 0:A.type)&&"line"!==(null==A?void 0:A.type)?{elements:g,commitToHistory:!1}:{elements:g.map(function(M){return z.selectedElementIds[M.id]?(M=yg(M,{backgroundColor:null==A?void 0:A.backgroundColor,strokeWidth:null==A?void 0:
A.strokeWidth,strokeColor:null==A?void 0:A.strokeColor,strokeStyle:null==A?void 0:A.strokeStyle,fillStyle:null==A?void 0:A.fillStyle,opacity:null==A?void 0:A.opacity,roughness:null==A?void 0:A.roughness}),be(M)&&(jf(M,{fontSize:(null==A?void 0:A.fontSize)||hc.n5,fontFamily:(null==A?void 0:A.fontFamily)||hc.rk,textAlign:(null==A?void 0:A.textAlign)||hc.Hg}),qk(M)),M):M}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(g){return g[cf]&&g.altKey&&"KeyV"===g.code}}),gi=function(g){return Ea().createElement("label",
{title:"".concat(g.title," — ?"),className:"help-icon"},Ea().createElement("div",{onClick:g.onClick},fd))};ne({name:"toggleCanvasMenu",perform:function(g,z){return{appState:rc(rc({},z),{},{openMenu:"canvas"===z.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:Sk,"aria-label":eb("buttons.menu"),onClick:g,selected:"canvas"===z.openMenu})}});ne({name:"toggleEditMenu",perform:function(g,z){return{appState:rc(rc({},
z),{},{openMenu:"shape"===z.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(g){var z=g.elements,A=g.appState;g=g.updateData;return Ea().createElement(gf,{visible:rh(A,ge(z)),type:"button",icon:Mh,"aria-label":eb("buttons.edit"),onClick:g,selected:"shape"===A.openMenu})}});ne({name:"toggleFullScreen",perform:function(){return wh()||document.documentElement.requestFullscreen(),wh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(g){return"KeyF"===g.code&&!g[cf]}});
ne({name:"toggleShortcuts",perform:function(g,z){return{appState:rc(rc({},z),{},{showHelpDialog:!z.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(g){g=g.updateData;return Ea().createElement(gi,{title:eb("helpDialog.title"),onClick:g})},keyTest:function(g){return"?"===g.key}});var Zk=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},ak=function(g,z){g=uf(ge(g),z);return 2<=g.length&&!function(A){if(2<=A.length)for(var M=function(wa){if(A.reduce(function(Da,
Pa){return Da&&Pa.groupIds.includes(wa)},!0))return{value:!0}},ca=0,ja=A[0].groupIds;ca<ja.length;ca++){var ya=M(ja[ca]);if("object"==typeof ya)return ya.value}return!1}(g)},cg=ne({name:"group",perform:function(g,z){var A=uf(ge(g),z);if(2>A.length)return{appState:z,elements:g,commitToHistory:!1};var M=Li(z);if(1===M.length&&(M=new Set(ck(g,M[0]).map(function(ya){return ya.id})),A=new Set(A.map(function(ya){return ya.id})),(new Set(Zk(Zk([],Array.from(M)),Array.from(A)))).size===M.size))return{appState:z,
elements:g,commitToHistory:!1};var ca=xi();M=g.map(function(ya){if(z.selectedElementIds[ya.id]){var wa=z.editingGroupId;var Da=zl([],ya.groupIds);wa=wa?Da.indexOf(wa):-1;Da=(Da.splice(-1<wa?wa:Da.length,0,ca),Da);ya=yg(ya,{groupIds:Da})}return ya});g=ck(M,ca);var ja=M.lastIndexOf(g[g.length-1]);A=M.slice(ja+1);M=M.slice(0,ja).filter(function(ya){return!ya.groupIds.includes(ca)});g=Zk(Zk(Zk([],M),g),A);return{appState:bk(ca,Nc(Nc({},z),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},
contextItemLabel:"labels.group",contextItemPredicate:function(g,z){return ak(g,z)},keyTest:function(g){return!g.shiftKey&&g[cf]&&"KeyG"===g.code},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!ak(z,A),type:"button",icon:Ea().createElement(sf,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.group")," — ").concat(Wd("CtrlOrCmd+G")),"aria-label":eb("labels.group"),visible:kg(ge(z),A)})}}),yi=ne({name:"ungroup",
perform:function(g,z){if(0===Li(z).length)return{appState:z,elements:g,commitToHistory:!1};g=g.map(function(A){var M=function(ca,ja){return ca.filter(function(ya){return!ja[ya]})}(A.groupIds,z.selectedGroupIds);return M.length===A.groupIds.length?A:yg(A,{groupIds:M})});return{appState:Wh(Nc(Nc({},z),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},keyTest:function(g){return g.shiftKey&&g[cf]&&"KeyG"===g.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(g,z){return 0<
Li(z).length},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",hidden:0===Li(A).length,icon:Ea().createElement(Ok,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.ungroup")," — ").concat(Wd("CtrlOrCmd+Shift+G")),"aria-label":eb("labels.ungroup"),visible:kg(ge(z),A)})}}),Kk=(f(1395),function(g){var z=g.children,A=g.color,M=g.border;g=g.onClick;return Ea().createElement("div",{className:"Avatar",
style:{background:A,border:"1px solid ".concat(M)},onClick:g},z)});ne({name:"goToCollaborator",perform:function(g,z,A){return A?{appState:Yc(Yc(Yc({},z),Xi({scenePoint:A,viewportDimensions:{width:z.width,height:z.height},zoom:z.zoom})),{},{openMenu:"canvas"===z.openMenu?null:z.openMenu}),commitToHistory:!1}:{appState:z,commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,A=g.updateData;g=g.id;if(!g)return null;var M=z.collaborators.get(g);if(!M)return null;g=Ti(g,z);z=g.background;g=g.stroke;
var ca=function(ja){if(!ja)return"?";ja=ja.trim().split(" ");return 2>ja.length?ja[0].substring(0,2).toUpperCase():(ja[0][0]+ja[ja.length-1][0]).toUpperCase()}(M.username);return Ea().createElement(Kk,{color:z,border:g,onClick:function(){return A(M.pointer)}},ca)}});var Qm=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},Oo=ne({name:"addToLibrary",perform:function(g,z){var A=uf(ge(g),z);return ph.loadLibrary().then(function(M){ph.saveLibrary(Qm(Qm([],M),[A.map(Lj)]))}),
!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},ao=function(g){var z=new Map;return g.forEach(function(A){var M=0===A.groupIds.length?A.id:A.groupIds[A.groupIds.length-1],ca=z.get(M)||[];z.set(M,Fn(Fn([],ca),[A]))}),Array.from(z.values())},Cf=function(g,z,A){var M,ca,ja,ya=A.axis;A=A.position;g=Xj(g);var wa="x"===ya?["minX","maxX"]:["minY","maxY"],Da=wa[0];wa=wa[1];return uc(uc({},{x:0,y:0}),{},"start"===A?((M={})[ya]=
z[Da]-g[Da],M):"end"===A?((ca={})[ya]=z[wa]-g[wa],ca):((ja={})[ya]=(z[Da]+z[wa])/2-(g[Da]+g[wa])/2,ja))},Xj=function(g){g=Bg(g);return{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}},Zh=function(g,z){return 1<uf(ge(g),z).length},Ki=function(g,z,A){z=function(ca,ja){var ya=ao(ca),wa=Xj(ca);return ya.flatMap(function(Da){var Pa=Cf(Da,wa,ja);return Da.map(function(Ka){return yg(Ka,{x:Ka.x+Pa.x,y:Ka.y+Pa.y})})})}(uf(ge(g),z),A);var M=$i(z);return g.map(function(ca){return M[ca.id]||ca})},sn=(ne({name:"alignTop",
perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowUp"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(Gh,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignTop")," — ").concat(Wd("CtrlOrCmd+Shift+Up")),"aria-label":eb("labels.alignTop"),
visible:kg(ge(z),A)})}}),ne({name:"alignBottom",perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowDown"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(rg,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignBottom")," — ").concat(Wd("CtrlOrCmd+Shift+Down")),
"aria-label":eb("labels.alignBottom"),visible:kg(ge(z),A)})}}),ne({name:"alignLeft",perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowLeft"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(Aj,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignLeft"),
" — ").concat(Wd("CtrlOrCmd+Shift+Left")),"aria-label":eb("labels.alignLeft"),visible:kg(ge(z),A)})}}),ne({name:"alignRight",perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowRight"===g.key},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(hd,{appearance:A.appearance}),onClick:function(){return M(null)},
title:"".concat(eb("labels.alignRight")," — ").concat(Wd("CtrlOrCmd+Shift+Right")),"aria-label":eb("labels.alignRight"),visible:kg(ge(z),A)})}}),ne({name:"alignVerticallyCentered",perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(ad,{appearance:A.appearance}),onClick:function(){return M(null)},
title:eb("labels.centerVertically"),"aria-label":eb("labels.centerVertically"),visible:kg(ge(z),A)})}}),ne({name:"alignHorizontallyCentered",perform:function(g,z){return{appState:z,elements:Ki(g,z,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(z,A),type:"button",icon:Ea().createElement(Tk,{appearance:A.appearance}),onClick:function(){return M(null)},title:eb("labels.centerHorizontally"),
"aria-label":eb("labels.centerHorizontally"),visible:kg(ge(z),A)})}}),function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g}),jq=function(g){var z=new Map;return g.forEach(function(A){var M=0===A.groupIds.length?A.id:A.groupIds[A.groupIds.length-1],ca=z.get(M)||[];z.set(M,sn(sn([],ca),[A]))}),Array.from(z.values())},xj=function(g){var z=Bg(g);g=z[0];var A=z[1],M=z[2];z=z[3];return{minX:g,minY:A,maxX:M,maxY:z,width:M-g,height:z-A,midX:(g+M)/2,midY:(A+z)/2}},No=function(g,
z){return 1<uf(ge(g),z).length},Dn=function(g,z,A){z=function(ca,ja){var ya="x"===ja.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],wa=ya[0],Da=ya[1],Pa=ya[2],Ka=ya[3],lb=xj(ca);ca=jq(ca).map(function(vd){return[vd,xj(vd)]}).sort(function(vd,le){return vd[1][Da]-le[1][Da]});for(var rb=ya=0;rb<ca.length;rb++)ya+=ca[rb][1][Ka];var sb=(lb[Ka]-ya)/(ca.length-1);if(0>sb){var dc=ca.findIndex(function(vd){return vd[1][wa]===lb[wa]}),Yb=ca.findIndex(function(vd){return vd[1][Pa]===lb[Pa]}),
zc=(ca[Yb][1][Da]-ca[dc][1][Da])/(ca.length-1),ed=ca[dc][1][Da];return ca.flatMap(function(vd,le){var ke=vd[0];vd=vd[1];var Oe={x:0,y:0};return le!==dc&&le!==Yb&&(ed+=zc,Oe[ja.axis]=ed-vd[Da]),ke.map(function(Je){return yg(Je,{x:Je.x+Oe.x,y:Je.y+Oe.y})})})}var id=lb[wa];return ca.flatMap(function(vd){var le=vd[0];vd=vd[1];var ke={x:0,y:0};return ke[ja.axis]=id-vd[wa],id+=sb,id+=vd[Ka],le.map(function(Oe){return yg(Oe,{x:Oe.x+ke.x,y:Oe.y+ke.y})})})}(uf(ge(g),z),A);var M=$i(z);return g.map(function(ca){return M[ca.id]||
ca})},Zn=(ne({name:"distributeHorizontally",perform:function(g,z){return{appState:z,elements:Dn(g,z,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyH"===g.code},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!No(z,A),type:"button",icon:Ea().createElement(od,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.distributeHorizontally")," — ").concat(Wd("Alt+H")),
"aria-label":eb("labels.distributeHorizontally"),visible:kg(ge(z),A)})}}),ne({name:"distributeVertically",perform:function(g,z){return{appState:z,elements:Dn(g,z,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyV"===g.code},PanelComponent:function(g){var z=g.elements,A=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!No(z,A),type:"button",icon:Ea().createElement(Og,{appearance:A.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.distributeVertically"),
" — ").concat(Wd("Alt+V")),"aria-label":eb("labels.distributeVertically"),visible:kg(ge(z),A)})}}),function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;
ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,
done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),pn=ne({name:"copy",perform:function(g,z){return Ck(ge(g),z),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),iq=ne({name:"cut",perform:function(g,z,A,M){return pn.perform(g,z,A,M),Rg.perform(g,z,A,M)},contextItemLabel:"labels.cut",keyTest:function(g){return g[cf]&&
"KeyX"===g.code}}),up=ne({name:"copyAsSvg",perform:function(){var g=Pc()(function(z,A,M,ca){var ja,ya;return Zn(this,function(wa){switch(wa.label){case 0:if(!ca.canvas)return[2,{commitToHistory:!1}];ja=uf(ge(z),A);wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ac("clipboard-svg",ja.length?ja:ge(z),A,ca.canvas,A)];case 2:return wa.sent(),[2,{commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},A),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});
return function(z,A,M,ca){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),tp=ne({name:"copyAsPng",perform:function(){var g=Pc()(function(z,A,M,ca){var ja,ya;return Zn(this,function(wa){switch(wa.label){case 0:if(!ca.canvas)return[2,{commitToHistory:!1}];ja=uf(ge(z),A);wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ac("clipboard",ja.length?ja:ge(z),A,ca.canvas,A)];case 2:return wa.sent(),[2,{appState:he(he({},A),{},{toastMessage:eb("toast.copyToClipboardAsPng",{exportSelection:ja.length?
eb("toast.selection"):eb("toast.canvas"),exportColorScheme:A.exportWithDarkMode?eb("buttons.darkMode"):eb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},A),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});return function(z,A,M,ca){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(g){return"KeyC"===g.code&&g.altKey&&g.shiftKey}}),rp=ne({name:"gridMode",perform:function(g,
z){return Sg("view","mode","grid"),{appState:Ae(Ae({},z),{},{gridSize:this.checked(z)?null:hc.k}),commitToHistory:!1}},checked:function(g){return null!==g.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(g){return g[cf]&&"Quote"===g.code}}),oe=ne({name:"zenMode",perform:function(g,z){return Sg("view","mode","zen"),{appState:ic(ic({},z),{},{zenModeEnabled:!this.checked(z)}),commitToHistory:!1}},checked:function(g){return g.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(g){return!g[cf]&&
g.altKey&&"KeyZ"===g.code}}),$n=ne({name:"stats",perform:function(g,z){return{appState:kc(kc({},z),{},{showStats:!this.checked(z)}),commitToHistory:!1}},checked:function(g){return g.showStats},contextItemLabel:"stats.title"}),sp=function(g,z,A){if(!(z.multiElement||z.resizingElement||z.editingElement||z.draggingElement)){A=A();if(null===A)return{commitToHistory:!1};var M=$i(g),ca=A.elements,ja=$i(ca);g=g.filter(function(ya){return!ja.hasOwnProperty(ya.id)});ca=ca.map(function(ya){return yg(M[ya.id]||
ya,ya)}).concat(g.map(function(ya){return yg(ya,{isDeleted:!0})}));return tj(ca,g),{elements:ca,appState:Ad(Ad({},z),A.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function g(z,A,M,ca){var ja=this;this.actions={};this.renderAction=function(ya,wa){if(ja.actions[ya]&&"PanelComponent"in ja.actions[ya]){var Da=ja.actions[ya];ya=Da.PanelComponent;return Ea().createElement(ya,{elements:ja.getElementsIncludingDeleted(),appState:ja.getAppState(),updateData:function(Pa){ja.updater(Da.perform(ja.getElementsIncludingDeleted(),
ja.getAppState(),Pa,ja.app))},id:wa})}return null};this.updater=function(ya){if(!(ya&&"then"in ya))return z(ya);ya.then(function(wa){return z(wa)})};this.getAppState=A;this.getElementsIncludingDeleted=M;this.app=ca}return g.prototype.registerAction=function(z){this.actions[z.name]=z},g.prototype.registerAll=function(z){var A=this;z.forEach(function(M){return A.registerAction(M)})},g.prototype.handleKeyDown=function(z){var A=this,M=Object.values(this.actions).sort(function(ca,ja){return(ja.keyPriority||
0)-(ca.keyPriority||0)}).filter(function(ca){return ca.keyTest&&ca.keyTest(z,A.getAppState(),A.getElementsIncludingDeleted())});return 0!==M.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(M[0].name))&&(z.preventDefault(),this.updater(M[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},g.prototype.executeAction=function(z){this.updater(z.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},g}(),Tm=function(g){g=
Array.from(g.values());return{x:co(g,function(z){return z.x})/g.length,y:co(g,function(z){return z.y})/g.length}},bo=function(g){var z=g[0];g=g[1];return Math.hypot(z.x-g.x,z.y-g.y)},co=function(g,z){return g.reduce(function(A,M){return A+z(M)},0)},Po,kq=function(){function g(){var z=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(A,M){return z.dehydrateHistoryEntry({appState:{selectedElementIds:A.selectedElementIds,
viewBackgroundColor:A.viewBackgroundColor,editingLinearElement:A.editingLinearElement,editingGroupId:A.editingGroupId,name:A.name},elements:M.reduce(function(ca,ja){if(Fg(ja)&&A.multiElement&&A.multiElement.id===ja.id){if(A.multiElement&&A.multiElement.id===ja.id&&2>ja.points.length)return ca;ca.push(Xe(Xe({},ja),{},{points:ja.lastCommittedPoint!==ja.points[ja.points.length-1]?ja.points.slice(0,-1):ja.points}))}else ca.push(ja);return ca},[])})}}return g.prototype.hydrateHistoryEntry=function(z){var A=
z.elements,M=this;return{appState:JSON.parse(z.appState),elements:A.map(function(ca){var ja,ya=null===(ja=M.elementCache.get(ca.id))||void 0===ja?void 0:ja.get(ca.versionNonce);if(!ya)throw Error("Element not found: ".concat(ca.id,":").concat(ca.versionNonce));return ya})}},g.prototype.dehydrateHistoryEntry=function(z){var A=z.elements,M=this;return{appState:JSON.stringify(z.appState),elements:A.map(function(ca){M.elementCache.has(ca.id)||M.elementCache.set(ca.id,new Map);var ja=M.elementCache.get(ca.id);
return ja.has(ca.versionNonce)||ja.set(ca.versionNonce,Lj(ca)),{id:ca.id,versionNonce:ca.versionNonce}})}},g.prototype.getSnapshotForTest=function(){var z=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(A){return z.hydrateHistoryEntry(A)}),redoStack:this.redoStack.map(function(A){return z.hydrateHistoryEntry(A)})}},g.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},g.prototype.shouldCreateEntry=
function(z){var A,M=this.lastEntry;if(!M||z.elements.length!==M.elements.length)return!0;for(var ca=z.elements.length-1;-1<ca;ca--){var ja=z.elements[ca],ya=M.elements[ca];if(!ja||!ya||ja.id!==ya.id||ja.versionNonce!==ya.versionNonce)return!0}for(A in z.appState){var wa,Da;if(("editingLinearElement"!==A||(null===(wa=z.appState[A])||void 0===wa?void 0:wa.elementId)!==(null===(Da=M.appState[A])||void 0===Da?void 0:Da.elementId))&&"selectedElementIds"!==A&&z.appState[A]!==M.appState[A])return!0}return!1},
g.prototype.pushEntry=function(z,A){z=this.generateEntry(z,A);(A=this.hydrateHistoryEntry(z))&&this.shouldCreateEntry(A)&&(this.stateHistory.push(z),this.lastEntry=A,this.clearRedoStack())},g.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},g.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var z=this.redoStack.pop();return void 0!==z?(this.stateHistory.push(z),this.hydrateHistoryEntry(z)):null},g.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var z=this.stateHistory.pop(),A=this.stateHistory[this.stateHistory.length-1];return void 0!==z?(this.redoStack.push(z),this.hydrateHistoryEntry(A)):null},g.prototype.setCurrentState=function(z,A){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(z,A))},g.prototype.resumeRecording=function(){this.recording=!0},g.prototype.record=function(z,A){this.recording&&(this.pushEntry(z,A),this.recording=!1)},g}(),wm=[{icon:Ea().createElement("svg",{viewBox:"0 0 320 512",className:""},Ea().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:Ea().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ea().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ea().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:Ea().createElement("svg",{viewBox:"0 0 6 6"},Ea().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Mo=(f(4518),{cut:[Wd("CtrlOrCmd+X")],copy:[Wd("CtrlOrCmd+C")],
paste:[Wd("CtrlOrCmd+V")],copyStyles:[Wd("CtrlOrCmd+Alt+C")],pasteStyles:[Wd("CtrlOrCmd+Alt+V")],selectAll:[Wd("CtrlOrCmd+A")],deleteSelectedElements:[Wd("Del")],duplicateSelection:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))],sendBackward:[Wd("CtrlOrCmd+[")],bringForward:[Wd("CtrlOrCmd+]")],sendToBack:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Wd("Shift+Alt+C")],copyAsSvg:[],group:[Wd("CtrlOrCmd+G")],ungroup:[Wd("CtrlOrCmd+Shift+G")],
gridMode:[Wd("CtrlOrCmd+'")],zenMode:[Wd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Wd("Alt+R")]}),hq=function(g){var z,A=g.options,M=g.onCloseRequest,ca=g.top,ja=g.left,ya=g.actionManager,wa=g.appState;g=!(null===(z=document.querySelector(".excalidraw"))||void 0===z||!z.classList.contains("Appearance_dark"));return Ea().createElement("div",{className:mc("excalidraw",{"Appearance_dark Appearance_dark-background-none":g})},Ea().createElement(jb,{onCloseRequest:M,top:ca,left:ja,fitInViewport:!0},
Ea().createElement("ul",{className:"context-menu",onContextMenu:function(Da){return Da.preventDefault()}},A.map(function(Da,Pa){var Ka;if("separator"===Da)return Ea().createElement("hr",{key:Pa,className:"context-menu-option-separator"});var lb,rb=Da.name,sb=Da.contextItemLabel?eb(Da.contextItemLabel):"";return Ea().createElement("li",{key:Pa,"data-testid":rb,onClick:M},Ea().createElement("button",{className:mc("context-menu-option",{dangerous:"deleteSelectedElements"===rb,checkmark:null===(Ka=Da.checked)||
void 0===Ka?void 0:Ka.call(Da,wa)}),onClick:function(){return ya.executeAction(Da)}},Ea().createElement("div",{className:"context-menu-option__label"},sb),Ea().createElement("kbd",{className:"context-menu-option__shortcut"},rb?(lb=Mo[rb])&&0<lb.length?lb[0]:"":"")))}))))},Lo=function(){if(Po)return Po;var g=document.createElement("div");return document.body.appendChild(g),Po=g},Rm=function(){(0,$f.unmountComponentAtNode)(Lo())};const En=function(g){var z=[];g.options.forEach(function(A){A&&z.push(A)});
z.length&&(0,$f.render)(Ea().createElement(hq,{top:g.top,left:g.left,options:z,onCloseRequest:Rm,actionManager:g.actionManager,appState:g.appState}),Lo())};f(1575);const al=function(g){var z=g.children,A=g.gap,M=g.align,ca=g.justifyContent,ja=g.className;g=g.style;return Ea().createElement("div",{className:mc("Stack Stack_horizontal",ja),style:Tc({"--gap":A,alignItems:M,justifyContent:ca},g)},z)},bl=function(g){var z=g.children,A=g.gap,M=g.align,ca=g.justifyContent;g=g.className;return Ea().createElement("div",
{className:mc("Stack Stack_vertical",g),style:{"--gap":A,justifyItems:M,justifyContent:ca}},z)};var Yq=function(g){var z=g.appState,A=g.renderAction,M=g.elementType;g=kk(ge(g.elements),z);z=!!z.editingElement;var ca=Ve(),ja="rtl"===document.documentElement.getAttribute("dir"),ya=Oj(M)||g.some(function(Da){return Oj(Da.type)&&(Pa=Da.backgroundColor,Ka=5===Pa.length&&"0"===Pa.substr(4,1),lb=9===Pa.length&&"00"===Pa.substr(7,2),!(Ka||lb||Pa===Ek.elementBackground[0]));var Pa,Ka,lb}),wa=Oj(M)||g.some(function(Da){return Oj(Da.type)});
return Ea().createElement("div",{className:"panelColumn"},A("changeStrokeColor"),wa&&A("changeBackgroundColor"),ya&&A("changeFillStyle"),(Uf(M)||g.some(function(Da){return Uf(Da.type)}))&&Ea().createElement(Ea().Fragment,null,A("changeStrokeWidth"),A("changeStrokeStyle"),A("changeSloppiness")),(rk(M)||g.some(function(Da){return rk(Da.type)}))&&Ea().createElement(Ea().Fragment,null,A("changeSharpness")),("text"===M||g.some(function(Da){return"text"===Da.type}))&&Ea().createElement(Ea().Fragment,null,
A("changeFontSize"),A("changeFontFamily"),A("changeTextAlign")),("arrow"===M||g.some(function(Da){return"arrow"===Da.type}))&&Ea().createElement(Ea().Fragment,null,A("changeArrowhead")),A("changeOpacity"),Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.layers")),Ea().createElement("div",{className:"buttonList"},A("sendToBack"),A("sendBackward"),A("bringToFront"),A("bringForward"))),1<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.align")),
Ea().createElement("div",{className:"buttonList"},ja?Ea().createElement(Ea().Fragment,null,A("alignRight"),A("alignHorizontallyCentered"),A("alignLeft")):Ea().createElement(Ea().Fragment,null,A("alignLeft"),A("alignHorizontallyCentered"),A("alignRight")),2<g.length&&A("distributeHorizontally"),Ea().createElement("div",{className:"iconRow"},A("alignTop"),A("alignVerticallyCentered"),A("alignBottom"),2<g.length&&A("distributeVertically")))),!ca&&!z&&0<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",
null,eb("labels.actions")),Ea().createElement("div",{className:"buttonList"},A("duplicateSelection"),A("deleteSelectedElements"),A("group"),A("ungroup"))))},Tr=Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(g){var z=g.canvas,A=g.elementType,M=g.setAppState,ca=g.isLibraryOpen;return Ea().createElement(Ea().Fragment,null,wm.map(function(ja,ya){var wa=ja.value,Da=ja.icon,Pa=ja.key;ja=eb("toolBar.".concat(wa));Pa="".concat(kj("string"==typeof Pa?Pa:Pa[0])," ").concat(eb("helpDialog.or")," ").concat(ya+1);return Ea().createElement(gf,{className:"Shape",key:wa,type:"radio",icon:Da,checked:A===wa,name:"editor-current-shape",title:"".concat(kj(ja)," — ").concat(Pa),keyBindingLabel:"".concat(ya+1),
"aria-label":kj(ja),"aria-keyshortcuts":Pa,"data-testid":wa,onChange:function(){M({elementType:wa,multiElement:null,selectedElementIds:{}});ui(z,wa);M({})}})}),Ea().createElement(gf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(kj(eb("toolBar.library"))," — 9"),"aria-label":kj(eb("toolBar.library")),onClick:function(){M({isLibraryOpen:!ca})}}))},Sr=function(g){var z=g.renderAction;g=g.zoom;return Ea().createElement(bl,
{gap:1},Ea().createElement(al,{gap:1,align:"center"},z("zoomIn"),z("zoomOut"),z("resetZoom"),Ea().createElement("div",{style:{marginInlineStart:4}},(100*g.value).toFixed(0),"%")))},Xq=function(g){var z=g.appState,A=g.setAppState;g=g.actionManager;return Ea().createElement("div",{style:{display:"flex"}},g.renderAction("changeViewBackgroundColor"),Ea().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ea().createElement(hk,{value:z.appearance,onChange:function(M){A({appearance:M})}})))};f(3211);
const Zq=function(g){var z=g.isCollaborating,A=g.collaboratorCount;g=g.onClick;return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{className:mc("CollabButton",{"is-collaborating":z}),onClick:g,icon:Kl,type:"button",title:eb("labels.liveCollaboration"),"aria-label":eb("labels.liveCollaboration"),showAriaLabel:Ve()},0<A&&Ea().createElement("div",{className:"CollabButton-collaborators"},A)))};f(3040);f(7428);var hl=Ea().forwardRef(function(g,z){var A=g.children,M=g.padding,ca=g.className;
g=g.style;return Ea().createElement("div",{className:mc("Island",ca),style:yb({"--padding":M},g),ref:z},A)}),Ur=(f(205),function(g){var z=vp();return z?(0,$f.createPortal)(Ea().createElement("div",{className:mc("Modal",g.className),role:"dialog","aria-modal":"true",onKeyDown:function(A){"Escape"===A.key&&(A.nativeEvent.stopImmediatePropagation(),g.onCloseRequest())},"aria-labelledby":g.labelledBy},Ea().createElement("div",{className:"Modal__background",onClick:g.onCloseRequest}),Ea().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(g.maxWidth,"px")}},g.children)),z):null}),vp=function(){var g=(0,jc.useState)(null),z=g[0],A=g[1];return(0,jc.useLayoutEffect)(function(){var M,ca=!(null===(M=document.querySelector(".excalidraw"))||void 0===M||!M.classList.contains("Appearance_dark")),ja=document.createElement("div");return ja.classList.add("excalidraw","excalidraw-modal-container"),ca&&(ja.classList.add("Appearance_dark"),ja.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ja),A(ja),function(){document.body.removeChild(ja)}},[]),z},I=function(g){var z=function(){var ca=(0,jc.useState)(null),ja=ca[1];return[ca[0],(0,jc.useCallback)(function(ya){return ja(ya)},[])]}(),A=z[0];z=z[1];(0,jc.useEffect)(function(){if(A){var ca=M(A);0<ca.length&&!1!==g.autofocus&&(ca[1]||ca[0]).focus();var ja=function(ya){if("Tab"===ya.key){var wa=M(A),Da=document.activeElement,Pa=wa.findIndex(function(Ka){return Ka===Da});0===Pa&&ya.shiftKey?(wa[wa.length-1].focus(),
ya.preventDefault()):Pa!==wa.length-1||ya.shiftKey||(wa[0].focus(),ya.preventDefault())}};return A.addEventListener("keydown",ja),function(){return A.removeEventListener("keydown",ja)}}},[A,g.autofocus]);var M=function(ca){return(ca=ca.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(ca):[]};return Ea().createElement(Ur,{className:mc("Dialog",g.className),labelledBy:"dialog-title",maxWidth:g.small?550:800,onCloseRequest:g.onCloseRequest},Ea().createElement(hl,{ref:z},
Ea().createElement("h2",{id:"dialog-title",className:"Dialog__title"},Ea().createElement("span",{className:"Dialog__titleContent"},g.title),Ea().createElement("button",{className:"Modal__close",onClick:g.onCloseRequest,"aria-label":eb("buttons.close")},Ve()?kh:uj)),Ea().createElement("div",{className:"Dialog__content"},g.children)))},U=function(g){var z=g.message,A=g.onClose,M=(0,jc.useState)(!!z);g=M[0];var ca=M[1];M=Ea().useCallback(function(){ca(!1);A&&A()},[A]);return Ea().createElement(Ea().Fragment,
null,g&&Ea().createElement(I,{small:!0,onCloseRequest:M,title:eb("errorDialog.title")},Ea().createElement("div",null,z.split("\n").map(function(ja){return Ea().createElement(Ea().Fragment,null,ja,Ea().createElement("br",null))}))))},pa=(f(8623),[1,2,3]),Ia=pa.includes(devicePixelRatio)?devicePixelRatio:1,ab="filter"in document.createElement("canvas").getContext("2d"),ub=function(){return Ea().createElement("div",null,Ea().createElement("h3",null,eb("canvasError.cannotShowPreview")),Ea().createElement("p",
null,Ea().createElement("span",null,eb("canvasError.canvasTooBig"))),Ea().createElement("em",null,"(",eb("canvasError.canvasTooBigTip"),")"))},Lb=function(g,z){(0,$f.unmountComponentAtNode)(z);z.innerHTML="";g instanceof HTMLCanvasElement?z.appendChild(g):(0,$f.render)(Ea().createElement(ub,null),z)},cc=function(g){var z=g.elements,A=g.appState,M=g.exportPadding,ca=void 0===M?10:M;M=g.actionManager;var ja=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard,Da=g.onExportToBackend,Pa=kg(z,A);
g=(0,jc.useState)(Ia);var Ka=g[0],lb=g[1];g=(0,jc.useState)(Pa);var rb=g[0],sb=g[1],dc=(0,jc.useRef)(null),Yb=A.exportBackground,zc=A.viewBackgroundColor,ed=A.shouldAddWatermark,id=rb?uf(z,A):z;return(0,jc.useEffect)(function(){sb(Pa)},[Pa]),(0,jc.useEffect)(function(){var vd=dc.current;if(vd)try{var le=vm(id,A,{exportBackground:Yb,viewBackgroundColor:zc,exportPadding:ca,scale:Ka,shouldAddWatermark:ed});Lm(le).then(function(){Lb(le,vd)}).catch(function(ke){console.error(ke);Lb(new rn,vd)})}catch(ke){console.error(ke),
Lb(new rn,vd)}},[A,id,Yb,ca,zc,Ka,ed]),Ea().createElement("div",{className:"ExportDialog"},Ea().createElement("div",{className:"ExportDialog__preview",ref:dc}),ab&&M.renderAction("exportWithDarkMode"),Ea().createElement(bl,{gap:2,align:"center"},Ea().createElement("div",{className:"ExportDialog__actions"},Ea().createElement(al,{gap:2},Ea().createElement(gf,{type:"button",label:"PNG",title:eb("buttons.exportToPng"),"aria-label":eb("buttons.exportToPng"),onClick:function(){return ja(id,Ka)}}),Ea().createElement(gf,
{type:"button",label:"SVG",title:eb("buttons.exportToSvg"),"aria-label":eb("buttons.exportToSvg"),onClick:function(){return ya(id,Ka)}}),Dk&&Ea().createElement(gf,{type:"button",icon:tk,title:eb("buttons.copyPngToClipboard"),"aria-label":eb("buttons.copyPngToClipboard"),onClick:function(){return wa(id,Ka)}}),Da&&Ea().createElement(gf,{type:"button",icon:tl,title:eb("buttons.getShareableLink"),"aria-label":eb("buttons.getShareableLink"),onClick:function(){return Da(id)}})),Ea().createElement("div",
{className:"ExportDialog__name"},M.renderAction("changeProjectName")),Ea().createElement(al,{gap:2},pa.map(function(vd){var le=function(Oe,Je,df,zd){Oe=Yn(Oe,df);Je=Jm(Oe,Je,df).map(function(Zd){return Math.trunc(Zd*zd)});return[Je[2],Je[3]]}(id,ca,ed,vd),ke=le[0];le=le[1];ke="".concat(eb("buttons.scale")," ").concat(vd,"x (").concat(ke,"x").concat(le,")");return Ea().createElement(gf,{key:vd,size:"s",type:"radio",icon:"".concat(vd,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",
checked:vd===Ka,onChange:function(){return lb(vd)}})}))),M.renderAction("changeExportBackground"),Pa&&Ea().createElement("div",null,Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:rb,onChange:function(vd){return sb(vd.currentTarget.checked)}})," ",eb("labels.onlySelected"))),M.renderAction("changeExportEmbedScene"),M.renderAction("changeShouldAddWatermark")))},Bc=function(g){var z=g.elements,A=g.appState,M=g.exportPadding;M=void 0===M?10:M;var ca=g.actionManager,
ja=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard;g=g.onExportToBackend;var Da=(0,jc.useState)(!1),Pa=Da[0],Ka=Da[1],lb=(0,jc.useRef)(null);Da=Ea().useCallback(function(){var rb;Ka(!1);null===(rb=lb.current)||void 0===rb||rb.focus()},[]);return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{onClick:function(){Ka(!0)},icon:th,type:"button","aria-label":eb("buttons.export"),showAriaLabel:Ve(),title:eb("buttons.export"),ref:lb}),Pa&&Ea().createElement(I,{onCloseRequest:Da,
title:eb("buttons.export")},Ea().createElement(cc,{elements:z,appState:A,exportPadding:M,actionManager:ca,onExportToPng:ja,onExportToSvg:ya,onExportToClipboard:wa,onExportToBackend:g,onCloseRequest:Da})))},cd=(f(4193),function(g){var z=g.children,A=g.side;g=g.className;return Ea().createElement("div",{className:mc("FixedSideContainer","FixedSideContainer_side_".concat(A),g)},z)}),re=Ea().memo(function(g){g=g.appearance;return Ea().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ea().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ea().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===g?Ee.MA[6]:Ee.MA[8]}),Ea().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
g?Ee.ix:Ee.Sn}),Ea().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===g?Ee.ix:Ee.Sn})))}),zf=(f(9705),function(g){return(g=function(z){var A=z.appState,M=z.elements,ca=A.elementType;z=A.isResizing;var ja=A.isRotating,ya=A.lastPointerDownWith,wa=null!==A.multiElement;if("arrow"===
ca||"line"===ca)return eb(wa?"hints.linearElementMulti":"hints.linearElement");if("draw"===ca)return eb("hints.freeDraw");if("text"===ca)return eb("hints.text");M=uf(M,A);return z&&"mouse"===ya&&1===M.length?(A=M[0],Fg(A)&&2===A.points.length?eb("hints.lockAngle"):eb("hints.resize")):ja&&"mouse"===ya?eb("hints.rotate"):1===M.length&&Fg(M[0])?A.editingLinearElement?A.editingLinearElement.activePointIndex?eb("hints.lineEditor_pointSelected"):eb("hints.lineEditor_nothingSelected"):eb("hints.lineEditor_info"):
null}({appState:g.appState,elements:g.elements}))?(g=Wd(g),Ea().createElement("div",{className:"HintViewer"},Ea().createElement("span",null,g))):null}),Fd=(f(8465),f(8680),Ea().createElement("svg",{viewBox:"0 0 1792 1792"},Ea().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Qe=function(g){var z=
g.elements,A=g.pendingElements,M=g.onRemoveFromLibrary;g=g.onClick;var ca=(0,jc.useRef)(null);(0,jc.useEffect)(function(){var Pa=z||A;if(Pa){var Ka=Pl(Pa,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1});Pa=0;for(var lb=ca.current.children;Pa<lb.length;Pa++){var rb=lb[Pa];"svg"===rb.tagName&&ca.current.removeChild(rb)}ca.current.appendChild(Ka);var sb=ca.current;return function(){sb.removeChild(Ka)}}},[z,A]);var ja=(0,jc.useState)(!1),ya=ja[0],wa=ja[1];ja=Ve();var Da=(ya||ja)&&
A&&Ea().createElement("div",{className:"library-unit__adder"},Fd);return Ea().createElement("div",{className:mc("library-unit",{"library-unit__active":z||A}),onMouseEnter:function(){return wa(!0)},onMouseLeave:function(){return wa(!1)}},Ea().createElement("div",{className:mc("library-unit__dragger",{"library-unit__pulse":!!A}),ref:ca,draggable:!!z,onClick:z||A?g:void 0,onDragStart:function(Pa){wa(!1);Pa.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(z))}}),Da,z&&(ya||ja)&&Ea().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":eb("labels.removeFromLibrary"),onClick:M},uj))},Af=Ea().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ea().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),mf=Ea().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ea().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Qc=function(g){return Ea().createElement("label",{className:mc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(g.size||"m"),{"zen-mode-visibility--hidden":g.zenModeEnabled}),title:"".concat(g.title," — Q")},Ea().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:g.name,id:g.id,onChange:g.onChange,checked:g.checked,"aria-label":g.title}),Ea().createElement("div",{className:"ToolIcon__icon"},g.checked?Af:mf))},Ec=function(g){var z=g.heading,A=g.children;g=Vh()(g,["heading","children"]);var M=Ea().createElement("h2",{className:"visually-hidden",id:"".concat(z,
"-title")},eb("headings.".concat(z)));return Ea().createElement("section",Pd()({},g,{"aria-labelledby":"".concat(z,"-title")}),"function"==typeof A?A(M):Ea().createElement(Ea().Fragment,null,M,A))},Oc=(f(3142),function(g){var z=g.children,A=g.className;g=g.mobile;return Ea().createElement("div",{className:mc("UserList",A,{UserList_mobile:g})},z)}),xd=function(g){var z=g.appState,A=g.elements,M=g.libraryMenu,ca=g.actionManager,ja=g.exportButton,ya=g.setAppState,wa=g.onCollabButtonClick,Da=g.onLockToggle,
Pa=g.canvas,Ka=g.isCollaborating,lb=g.renderCustomFooter;g=g.viewModeEnabled;return Ea().createElement(Ea().Fragment,null,!g&&Ea().createElement(cd,{side:"top",className:"App-top-bar"},Ea().createElement(Ec,{heading:"shapes"},function(rb){return Ea().createElement(bl,{gap:4,align:"center"},Ea().createElement(al,{gap:1},Ea().createElement(hl,{padding:1},rb,Ea().createElement(al,{gap:1},Ea().createElement(gq,{canvas:Pa,elementType:z.elementType,setAppState:ya,isLibraryOpen:z.isLibraryOpen}))),Ea().createElement(Qc,
{checked:z.elementLocked,onChange:Da,title:eb("toolBar.lock")})),M)}),Ea().createElement(zf,{appState:z,elements:A})),Ea().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ea().createElement(hl,{padding:0},"canvas"===z.openMenu?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"canvasActions"},Ea().createElement("div",{className:"panelColumn"},Ea().createElement(bl,{gap:4},g?Ea().createElement(Ea().Fragment,null,ca.renderAction("saveScene"),
ca.renderAction("saveAsScene"),ja):Ea().createElement(Ea().Fragment,null,ca.renderAction("loadScene"),ca.renderAction("saveScene"),ca.renderAction("saveAsScene"),ja,ca.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:Ka,collaboratorCount:z.collaborators.size,onClick:wa}),Ea().createElement(Xq,{actionManager:ca,appState:z,setAppState:ya})),null==lb?void 0:lb(!0),0<z.collaborators.size&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.collaborators")),
Ea().createElement(Oc,{mobile:!0},Array.from(z.collaborators).filter(function(rb){rb[0];return 0!==Object.keys(rb[1]).length}).map(function(rb){var sb=rb[0];rb[1];return Ea().createElement(Ea().Fragment,{key:sb},ca.renderAction("goToCollaborator",sb))})))))):"shape"===z.openMenu&&!g&&rh(z,A)?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ea().createElement(Yq,{appState:z,elements:A,renderAction:ca.renderAction,elementType:z.elementType})):null,Ea().createElement("footer",
{className:"App-toolbar"},g?Ea().createElement("div",{className:"App-toolbar-content"},ca.renderAction("toggleCanvasMenu")):Ea().createElement("div",{className:"App-toolbar-content"},ca.renderAction("toggleCanvasMenu"),ca.renderAction("toggleEditMenu"),ca.renderAction("undo"),ca.renderAction("redo"),ca.renderAction(z.multiElement?"finalize":"duplicateSelection"),ca.renderAction("deleteSelectedElements")),z.scrolledOutside&&!z.openMenu&&Ea().createElement("button",{className:"scroll-back-to-content",
onClick:function(){ya(function(rb){for(var sb=1;sb<arguments.length;sb++){var dc=null!=arguments[sb]?arguments[sb]:{};sb%2?yd(Object(dc),!0).forEach(function(Yb){pd()(rb,Yb,dc[Yb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rb,Object.getOwnPropertyDescriptors(dc)):yd(Object(dc)).forEach(function(Yb){Object.defineProperty(rb,Yb,Object.getOwnPropertyDescriptor(dc,Yb))})}return rb}({},mi(A,z)))}},eb("buttons.scrollBackToContent"))))))},Bd=(f(8416),function(g){var z=(0,jc.useRef)(null),
A=(0,jc.useState)(null),M=A[0],ca=A[1];return(0,jc.useLayoutEffect)(function(){if(g.spreadsheet){var ja=Wn(g.chartType,g.spreadsheet,0,0);ca(ja);var ya=Pl(ja,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1}),wa=z.current;return wa.appendChild(ya),g.selected&&wa.parentNode.focus(),function(){wa.removeChild(ya)}}},[g.spreadsheet,g.chartType,g.selected]),Ea().createElement("button",{className:"ChartPreview",onClick:function(){M&&g.onClick(g.chartType,M)}},Ea().createElement("div",
{ref:z}))}),Jf=function(g){var z=g.setAppState,A=g.appState,M=g.onClose,ca=g.onInsertChart;g=Ea().useCallback(function(){M&&M()},[M]);var ja=function(ya,wa){ca(wa);Sg("magic","chart",ya);z({currentChartType:ya,pasteDialog:{shown:!1,data:null}})};return Ea().createElement(I,{small:!0,onCloseRequest:g,title:eb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ea().createElement("div",{className:"container"},Ea().createElement(Bd,{chartType:"bar",spreadsheet:A.pasteDialog.data,selected:"bar"===
A.currentChartType,onClick:ja}),Ea().createElement(Bd,{chartType:"line",spreadsheet:A.pasteDialog.data,selected:"line"===A.currentChartType,onClick:ja})))},He=(f(341),function(){return Ea().createElement("div",{className:"HelpDialog--header"},Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.documentation")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",
target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.blog")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.github")))}),Kf=function(g){return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",null,g.title),g.children)},ng=function(g){return Ea().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},g.children)},
Nf=function(g){return Ea().createElement("div",{style:{width:"49%"}},g.children)},tm=function(g){return Ea().createElement("div",{className:"HelpDialog--island"},Ea().createElement("h3",{className:"HelpDialog--island-title"},g.caption),g.children)},tf=function(g){return Ea().createElement("div",{className:"HelpDialog--shortcut"},Ea().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ea().createElement("div",{style:{lineHeight:1.4}},g.label),Ea().createElement("div",
{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},g.shortcuts.map(function(z,A){return Ea().createElement(Ea().Fragment,{key:A},Ea().createElement(au,null,z),g.isOr&&A!==g.shortcuts.length-1&&eb("helpDialog.or"))}))))};tf.defaultProps={isOr:!0};var au=function(g){return Ea().createElement("kbd",Pd()({className:"HelpDialog--key"},g))},bu=function(g){var z=g.onClose;g=Ea().useCallback(function(){z&&z()},[z]);return Ea().createElement(Ea().Fragment,
null,Ea().createElement(I,{onCloseRequest:g,title:eb("helpDialog.title"),className:"HelpDialog"},Ea().createElement(He,null),Ea().createElement(Kf,{title:eb("helpDialog.shortcuts")},Ea().createElement(ng,null,Ea().createElement(Nf,null,Ea().createElement(tm,{caption:eb("helpDialog.shapes")},Ea().createElement(tf,{label:eb("toolBar.selection"),shortcuts:["V","1"]}),Ea().createElement(tf,{label:eb("toolBar.rectangle"),shortcuts:["R","2"]}),Ea().createElement(tf,{label:eb("toolBar.diamond"),shortcuts:["D",
"3"]}),Ea().createElement(tf,{label:eb("toolBar.ellipse"),shortcuts:["E","4"]}),Ea().createElement(tf,{label:eb("toolBar.arrow"),shortcuts:["A","5"]}),Ea().createElement(tf,{label:eb("toolBar.line"),shortcuts:["P","6"]}),Ea().createElement(tf,{label:eb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ea().createElement(tf,{label:eb("toolBar.text"),shortcuts:["T","8"]}),Ea().createElement(tf,{label:eb("helpDialog.textNewLine"),shortcuts:[Wd("Enter"),Wd("Shift+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.textFinish"),
shortcuts:[Wd("Esc"),Wd("CtrlOrCmd+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.curvedArrow"),shortcuts:["A",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("helpDialog.curvedLine"),shortcuts:["L",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("toolBar.lock"),shortcuts:["Q"]}),Ea().createElement(tf,{label:eb("helpDialog.preventBinding"),shortcuts:[Wd("CtrlOrCmd")]})),
Ea().createElement(tm,{caption:eb("helpDialog.view")},Ea().createElement(tf,{label:eb("buttons.zoomIn"),shortcuts:[Wd("CtrlOrCmd++")]}),Ea().createElement(tf,{label:eb("buttons.zoomOut"),shortcuts:[Wd("CtrlOrCmd+-")]}),Ea().createElement(tf,{label:eb("buttons.resetZoom"),shortcuts:[Wd("CtrlOrCmd+0")]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ea().createElement(tf,{label:eb("buttons.fullScreen"),
shortcuts:["F"]}),Ea().createElement(tf,{label:eb("buttons.zenMode"),shortcuts:[Wd("Alt+Z")]}),Ea().createElement(tf,{label:eb("labels.showGrid"),shortcuts:[Wd("CtrlOrCmd+'")]}),Ea().createElement(tf,{label:eb("labels.viewMode"),shortcuts:[Wd("Alt+R")]}))),Ea().createElement(Nf,null,Ea().createElement(tm,{caption:eb("helpDialog.editor")},Ea().createElement(tf,{label:eb("labels.selectAll"),shortcuts:[Wd("CtrlOrCmd+A")]}),Ea().createElement(tf,{label:eb("labels.multiSelect"),shortcuts:[Wd("Shift+".concat(eb("helpDialog.click")))]}),
Ea().createElement(tf,{label:eb("labels.moveCanvas"),shortcuts:[Wd("Space+".concat(eb("helpDialog.drag"))),Wd("Wheel+".concat(eb("helpDialog.drag")))],isOr:!0}),Ea().createElement(tf,{label:eb("labels.cut"),shortcuts:[Wd("CtrlOrCmd+X")]}),Ea().createElement(tf,{label:eb("labels.copy"),shortcuts:[Wd("CtrlOrCmd+C")]}),Ea().createElement(tf,{label:eb("labels.paste"),shortcuts:[Wd("CtrlOrCmd+V")]}),Ea().createElement(tf,{label:eb("labels.copyAsPng"),shortcuts:[Wd("Shift+Alt+C")]}),Ea().createElement(tf,
{label:eb("labels.copyStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+C")]}),Ea().createElement(tf,{label:eb("labels.pasteStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+V")]}),Ea().createElement(tf,{label:eb("labels.delete"),shortcuts:[Wd("Del")]}),Ea().createElement(tf,{label:eb("labels.sendToBack"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ea().createElement(tf,{label:eb("labels.bringToFront"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ea().createElement(tf,{label:eb("labels.sendBackward"),
shortcuts:[Wd("CtrlOrCmd+[")]}),Ea().createElement(tf,{label:eb("labels.bringForward"),shortcuts:[Wd("CtrlOrCmd+]")]}),Ea().createElement(tf,{label:eb("labels.alignTop"),shortcuts:[Wd("CtrlOrCmd+Shift+Up")]}),Ea().createElement(tf,{label:eb("labels.alignBottom"),shortcuts:[Wd("CtrlOrCmd+Shift+Down")]}),Ea().createElement(tf,{label:eb("labels.alignLeft"),shortcuts:[Wd("CtrlOrCmd+Shift+Left")]}),Ea().createElement(tf,{label:eb("labels.alignRight"),shortcuts:[Wd("CtrlOrCmd+Shift+Right")]}),Ea().createElement(tf,
{label:eb("labels.duplicateSelection"),shortcuts:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))]}),Ea().createElement(tf,{label:eb("buttons.undo"),shortcuts:[Wd("CtrlOrCmd+Z")]}),Ea().createElement(tf,{label:eb("buttons.redo"),shortcuts:Jj?[Wd("CtrlOrCmd+Y"),Wd("CtrlOrCmd+Shift+Z")]:[Wd("CtrlOrCmd+Shift+Z")]}),Ea().createElement(tf,{label:eb("labels.group"),shortcuts:[Wd("CtrlOrCmd+G")]}),Ea().createElement(tf,{label:eb("labels.ungroup"),shortcuts:[Wd("CtrlOrCmd+Shift+G")]})))))))},Xr=
function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,
(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},
trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Ss=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},$t=function(g){var z=g.library,A=g.onRemoveFromLibrary,M=g.onAddToLibrary,ca=g.onInsertShape,ja=g.pendingElements,ya=g.setAppState,wa=g.setLibraryItems;g=Ve()?4:6;var Da=Math.max(1,Math.ceil((z.length+(0<ja.length?1:0))/g)),Pa=[],Ka=!1;Pa.push(Ea().createElement("div",{className:"layer-ui__library-header"},
Ea().createElement(gf,{key:"import",type:"button",title:eb("buttons.load"),"aria-label":eb("buttons.load"),icon:om,onClick:function(){pp().then(function(){ya({isLibraryOpen:!1})}).catch(Gk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"export",type:"button",title:eb("buttons.export"),"aria-label":eb("buttons.export"),icon:th,onClick:function(){sm().catch(Gk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"reset",type:"button",title:eb("buttons.resetLibrary"),
"aria-label":eb("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(eb("alerts.resetLibrary"))&&(ph.resetLibrary(),wa([]))}}),Ea().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},eb("labels.libraries"))));for(var lb=0;lb<Da;lb++){for(var rb=g*lb,sb=[],dc=0;dc<g;dc++){var Yb=0<ja.length&&!Ka&&rb+dc>=z.length;Ka=Ka||Yb;sb.push(Ea().createElement(bl,{key:dc},Ea().createElement(Qe,{elements:z[rb+dc],pendingElements:Yb?ja:void 0,onRemoveFromLibrary:A.bind(null,
rb+dc),onClick:Yb?M.bind(null,ja):ca.bind(null,z[rb+dc])})))}Pa.push(Ea().createElement(al,{align:"center",gap:1,key:lb},sb))}return Ea().createElement(bl,{align:"start",gap:1,className:"layer-ui__library-items"},Pa)},Yt=function(g){var z=g.onClickOutside,A=g.onInsertShape,M=g.pendingElements,ca=g.onAddToLibrary;g=g.setAppState;var ja=(0,jc.useRef)(null);!function(sb,dc){(0,jc.useEffect)(function(){var Yb=function(zc){sb.current&&(zc.target instanceof Element&&(sb.current.contains(zc.target)||!document.body.contains(zc.target))||
dc(zc))};return document.addEventListener("pointerdown",Yb,!1),function(){document.removeEventListener("pointerdown",Yb)}},[sb,dc])}(ja,function(sb){sb.target.closest(".ToolIcon_type_button__library")||z(sb)});var ya=(0,jc.useState)([]),wa=ya[0],Da=ya[1],Pa=(0,jc.useState)("preloading");ya=Pa[0];var Ka=Pa[1],lb=(0,jc.useRef)(null);(0,jc.useEffect)(function(){return Promise.race([new Promise(function(sb){lb.current=setTimeout(function(){sb("loading")},100)}),ph.loadLibrary().then(function(sb){Da(sb);
Ka("ready")})]).then(function(sb){"loading"===sb&&Ka("loading")}),function(){clearTimeout(lb.current)}},[]);Pa=(0,jc.useCallback)(function(){var sb=Pc()(function(dc){var Yb,zc;return Xr(this,function(ed){switch(ed.label){case 0:return[4,ph.loadLibrary()];case 1:return Yb=ed.sent(),zc=Yb.filter(function(id,vd){return vd!==dc}),ph.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return sb.apply(this,arguments)}}(),[]);var rb=(0,jc.useCallback)(function(){var sb=Pc()(function(dc){var Yb,zc;return Xr(this,
function(ed){switch(ed.label){case 0:return[4,ph.loadLibrary()];case 1:return Yb=ed.sent(),zc=Ss(Ss([],Yb),[dc]),ca(),ph.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return sb.apply(this,arguments)}}(),[ca]);return"preloading"===ya?null:Ea().createElement(hl,{padding:1,ref:ja,className:"layer-ui__library"},"loading"===ya?Ea().createElement("div",{className:"layer-ui__library-message"},eb("labels.libraryLoadingMessage")):Ea().createElement($t,{library:wa,onRemoveFromLibrary:Pa,onAddToLibrary:rb,
onInsertShape:A,pendingElements:M,setAppState:g,setLibraryItems:Da}))};const Zt=Ea().memo(function(g){var z,A=g.actionManager,M=g.appState,ca=g.setAppState,ja=g.canvas,ya=g.elements,wa=g.onCollabButtonClick,Da=g.onLockToggle,Pa=g.onInsertElements,Ka=g.zenModeEnabled,lb=g.showExitZenModeBtn,rb=g.toggleZenMode,sb=g.isCollaborating,dc=g.onExportToBackend,Yb=g.renderCustomFooter;g=g.viewModeEnabled;var zc=Ve(),ed=function(){var ke=function(Oe){return function(){var Je=Pc()(function(df,zd){return Xr(this,
function(Zd){switch(Zd.label){case 0:return ja?[4,Ac(Oe,df,M,ja,{exportBackground:M.exportBackground,name:M.name,viewBackgroundColor:M.viewBackgroundColor,scale:zd,shouldAddWatermark:M.shouldAddWatermark}).catch(Gk).catch(function(je){console.error(je);ca({errorMessage:je.message})})]:[3,2];case 1:Zd.sent(),Zd.label=2;case 2:return[2]}})});return function(df,zd){return Je.apply(this,arguments)}}()};return Ea().createElement(Bc,{elements:ya,appState:M,actionManager:A,onExportToPng:ke("png"),onExportToSvg:ke("svg"),
onExportToClipboard:ke("clipboard"),onExportToBackend:dc?function(Oe){dc&&dc(Oe,M,ja)}:void 0})},id=(0,jc.useCallback)(function(ke){ca({isLibraryOpen:!1})},[ca]),vd=(0,jc.useCallback)(function(){ca({selectedElementIds:{},selectedGroupIds:{}})},[ca]),le=M.isLibraryOpen?Ea().createElement(Yt,{pendingElements:uf(ya,M),onClickOutside:id,onInsertShape:Pa,onAddToLibrary:vd,setAppState:ca}):null;Pa=Ea().createElement(Ea().Fragment,null,M.isLoading&&Ea().createElement(oc,null),M.errorMessage&&Ea().createElement(U,
{message:M.errorMessage,onClose:function(){return ca({errorMessage:null})}}),M.showHelpDialog&&Ea().createElement(bu,{onClose:function(){return ca({showHelpDialog:!1})}}),M.pasteDialog.shown&&Ea().createElement(Jf,{setAppState:ca,appState:M,onInsertChart:Pa,onClose:function(){return ca({pasteDialog:{shown:!1,data:null}})}}));return zc?Ea().createElement(Ea().Fragment,null,Pa,Ea().createElement(xd,{appState:M,elements:ya,actionManager:A,libraryMenu:le,exportButton:ed(),setAppState:ca,onCollabButtonClick:wa,
onLockToggle:Da,canvas:ja,isCollaborating:sb,renderCustomFooter:Yb,viewModeEnabled:g})):Ea().createElement("div",{className:mc("layer-ui__wrapper",{"disable-pointerEvents":M.draggingElement||M.resizingElement||M.editingElement&&!be(M.editingElement)})},Pa,(z=rh(M,ya),Ea().createElement(cd,{side:"top"},Ea().createElement("div",{className:"App-menu App-menu_top"},Ea().createElement(bl,{gap:4,className:mc({"disable-pointerEvents":Ka})},g?Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",
{"transition-left":Ka})},Ea().createElement(hl,{padding:2,style:{zIndex:1}},Ea().createElement(bl,{gap:4},Ea().createElement(al,{gap:1,justifyContent:"space-between"},A.renderAction("saveScene"),A.renderAction("saveAsScene"),ed())))):Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(hl,{padding:2,style:{zIndex:1}},Ea().createElement(bl,{gap:4},Ea().createElement(al,{gap:1,justifyContent:"space-between"},A.renderAction("loadScene"),
A.renderAction("saveScene"),A.renderAction("saveAsScene"),ed(),A.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:sb,collaboratorCount:M.collaborators.size,onClick:wa})),Ea().createElement(Xq,{actionManager:A,appState:M,setAppState:ca})))),z&&Ea().createElement(Ec,{heading:"selectedShapeActions",className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(hl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(M.height-200,"px")}},Ea().createElement(Yq,
{appState:M,elements:ya,renderAction:A.renderAction,elementType:M.elementType})))),!g&&Ea().createElement(Ec,{heading:"shapes"},function(ke){return Ea().createElement(bl,{gap:4,align:"start"},Ea().createElement(al,{gap:1},Ea().createElement(hl,{padding:1,className:mc({"zen-mode":Ka})},Ea().createElement(zf,{appState:M,elements:ya}),ke,Ea().createElement(al,{gap:1},Ea().createElement(gq,{canvas:ja,elementType:M.elementType,setAppState:ca,isLibraryOpen:M.isLibraryOpen}))),Ea().createElement(Qc,{zenModeEnabled:Ka,
checked:M.elementLocked,onChange:Da,title:eb("toolBar.lock")})),le)}),Ea().createElement(Oc,{className:mc("zen-mode-transition",{"transition-right":Ka})},0<M.collaborators.size&&Array.from(M.collaborators).filter(function(ke){ke[0];return 0!==Object.keys(ke[1]).length}).map(function(ke){var Oe=ke[0];ke=ke[1];return Ea().createElement(Gj,{label:ke.username||"Unknown user",key:Oe},A.renderAction("goToCollaborator",Oe))}))))),Ea().createElement("div",{className:mc("App-menu App-menu_bottom zen-mode-transition",
{"App-menu_bottom--transition-left":Ka})},Ea().createElement(bl,{gap:2},Ea().createElement(Ec,{heading:"canvasActions"},Ea().createElement(hl,{padding:1},Ea().createElement(Sr,{renderAction:A.renderAction,zoom:M.zoom})),Ea().createElement("a",{className:mc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ka}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ea().createElement(Gj,{label:eb("encrypted.tooltip"),position:"above",
long:!0},Vd))))),Ea().createElement("aside",{className:mc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ka})},Ea().createElement(re,{appearance:M.appearance})),Ea().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ea().createElement("div",{className:mc("zen-mode-transition",{"transition-right disable-pointerEvents":Ka})},null==Yb?void 0:Yb(!1),A.renderAction("toggleShortcuts")),Ea().createElement("button",{className:mc("disable-zen-mode",
{"disable-zen-mode--visible":lb}),onClick:rb},eb("buttons.exitZenMode"))),M.scrolledOutside&&Ea().createElement("button",{className:"scroll-back-to-content",onClick:function(){ca(function(ke){for(var Oe=1;Oe<arguments.length;Oe++){var Je=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?lf(Object(Je),!0).forEach(function(df){pd()(ke,df,Je[df])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Je)):lf(Object(Je)).forEach(function(df){Object.defineProperty(ke,df,
Object.getOwnPropertyDescriptor(Je,df))})}return ke}({},mi(ya,M)))}},eb("buttons.scrollBackToContent")))},function(g,z){var A=function(ja){ja.suggestedBindings;ja.startBoundElement;return Vh()(ja,["suggestedBindings","startBoundElement"])},M=A(g.appState),ca=A(z.appState);A=Object.keys(M);return g.renderCustomFooter===z.renderCustomFooter&&g.langCode===z.langCode&&g.elements===z.elements&&A.every(function(ja){return M[ja]===ca[ja]})});var Rs=function(){try{var g=localStorage.getItem("excalidraw");
return g?JSON.stringify(g).length:0}catch(z){return console.error(z),0}},cu=(f(7287),function(g,z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];
Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,
Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),Ts=ti(function(g){var z=Rs();try{var A=localStorage.getItem("excalidraw-state"),M=localStorage.getItem("excalidraw-collab"),ca=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var ja=(A?JSON.stringify(A).length:0)+(M?JSON.stringify(M).length:0)+(ca?JSON.stringify(ca).length:0)+
Rs()}catch(ya){ja=(console.error(ya),0)}g({scene:z,total:ja})},500),eu=function(g){var z=Ve(),A=(0,jc.useState)({scene:0,total:0}),M=A[0],ca=A[1];(0,jc.useEffect)(function(){Ts(function(Pa){ca(Pa)})});(0,jc.useEffect)(function(){return function(){return Ts.cancel()}},[]);A=Bg(g.elements);var ja=kk(g.elements,g.appState),ya=Bg(ja);if(z&&g.appState.openMenu)return null;var wa,Da;z=Lf();return z!==hc.eQ?(Da=z.slice(0,16).replace("T"," "),wa=z.slice(21)):Da=eb("stats.versionNotAvailable"),Ea().createElement("div",
{className:"Stats"},Ea().createElement(hl,{padding:2},Ea().createElement("div",{className:"close",onClick:g.onClose},uj),Ea().createElement("h3",null,eb("stats.title")),Ea().createElement("table",null,Ea().createElement("tbody",null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.scene"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.elements")),Ea().createElement("td",null,g.elements.length)),Ea().createElement("tr",null,Ea().createElement("td",null,
eb("stats.width")),Ea().createElement("td",null,Math.round(A[2])-Math.round(A[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(A[3])-Math.round(A[1]))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.storage"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.scene")),Ea().createElement("td",null,xl(M.scene,1))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.total")),
Ea().createElement("td",null,xl(M.total,1))),1===ja.length&&Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.element"))),1<ja.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.selected"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.elements")),Ea().createElement("td",null,ja.length))),0<ja.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("td",
null,"x"),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].x:ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,"y"),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].y:ya[1]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.width")),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].width:ya[2]-ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(1===ja.length?
ja[0].height:ya[3]-ya[1])))),1===ja.length&&Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.angle")),Ea().createElement("td",null,"".concat(Math.round(180*ja[0].angle/Math.PI),"°"))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.version"))),Ea().createElement("tr",null,Ea().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Pc()(function(){return cu(this,function(Pa){switch(Pa.label){case 0:return Pa.trys.push([0,2,,3]),
[4,Mb(Lf())];case 1:return Pa.sent(),g.setAppState({toastMessage:eb("toast.copyToClipboard")}),[3,3];case 2:return Pa.sent(),[3,3];case 3:return[2]}})}),title:eb("stats.versionCopy")},Da,Ea().createElement("br",null),wa))))))},fu=(f(5849),function(g){var z=g.message,A=g.clearToast,M=(0,jc.useRef)(0),ca=(0,jc.useCallback)(function(){return M.current=window.setTimeout(function(){return A()},hc.Lg)},[A]);return(0,jc.useEffect)(function(){return ca(),function(){return clearTimeout(M.current)}},[ca,z]),
Ea().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==M?void 0:M.current)},onMouseLeave:ca},Ea().createElement("p",{className:"Toast__message"},z))}),Us=ne({name:"viewMode",perform:function(g,z){return Sg("view","mode","view"),{appState:Xf(Xf({},z),{},{viewModeEnabled:!this.checked(z),selectedElementIds:{}}),commitToHistory:!1}},checked:function(g){return g.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(g){return!g[cf]&&g.altKey&&"KeyR"===
g.code}}),gu=function(){var g=function(z,A){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,ja)&&(M[ja]=ca[ja])})(z,A)};return function(z,A){function M(){this.constructor=z}if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");g(z,A);z.prototype=null===A?Object.create(A):(M.prototype=A.prototype,new M)}}(),dp=function(g,
z){function A(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&
ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=z.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};
return ya={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},gh=function(g,z){for(var A=0,M=z.length,ca=g.length;A<M;A++,ca++)g[ca]=z[A];return g},nk=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},go=0,lq=!1,ho=null,Bl=new Map,wp=null,ar=null,zp=null,Wr=function(g){function z(A){var M=this;var ca=M=g.call(this,A)||this;Vt.call(M);var ja,ya,wa,Da=Dh(),Pa=A.width,Ka=void 0===Pa?window.innerWidth:Pa;Pa=A.height;
var lb=void 0===Pa?window.innerHeight:Pa,rb=A.offsetLeft,sb=A.offsetTop;Pa=A.excalidrawRef;var dc=A.viewModeEnabled;dc=void 0!==dc&&dc;var Yb=A.zenModeEnabled;Yb=void 0!==Yb&&Yb;A=A.gridModeEnabled;A=void 0!==A&&A;if(M.state=Wa(Wa(Wa({},Da),{},{isLoading:!0,width:Ka,height:lb},M.getCanvasOffsets({offsetLeft:rb,offsetTop:sb})),{},{viewModeEnabled:dc,zenModeEnabled:Yb,gridSize:A?hc.k:null}),Pa){var zc;Da="current"in Pa&&(null===(zc=Pa.current)||void 0===zc?void 0:zc.readyPromise)||((wa=new Promise(function(ed,
id){ja=ed;ya=id})).resolve=ja,wa.reject=ya,wa);wa={ready:!0,readyPromise:Da,updateScene:M.updateScene,resetScene:M.resetScene,getSceneElementsIncludingDeleted:M.getSceneElementsIncludingDeleted,history:{clear:M.resetHistory},setScrollToCenter:M.setScrollToCenter,getSceneElements:M.getSceneElements,getAppState:function(){return ca.state}};"function"==typeof Pa?Pa(wa):Pa.current=wa;Da.resolve(wa)}return M.scene=new yh,M.actionManager=new um(M.syncActionResult,function(){return ca.state},function(){return ca.scene.getElementsIncludingDeleted()},
M),M.actionManager.registerAll(jg),M.actionManager.registerAction({name:"undo",perform:function(ed,id){return sp(ed,id,function(){return nk.undoOnce()})},keyTest:function(ed){return ed[cf]&&"z"===ed.key.toLowerCase()&&!ed.shiftKey},PanelComponent:function(ed){ed=ed.updateData;return Ea().createElement(gf,{type:"button",icon:lh,"aria-label":eb("buttons.undo"),onClick:ed})},commitToHistory:function(){return!1}}),M.actionManager.registerAction(function(ed){return{name:"redo",perform:function(id,vd){return sp(id,
vd,function(){return ed.redoOnce()})},keyTest:function(id){return id[cf]&&id.shiftKey&&"z"===id.key.toLowerCase()||Jj&&id.ctrlKey&&!id.shiftKey&&"y"===id.key},PanelComponent:function(id){id=id.updateData;return Ea().createElement(gf,{type:"button",icon:Fj,"aria-label":eb("buttons.redo"),onClick:id})},commitToHistory:function(){return!1}}}(nk)),M}return gu(z,g),z.prototype.renderCanvas=function(){var A=window.devicePixelRatio,M=this.state,ca=M.width,ja=M.height,ya=ca*A;A*=ja;return M.viewModeEnabled?
Ea().createElement("canvas",{id:"canvas",style:{width:ca,height:ja,cursor:"grabbing"},width:ya,height:A,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},eb("labels.drawingCanvas")):Ea().createElement("canvas",{id:"canvas",style:{width:ca,height:ja},width:ya,height:A,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},eb("labels.drawingCanvas"))},z.prototype.render=function(){var A,M=this,ca=this.state,ja=ca.zenModeEnabled,ya=ca.width,wa=ca.height;ca=ca.viewModeEnabled;var Da=this.props,Pa=Da.onCollabButtonClick,Ka=Da.onExportToBackend;Da=Da.renderFooter;
var lb=ya/2,rb=wa/2;return Ea().createElement("div",{className:mc("excalidraw",{"excalidraw--view-mode":ca}),ref:this.excalidrawContainerRef,style:{width:ya,height:wa}},Ea().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Pa,onLockToggle:this.toggleLock,onInsertElements:function(sb){return M.addElementsFromPasteOrLibrary(sb,lb,rb)},zenModeEnabled:ja,toggleZenMode:this.toggleZenMode,
langCode:ua.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ka,renderCustomFooter:Da,viewModeEnabled:ca,showExitZenModeBtn:void 0===(null===(A=this.props)||void 0===A?void 0:A.zenModeEnabled)&&ja}),Ea().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ea().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ea().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),Ea().createElement("main",null,this.renderCanvas()))},z.prototype.componentDidMount=function(){var A=this;return Pc()(function(){return dp(this,function(M){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(A.setState.bind(A),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return A.state}},setState:{configurable:!0,value:function(){for(var ca=[],ja=0;ja<arguments.length;ja++)ca[ja]=arguments[ja];return A.setState.apply(A,ca)}},
app:{configurable:!0,value:A}})),A.scene.addCallback(A.onSceneUpdated),A.addEventListeners(),"number"==typeof A.props.offsetLeft&&"number"==typeof A.props.offsetTop?A.initializeScene():A.setState(A.getCanvasOffsets(A.props),function(){A.initializeScene()}),[2]})})()},z.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},z.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},z.prototype.addEventListeners=function(){var A,M;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(A=document.fonts)||void 0===A||null===(M=A.addEventListener)||void 0===M||M.call(A,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},z.prototype.componentDidUpdate=function(A,M){var ca,ja,ya,wa,Da=this;(A.langCode!==this.props.langCode&&
this.updateLanguage(),A.width!==this.props.width||A.height!==this.props.height||"number"==typeof this.props.offsetLeft&&A.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&A.offsetTop!==this.props.offsetTop)&&this.setState(Wa({width:null!==(ya=this.props.width)&&void 0!==ya?ya:window.innerWidth,height:null!==(wa=this.props.height)&&void 0!==wa?wa:window.innerHeight},this.getCanvasOffsets(this.props)));A.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);M.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();A.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});A.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?hc.k:null});null===(ca=document.querySelector(".excalidraw"))||void 0===ca||ca.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Da.actionManager.executeAction(Mf)});A=M.multiElement;M.elementType!==this.state.elementType&&null!=A&&this.state.isBindingEnabled&&og(A)&&jk(A,this.state,this.scene,Dg(dg.getPointAtIndexGlobalCoordinates(A,-1)));var Pa={},Ka={},lb={},rb={},sb={};this.state.collaborators.forEach(function(zc,ed){if(zc.selectedElementIds)for(var id=0,vd=Object.keys(zc.selectedElementIds);id<vd.length;id++){var le=vd[id];le in lb||(lb[le]=[]);lb[le].push(ed)}zc.pointer&&(zc.username&&(rb[ed]=zc.username),
zc.userState&&(sb[ed]=zc.userState),Ka[ed]=mh({sceneX:zc.pointer.x,sceneY:zc.pointer.y},Da.state),Pa[ed]=zc.button)});M=this.scene.getElements();ca=kn(M.filter(function(zc){return!Da.state.editingElement||"text"!==Da.state.editingElement.type||zc.id!==Da.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ka,
remotePointerButton:Pa,remoteSelectedElementIds:lb,remotePointerUsernames:rb,remotePointerUserStates:sb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!wg().matches});A=ca.atLeastOneVisibleElement;(ca=ca.scrollBars)&&(Yr=ca);var dc,Yb;M="text"!==(null===(ja=this.state.editingElement)||void 0===ja?void 0:ja.type)&&!A&&0<M.length;(this.state.scrolledOutside!==M&&this.setState({scrolledOutside:M}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(dc=(Yb=this.props).onChange)||void 0===dc||dc.call(Yb,this.scene.getElementsIncludingDeleted(),this.state)},z.resetTapTwice=function(){wq=!1},z.prototype.addTextFromPaste=function(A){var M,ca=ug({clientX:Jp,clientY:Kp},this.state);A=Kj({x:ca.x,y:ca.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:A,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:hc.hs});this.scene.replaceAllElements(gh(gh([],this.scene.getElementsIncludingDeleted()),[A]));this.setState({selectedElementIds:(M={},M[A.id]=!0,M)});nk.resumeRecording()},z.prototype.selectShapeTool=function(A){var M;ep||
ui(this.canvas,A);(M=document.activeElement)instanceof HTMLElement&&M.className.includes("ToolIcon")&&document.activeElement.blur();hj(A)||this.setState({suggestedBindings:[]});"selection"!==A?this.setState({elementType:A,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:A})},z.prototype.handleTextWysiwyg=function(A,M){M=M.isExistingElement;var ca=void 0!==M&&M,ja=this,ya=function(wa,Da){void 0===Da&&(Da=!1);ja.scene.replaceAllElements(gh([],ja.scene.getElementsIncludingDeleted().map(function(Pa){if(Pa.id===
A.id&&be(Pa)){var Ka=Da;Ka={text:wa,isDeleted:null!=Ka?Ka:Pa.isDeleted};var lb=Wi(wa,Vi(Pa));var rb=lb.width;var sb=lb.height;lb=lb.baseline;var dc=Pa.textAlign;var Yb=Pa.verticalAlign;if("center"===dc&&"middle"===Yb)dc=Wi(Pa.text,Vi(Pa)),Yb=Xh(Pa,{width:rb-dc.width,height:sb-dc.height}),dc=Pa.x-Yb.x,Yb=Pa.y-Yb.y;else{var zc=ig(Pa);Yb=zc[0];var ed=zc[1],id=zc[2];zc=zc[3];var vd=Pg(Pa,rb,sb);dc=(Yb=Zf({s:!0,e:"center"===dc||"left"===dc,w:"center"===dc||"right"===dc},Pa.x,Pa.y,Pa.angle,(Yb-vd[0])/2,
(ed-vd[1])/2,(id-vd[2])/2,(zc-vd[3])/2))[0];Yb=Yb[1]}rb={width:rb,height:sb,x:Number.isFinite(dc)?dc:Pa.x,y:Number.isFinite(Yb)?Yb:Pa.y,baseline:lb};Pa=yg(Pa,Ha(Ka,rb))}return Pa})))};!function(wa){var Da=wa.id,Pa=wa.appState,Ka=wa.onChange,lb=wa.onSubmit,rb=wa.getViewportCoords,sb=wa.element;wa=wa.canvas;var dc=function(){var Je,df=null===(Je=yh.getScene(sb))||void 0===Je?void 0:Je.getElement(Da);if(df&&be(df)){Je=rb(df.x,df.y);var zd=Je[0],Zd=Je[1];Je=df.textAlign;var je=df.angle;Yb.value=df.text;
var $e=df.text.replace(/\r\n?/g,"\n").split("\n"),Eh=df.height/$e.length;$e=(Pa.offsetLeft+Pa.width-zd-8)/Pa.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var $h=Object,Bj=$h.assign,cj=Yb.style,Vl=Vi(df);Eh="".concat(Eh,"px");var un="".concat(df.width,"px"),fm="".concat(df.height,"px");zd="".concat(zd,"px");Zd="".concat(Zd,"px");var vn=df.width;var Wm=Pa.zoom,fo=180*je/Math.PI;je=(vn-2*Pa.offsetLeft)*(Wm.value-1)/2;var Xm=(df.height-
2*Pa.offsetTop)*(Wm.value-1)/2;vn=(vn>$e&&1!==Wm.value&&(je=$e/2*(Wm.value-1)),"translate(".concat(je,"px, ").concat(Xm,"px) scale(").concat(Wm.value,") rotate(").concat(fo,"deg)"));Bj.call($h,cj,{font:Vl,lineHeight:Eh,width:un,height:fm,left:zd,top:Zd,transform:vn,textAlign:Je,color:df.strokeColor,opacity:df.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat($e,"px")})}},Yb=document.createElement("textarea");Yb.dir="auto";Yb.tabIndex=0;Yb.dataset.type="wysiwyg";Yb.wrap="off";Object.assign(Yb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});dc();Ka&&(Yb.oninput=function(){Ka(sl(Yb.value))});Yb.onkeydown=function(Je){"Escape"===Je.key?(Je.preventDefault(),ed()):"Enter"===Je.key&&Je[cf]?(Je.preventDefault(),Je.isComposing||229===Je.keyCode)||ed():"Enter"!==Je.key||Je.altKey||Je.stopPropagation()};var zc=function(Je){Je.preventDefault();
Je.stopPropagation()},ed=function(){lb(sl(Yb.value));ke||(ke=!0,Yb.onblur=null,Yb.oninput=null,Yb.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",dc),window.removeEventListener("wheel",zc,!0),window.removeEventListener("pointerdown",vd),window.removeEventListener("pointerup",id),window.removeEventListener("blur",ed),le(),Yb.remove())},id=function(){window.removeEventListener("pointerup",id);setTimeout(function(){Yb.onblur=ed;Yb.focus()})},vd=function(Je){Je.target instanceof
HTMLElement&&Je.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Cg(Je.target)&&(Yb.onblur=null,window.addEventListener("pointerup",id),window.addEventListener("blur",ed))},le=yh.getScene(sb).addCallback(function(){dc();Yb.focus()}),ke=!1;Yb.onblur=ed;var Oe=null;wa&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){dc()})).observe(wa):window.addEventListener("resize",dc);window.addEventListener("pointerdown",vd);window.addEventListener("wheel",zc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Yb);
Yb.focus();Yb.select()}({id:A.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(wa,Da){wa=mh({sceneX:wa,sceneY:Da},ja.state);return[wa.x-ja.state.offsetLeft,wa.y-ja.state.offsetTop]},onChange:bg(function(wa){ya(wa);!A.isDeleted&&Ai(A)}),onSubmit:bg(function(wa){var Da=!wa.trim();ya(wa,Da);Da?tj(ja.scene.getElements(),[A]):ja.setState(function(Pa){var Ka;return{selectedElementIds:Wa(Wa({},Pa.selectedElementIds),{},(Ka={},Ka[A.id]=!0,Ka))}});Da&&!ca||nk.resumeRecording();ja.setState({draggingElement:null,
editingElement:null});ja.state.elementLocked&&ui(ja.canvas,ja.state.elementType)}),element:A});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});ya(A.text)},z.prototype.getTextElementAtPosition=function(A,M){return(A=this.getElementAtPosition(A,M))&&be(A)&&!A.isDeleted?A:null},z.prototype.getElementAtPosition=function(A,M){var ca=this.getElementsAtPosition(A,M);if(1<ca.length){var ja=ca[ca.length-1];return Lk(ja,this.state,A,M)?ca[ca.length-2]:ja}return 1===ca.length?
ca[0]:null},z.prototype.getElementsAtPosition=function(A,M){var ca,ja,ya=this;return ca=this.scene.getElements(),ja=function(wa){var Da=ya.state,Pa=10/Da.zoom.value,Ka=[A,M];return Da.selectedElementIds[wa.id]?Rl(wa,Ka,Pa):fk(wa,Da,Ka)},ca.filter(function(wa){return!wa.isDeleted&&ja(wa)})},z.prototype.maybeCleanupAfterMissingPointerUp=function(A){null!==ho&&ho(A)},z.prototype.updateGestureOnPointerDown=function(A){Bl.set(A.pointerId,{x:A.clientX,y:A.clientY});2===Bl.size&&(wp=Tm(Bl),zp=this.state.zoom.value,
ar=bo(Array.from(Bl.values())))},z.prototype.initialPointerDownState=function(A){var M=ug(A,this.state),ca=uf(this.scene.getElements(),this.state),ja=Bg(ca),ya=ja[0],wa=ja[1],Da=ja[2];ja=ja[3];return{origin:M,originInGrid:Dg(ri(M.x,M.y,this.state.gridSize)),scrollbars:ki(Yr,A.clientX-this.state.offsetLeft,A.clientY-this.state.offsetTop),lastCoords:Wa({},M),originalElements:this.scene.getElements().reduce(function(Pa,Ka){return Pa.set(Ka.id,Lj(Ka)),Pa},new Map),resize:{handleType:!1,isResizing:!1,
offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Da+ya)/2,y:(ja+wa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(M,ca)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},z.prototype.handleDraggingScrollBar=function(A,M){var ca=this;if(!M.scrollbars.isOverEither||this.state.multiElement)return!1;$r=!0;M.lastCoords.x=
A.clientX;M.lastCoords.y=A.clientY;var ja=bg(function(wa){wa.target instanceof HTMLElement&&ca.handlePointerMoveOverScrollbars(wa,M)}),ya=bg(function(){$r=!1;ui(ca.canvas,ca.state.elementType);ho=null;ca.setState({cursorButton:"up"});ca.savePointer(A.clientX,A.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ja);window.removeEventListener(hc.Ks.POINTER_UP,ya)});return ho=ya,window.addEventListener(hc.Ks.POINTER_MOVE,ja),window.addEventListener(hc.Ks.POINTER_UP,ya),!0},z.prototype.isASelectedElement=
function(A){return null!=A&&this.state.selectedElementIds[A.id]},z.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(A,M){if(2>M.length)return!1;var ca=10/this.state.zoom.value;M=Bg(M);var ja=M[1],ya=M[2],wa=M[3];return A.x>M[0]-ca&&A.x<ya+ca&&A.y>ja-ca&&A.y<wa+ca},z.prototype.onKeyDownFromPointerDownHandler=function(A){var M=this;return bg(function(ca){M.maybeHandleResize(A,ca)||M.maybeDragNewGenericElement(A,ca)})},z.prototype.onKeyUpFromPointerDownHandler=function(A){var M=this;return bg(function(ca){"Alt"===
ca.key&&ca.preventDefault();M.maybeHandleResize(A,ca)||M.maybeDragNewGenericElement(A,ca)})},z.prototype.onPointerMoveFromPointerDownHandler=function(A){var M=this;return bg(function(ca){if(null===A.drag.offset&&(A.drag.offset=Dg(function(id,vd,le){id=Bg(id);return[vd-id[0],le-id[1]]}(uf(M.scene.getElements(),M.state),A.origin.x,A.origin.y))),ca.target instanceof HTMLElement&&!M.handlePointerMoveOverScrollbars(ca,A)){var ja=ug(ca,M.state),ya=ri(ja.x,ja.y,M.state.gridSize),wa=ya[0];ya=ya[1];if(A.drag.hasOccurred||
"arrow"!==M.state.elementType&&"line"!==M.state.elementType||!(Math.hypot(A.origin.x-ja.x,A.origin.y-ja.y)<hc.f)){if(A.resize.isResizing&&(A.lastCoords.x=ja.x,A.lastCoords.y=ja.y,M.maybeHandleResize(A,ca)))return!0;if(M.state.editingLinearElement&&dg.handlePointDragging(M.state,function(id){return M.setState(id)},ja.x,ja.y,function(id,vd){M.maybeSuggestBindingForLinearElementAtCursor(id,vd,ja)}))return A.lastCoords.x=ja.x,void(A.lastCoords.y=ja.y);if(A.hit.allHitElements.some(function(id){return M.isASelectedElement(id)})||
A.hit.hasHitCommonBoundingBoxOfSelectedElements){A.drag.hasOccurred=!0;var Da=uf(M.scene.getElements(),M.state);if(0<Da.length){wa=ri(ja.x-A.drag.offset.x,ja.y-A.drag.offset.y,M.state.gridSize);var Pa=wa[0];wa=wa[1];ya=[Math.abs(ja.x-A.origin.x),Math.abs(ja.y-A.origin.y)];if(function(id,vd,le,ke,Oe,Je,df,zd){void 0===Je&&(Je=!1);void 0===df&&(df=0);void 0===zd&&(zd=0);Oe=Bg(vd);var Zd=le-Oe[0],je=ke-Oe[1];vd.forEach(function($e){if(Je){var Eh=Je&&df<zd;var $h=Je&&df>zd;var Bj=id.originalElements.get($e.id);
Eh=Eh&&Bj?Bj.x:$e.x+Zd;$h=$h&&Bj?Bj.y:$e.y+je}else Eh=$e.x+Zd,$h=$e.y+je;jf($e,{x:Eh,y:$h});Ai($e,{simultaneouslyUpdated:vd})})}(A,Da,Pa,wa,M.scene,ca.shiftKey,ya[0],ya[1]),M.maybeSuggestBindingForAll(Da),ca.altKey&&!A.hit.hasBeenDuplicated){A.hit.hasBeenDuplicated=!0;Da=[];ca=[];var Ka=new Map;ya=new Map;for(var lb=A.hit.element,rb=0,sb=M.scene.getElementsIncludingDeleted();rb<sb.length;rb++){var dc=sb[rb];if(M.state.selectedElementIds[dc.id]||dc.id===(null==lb?void 0:lb.id)&&A.hit.wasAddedToSelection){var Yb=
Yi(M.state.editingGroupId,Ka,dc),zc=ri(A.origin.x-A.drag.offset.x,A.origin.y-A.drag.offset.y,M.state.gridSize);jf(Yb,{x:Yb.x+(zc[0]-Pa),y:Yb.y+(zc[1]-wa)});Da.push(Yb);ca.push(dc);ya.set(dc.id,Yb.id)}else Da.push(dc)}Pa=gh(gh([],Da),ca);Uj(Pa,ca,ya,"duplicatesServeAsOld");M.scene.replaceAllElements(Pa)}return}}if(Da=M.state.draggingElement)if(Fg(Da)?(A.drag.hasOccurred=!0,Ka=Da.points,rb=lb=void 0,"draw"===Da.type?(lb=ja.x-Da.x,rb=ja.y-Da.y):(lb=wa-Da.x,rb=ya-Da.y),ca.shiftKey&&2===Ka.length&&(lb=
(Pa=Ye(M.state.elementType,lb,rb)).width,rb=Pa.height),1===Ka.length?jf(Da,{points:gh(gh([],Ka),[[lb,rb]])}):1<Ka.length&&("draw"===Da.type?jf(Da,{points:E(gh(gh([],Ka),[[lb,rb]]),.7/M.state.zoom.value)}):jf(Da,{points:gh(gh([],Ka.slice(0,-1)),[[lb,rb]])})),og(Da)&&M.maybeSuggestBindingForLinearElementAtCursor(Da,"end",ja,M.state.startBoundElement)):(A.lastCoords.x=ja.x,A.lastCoords.y=ja.y,M.maybeDragNewGenericElement(A,ca)),"selection"===M.state.elementType){Pa=M.scene.getElements();!ca.shiftKey&&
kg(Pa,M.state)&&M.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var ed=function(id,vd){vd=ig(vd);var le=vd[0],ke=vd[1],Oe=vd[2],Je=vd[3];return id.filter(function(df){var zd=si(df),Zd=zd[0],je=zd[1],$e=zd[2];zd=zd[3];return"selection"!==df.type&&le<=Zd&&ke<=je&&Oe>=$e&&Je>=zd})}(Pa,Da);M.setState(function(id){return Wh(Wa(Wa({},id),{},{selectedElementIds:Wa(Wa({},id.selectedElementIds),ed.reduce(function(vd,le){return vd[le.id]=!0,vd},{}))}),M.scene.getElements())})}}}})},
z.prototype.handlePointerMoveOverScrollbars=function(A,M){return M.scrollbars.isOverHorizontal?(A=A.clientX,this.setState({scrollX:this.state.scrollX-(A-M.lastCoords.x)/this.state.zoom.value}),M.lastCoords.x=A,!0):M.scrollbars.isOverVertical?(A=A.clientY,this.setState({scrollY:this.state.scrollY-(A-M.lastCoords.y)/this.state.zoom.value}),M.lastCoords.y=A,!0):!1},z.prototype.onPointerUpFromPointerDownHandler=function(A){var M=this;return bg(function(ca){var ja=M.state,ya=ja.draggingElement,wa=ja.resizingElement,
Da=ja.multiElement,Pa=ja.elementType,Ka=ja.elementLocked,lb=ja.isResizing;ja=ja.isRotating;if(M.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Da||be(M.state.editingElement)?M.state.editingElement:null}),M.savePointer(ca.clientX,ca.clientY,"up"),M.state.editingLinearElement){var rb=dg.handlePointerUp(ca,M.state.editingLinearElement,M.state);rb!==M.state.editingLinearElement&&M.setState({editingLinearElement:rb,suggestedBindings:[]})}if(ho=
null,window.removeEventListener(hc.Ks.POINTER_MOVE,A.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,A.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,A.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,A.eventListeners.onKeyUp),"draw"!==(null==ya?void 0:ya.type))if(Fg(ya))1<ya.points.length&&nk.resumeRecording(),ca=ug(ca,M.state),A.drag.hasOccurred||!ya||Da?A.drag.hasOccurred&&!Da&&(M.state.isBindingEnabled&&og(ya)&&jk(ya,M.state,M.scene,ca),M.setState({suggestedBindings:[],
startBoundElement:null}),Ka||"draw"===Pa?M.setState(function(Yb){var zc;return{draggingElement:null,selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}):(Ii(M.canvas),M.setState(function(Yb){var zc;return{draggingElement:null,elementType:"selection",selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}))):(jf(ya,{points:gh(gh([],ya.points),[[ca.x-ya.x,ca.y-ya.y]])}),M.setState({multiElement:ya,editingElement:M.state.draggingElement}));
else{if("selection"!==Pa&&ya&&Rh(ya))return M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().slice(0,-1)),void M.setState({draggingElement:null});ya&&jf(ya,Ml(ya));wa&&nk.resumeRecording();wa&&Rh(wa)&&M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().filter(function(Yb){return Yb.id!==wa.id}));var sb=A.hit.element;if(sb&&!A.drag.hasOccurred&&!A.hit.wasAddedToSelection)if(ca.shiftKey)if(M.state.selectedElementIds[sb.id])if(null!=zh(M.state,sb)){var dc=sb.groupIds.flatMap(function(Yb){return ck(M.scene.getElements(),
Yb)}).map(function(Yb){var zc;return(zc={})[Yb.id]=!1,zc}).reduce(function(Yb,zc){return Wa(Wa({},Yb),zc)},{});M.setState(function(Yb){return{selectedGroupIds:Wa(Wa({},Yb.selectedElementIds),sb.groupIds.map(function(zc){var ed;return(ed={})[zc]=!1,ed}).reduce(function(zc,ed){return Wa(Wa({},zc),ed)},{})),selectedElementIds:Wa(Wa({},Yb.selectedElementIds),dc)}})}else M.setState(function(Yb){var zc;return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[sb.id]=!1,zc))}});else M.setState(function(Yb){var zc;
return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[sb.id]=!0,zc))}});else M.setState(function(Yb){var zc;return Wa({},Wh(Wa(Wa({},Yb),{},{selectedElementIds:(zc={},zc[sb.id]=!0,zc)}),M.scene.getElements()))});M.state.editingLinearElement||A.drag.hasOccurred||M.state.isResizing||!(sb&&Lk(sb,M.state,A.origin.x,A.origin.y)||!sb&&A.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ka&&"draw"!==Pa&&ya&&M.setState(function(Yb){var zc;return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),
{},(zc={},zc[ya.id]=!0,zc))}}),("selection"!==Pa||kg(M.scene.getElements(),M.state))&&nk.resumeRecording(),(A.drag.hasOccurred||lb||ja)&&(M.state.isBindingEnabled?vg:ih)(uf(M.scene.getElements(),M.state)),Ka||"draw"===Pa?M.setState({draggingElement:null,suggestedBindings:[]}):(Ii(M.canvas),M.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):M.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else M.actionManager.executeAction(Mf)})},z.prototype.maybeSuggestBindingForAll=
function(A){var M;A=(M=new Set(A.map(function(ca){return ca.id})),A.flatMap(function(ca){return og(ca)?Il(ca).filter(function(ja){return!M.has(ja.id)}):yk(ca)?sh(ca).filter(function(ja){return!M.has(ja[0].id)}):[]}));this.setState({suggestedBindings:A})},z.prototype.clearSelection=function(A){this.setState(function(M){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:M.editingGroupId&&null!=A&&A.groupIds.includes(M.editingGroupId)?M.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},z.prototype.getTextWysiwygSnappedToCenterPosition=function(A,M,ca,ja,ya){if(ya=function(wa,Da,Pa){for(var Ka=null,lb=wa.length-1;0<=lb;--lb)if(!wa[lb].isDeleted){var rb=ig(wa[lb]),sb=rb[1],dc=rb[2],Yb=rb[3];if(rb[0]<Da&&Da<dc&&sb<Pa&&Pa<Yb){Ka=wa[lb];break}}return Ka}(this.scene.getElementsIncludingDeleted().filter(function(wa){return!be(wa)}),A,M))if(ja=ya.x+ya.width/2,ya=ya.y+ya.height/2,Math.hypot(A-ja,M-ya)<hc.wZ)return A=mh({sceneX:ja,
sceneY:ya},ca),{viewportX:A.x,viewportY:A.y,elementCenterX:ja,elementCenterY:ya}},z.prototype.getCanvasOffsets=function(A){var M,ca;return"number"==typeof(null==A?void 0:A.offsetLeft)&&"number"==typeof(null==A?void 0:A.offsetTop)?{offsetLeft:A.offsetLeft,offsetTop:A.offsetTop}:null!==(M=this.excalidrawContainerRef)&&void 0!==M&&null!==(ca=M.current)&&void 0!==ca&&ca.parentElement?(ca=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),M=ca.left,ca=ca.top,{offsetLeft:"number"==
typeof(null==A?void 0:A.offsetLeft)?A.offsetLeft:M,offsetTop:"number"==typeof(null==A?void 0:A.offsetTop)?A.offsetTop:ca}):{offsetLeft:"number"==typeof(null==A?void 0:A.offsetLeft)?A.offsetLeft:0,offsetTop:"number"==typeof(null==A?void 0:A.offsetTop)?A.offsetTop:0}},z.prototype.updateLanguage=function(){var A=this;return Pc()(function(){var M;return dp(this,function(ca){switch(ca.label){case 0:return M=fa.find(function(ja){return ja.code===A.props.langCode})||Za,[4,gb(M)];case 1:return ca.sent(),
A.setAppState({}),[2]}})})()},z}(Ea().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var g=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ea().createRef();this.getSceneElementsIncludingDeleted=function(){return g.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return g.scene.getElements()};this.syncActionResult=bg(function(z){if(!g.unmounted&&!1!==z){var A=null;if(z.elements&&(z.elements.forEach(function(Pa){var Ka;
(null===(Ka=g.state.editingElement)||void 0===Ka?void 0:Ka.id)===Pa.id&&g.state.editingElement!==Pa&&!Pa.isDeleted&&(A=Pa)}),g.scene.replaceAllElements(z.elements),z.commitToHistory&&nk.resumeRecording()),z.appState||A){var M,ca,ja;z.commitToHistory&&nk.resumeRecording();var ya=(null==z||null===(M=z.appState)||void 0===M?void 0:M.viewModeEnabled)||!1,wa=(null==z||null===(ca=z.appState)||void 0===ca?void 0:ca.zenModeEnabled)||!1,Da=(null==z||null===(ja=z.appState)||void 0===ja?void 0:ja.gridSize)||
null;void 0!==g.props.viewModeEnabled&&(ya=g.props.viewModeEnabled);void 0!==g.props.zenModeEnabled&&(wa=g.props.zenModeEnabled);void 0!==g.props.gridModeEnabled&&(Da=g.props.gridModeEnabled?hc.k:null);g.setState(function(Pa){var Ka;return Object.assign(z.appState||{},{editingElement:A||(null===(Ka=z.appState)||void 0===Ka?void 0:Ka.editingElement)||null,width:Pa.width,height:Pa.height,offsetTop:Pa.offsetTop,offsetLeft:Pa.offsetLeft,viewModeEnabled:ya,zenModeEnabled:wa,gridSize:Da})},function(){z.syncHistory&&
nk.setCurrentState(g.state,g.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;g.setState({isBindingEnabled:!0})});this.onUnload=function(){g.onBlur()};this.disableEvent=function(z){z.preventDefault()};this.onFontLoaded=function(){g.scene.getElementsIncludingDeleted().forEach(function(z){be(z)&&wi.delete(z)});g.onSceneUpdated()};this.importLibraryFromUrl=function(){var z=Pc()(function(A){var M,ca,ja,ya,wa;return dp(this,function(Da){switch(Da.label){case 0:window.history.replaceState({},
hc.iC,window.location.origin),Da.label=1;case 1:return Da.trys.push([1,7,,8]),[4,fetch(A)];case 2:return[4,Da.sent().blob()];case 3:return M=Da.sent(),ya=(ja=JSON).parse,[4,M.text()];case 4:Da=ca=ya.apply(ja,[Da.sent()]);if("object"!=typeof Da||!Da||"excalidrawlib"!==Da.type||1!==Da.version)throw Error();return window.confirm(eb("alerts.confirmAddLibrary",{numShapes:ca.library.length}))?[4,ph.importLibrary(M)]:[3,6];case 5:Da.sent(),g.setState({isLibraryOpen:!0}),Da.label=6;case 6:return[3,8];case 7:return wa=
Da.sent(),window.alert(eb("alerts.errorLoadingLibrary")),console.error(wa),[3,8];case 8:return[2]}})});return function(A){return z.apply(this,arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=bg(function(z){g.scene.replaceAllElements([]);g.setState(function(A){return Wa(Wa({},Dh()),{},{isLoading:(null==z||!z.resetLoadingState)&&A.isLoading,appearance:g.state.appearance})});g.resetHistory()});this.initializeScene=Pc()(function(){var z,A,M,ca,ja;return dp(this,function(ya){switch(ya.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var wa=Pc()(function(Da){var Pa,Ka;return dp(this,function(lb){switch(lb.label){case 0:return Da.files.length?[4,(Pa=Da.files[0]).getFile()]:[2];case 1:return(Ka=lb.sent()).handle=Pa,Om(Ka,g.state).then(function(rb){return g.syncActionResult({elements:rb.elements,appState:Wa(Wa({},rb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(rb){g.setState({isLoading:!1,errorMessage:rb.message})}),[2]}})});
return function(Da){return wa.apply(this,arguments)}}()),g.state.isLoading||g.setState({isLoading:!0}),A=null,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,g.props.initialData];case 2:return A=ya.sent()||null,[3,4];case 3:return M=ya.sent(),console.error(M),[3,4];case 4:return(ca=mn(A,null)).appState=Wa(Wa({},ca.appState),{},{isLoading:!1}),null!==(z=A)&&void 0!==z&&z.scrollToCenter&&(ca.appState=Wa(Wa({},ca.appState),mi(ca.elements,Wa(Wa({},ca.appState),{},{width:g.state.width,height:g.state.height,
offsetTop:g.state.offsetTop,offsetLeft:g.state.offsetLeft})))),g.resetHistory(),g.syncActionResult(Wa(Wa({},ca),{},{commitToHistory:!0})),(ja=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,g.importLibraryFromUrl(ja)]:[3,6];case 5:ya.sent(),ya.label=6;case 6:return[2]}})});this.onResize=bg(function(){g.scene.getElementsIncludingDeleted().forEach(function(z){return wi.delete(z)});g.setState({})});this.onScroll=ti(function(){var z=g.getCanvasOffsets(),A=z.offsetTop,M=z.offsetLeft;
g.setState(function(ca){return ca.offsetLeft===M&&ca.offsetTop===A?null:{offsetTop:A,offsetLeft:M}})},hc.HM);this.onCut=bg(function(z){Cg(z.target)||(g.cutAll(),z.preventDefault())});this.onCopy=bg(function(z){var A=document.getSelection();null!=A&&A.anchorNode&&!g.excalidrawContainerRef.current.contains(A.anchorNode)||Cg(z.target)||(g.copyAll(),z.preventDefault())});this.cutAll=function(){g.copyAll();g.actionManager.executeAction(Rg)};this.copyAll=function(){Ck(g.scene.getElements(),g.state)};this.onTapStart=
function(z){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,hc.Gj));if(wq&&1===z.touches.length){var A=z.touches[0];g.handleCanvasDoubleClick({clientX:A.clientX,clientY:A.clientY});wq=!1;clearTimeout(Zr)}z.preventDefault();2===z.touches.length&&g.setState({selectedElementIds:{}})};this.onTapEnd=function(z){z.preventDefault();0<z.touches.length&&g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds})};this.pasteFromClipboard=
bg(function(){var z=Pc()(function(A){var M,ca,ja;return dp(this,function(ya){switch(ya.label){case 0:return M=document.activeElement,ca=document.elementFromPoint(Jp,Kp),!A||ca instanceof HTMLCanvasElement&&!Cg(M)?[4,db(A)]:[2];case 1:return(ja=ya.sent()).errorMessage?g.setState({errorMessage:ja.errorMessage}):ja.spreadsheet?g.setState({pasteDialog:{data:ja.spreadsheet,shown:!0}}):ja.elements?g.addElementsFromPasteOrLibrary(ja.elements):ja.text&&g.addTextFromPaste(ja.text),g.selectShapeTool("selection"),
null==A||A.preventDefault(),[2]}})});return function(A){return z.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(z,A,M){void 0===A&&(A=Jp);void 0===M&&(M=Kp);var ca=Bg(z),ja=ca[0],ya=ca[1],wa=Math.abs(ja-ca[2])/2;ca=Math.abs(ya-ca[3])/2;A=ug({clientX:A,clientY:M},g.state);wa=A.x-wa;ca=A.y-ca;var Da=new Map;wa=ri(wa,ca,g.state.gridSize);var Pa=wa[0],Ka=wa[1],lb=new Map;wa=z.map(function(rb){var sb=Yi(g.state.editingGroupId,Da,rb,{x:rb.x+Pa-ja,y:rb.y+Ka-ya});return lb.set(rb.id,
sb.id),sb});ca=gh(gh([],g.scene.getElementsIncludingDeleted()),wa);Uj(ca,z,lb);g.scene.replaceAllElements(ca);nk.resumeRecording();g.setState(Wh(Wa(Wa({},g.state),{},{isLibraryOpen:!1,selectedElementIds:wa.reduce(function(rb,sb){return rb[sb.id]=!0,rb},{}),selectedGroupIds:{}}),g.scene.getElements()))};this.setAppState=function(z){g.setState(z)};this.removePointer=function(z){"touch"===z.pointerType&&go&&(clearTimeout(go),go=0,lq=!1);Bl.delete(z.pointerId)};this.toggleLock=function(){g.setState(function(z){return{elementLocked:!z.elementLocked,
elementType:z.elementLocked?"selection":z.elementType}})};this.toggleZenMode=function(){g.actionManager.executeAction(oe)};this.toggleStats=function(){g.state.showStats||Sg("dialog","stats");g.actionManager.executeAction($n)};this.setScrollToCenter=function(z){g.setState(Wa({},mi(ge(z),g.state,g.canvas)))};this.clearToast=function(){g.setState({toastMessage:null})};this.updateScene=bg(function(z){var A;z.commitToHistory&&nk.resumeRecording();null!==(A=z.appState)&&void 0!==A&&A.viewBackgroundColor&&
g.setState({viewBackgroundColor:z.appState.viewBackgroundColor});z.elements&&g.scene.replaceAllElements(z.elements);z.collaborators&&g.setState({collaborators:z.collaborators})});this.onSceneUpdated=function(){g.setState({})};this.updateCurrentCursorPosition=bg(function(z){Jp=z.x;Kp=z.y});this.onKeyDown=bg(function(z){var A;if(!(("Proxy"in window&&(!z.shiftKey&&/^[A-Z]$/.test(z.key)||z.shiftKey&&/^[a-z]$/.test(z.key))&&(z=new Proxy(z,{get:function(ya,wa){var Da=ya[wa];return"function"==typeof Da?
Da.bind(ya):"key"===wa?z.shiftKey?ya.key.toUpperCase():ya.key.toLowerCase():Da}})),Cg(z.target)&&"Escape"!==z.key||xg(z.key)&&(A=z.target,A instanceof HTMLElement&&"wysiwyg"===A.dataset.type||A instanceof HTMLBRElement||A instanceof HTMLInputElement||A instanceof HTMLTextAreaElement||A instanceof HTMLSelectElement))||("?"===z.key&&g.setState({showHelpDialog:!0}),g.actionManager.handleKeyDown(z)||g.state.viewModeEnabled))){if(z[cf]&&g.setState({isBindingEnabled:!1}),"Digit9"===z.code&&g.setState({isLibraryOpen:!g.state.isLibraryOpen}),
xg(z.key)){A=g.state.gridSize&&(z.shiftKey?hc.$e:g.state.gridSize)||(z.shiftKey?hc.Iw:hc.$e);var M=g.scene.getElements().filter(function(ya){return g.state.selectedElementIds[ya.id]}),ca=0,ja=0;"ArrowLeft"===z.key?ca=-A:"ArrowRight"===z.key?ca=A:"ArrowUp"===z.key?ja=-A:"ArrowDown"===z.key&&(ja=A);M.forEach(function(ya){jf(ya,{x:ya.x+ca,y:ya.y+ja});Ai(ya,{simultaneouslyUpdated:M})});g.maybeSuggestBindingForAll(M);z.preventDefault()}else if("Enter"===z.key)if(A=uf(g.scene.getElements(),g.state),1===
A.length&&Fg(A[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===A[0].id||(nk.resumeRecording(),g.setState({editingLinearElement:new dg(A[0],g.scene)}));else{if(1===A.length&&!Fg(A[0]))return A=A[0],g.startTextEditing({sceneX:A.x+A.width/2,sceneY:A.y+A.height/2}),void z.preventDefault()}else z.ctrlKey||z.altKey||z.metaKey||null!==g.state.draggingElement||((A=function(ya){var wa=wm.find(function(Da,Pa){return ya===(Pa+1).toString()||("string"==typeof Da.key?Da.key===ya:Da.key.includes(ya))});
return(null==wa?void 0:wa.value)||null}(z.key))?g.selectShapeTool(A):"q"===z.key&&g.toggleLock());" "===z.key&&0===Bl.size&&(ep=!0,Ji(g.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(z){if(" "===z.key&&("selection"===g.state.elementType?Ii(g.canvas):(ui(g.canvas,g.state.elementType),g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),z[cf]||g.state.isBindingEnabled||g.setState({isBindingEnabled:!0}),xg(z.key))z=uf(g.scene.getElements(),g.state),g.state.isBindingEnabled?
vg(z):ih(z),g.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(z){z.preventDefault();g.setState({selectedElementIds:{}});zp=g.state.zoom.value});this.onGestureChange=bg(function(z){if(z.preventDefault(),2!==Bl.size){var A=zp;A&&g.setState(function(M){var ca=M.zoom,ja=M.offsetLeft;M=M.offsetTop;return{zoom:ci(Sj(A*z.scale),ca,{left:ja,top:M},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(z){z.preventDefault();g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds});
zp=null});this.startTextEditing=function(z){var A=z.sceneX,M=z.sceneY;z=z.insertAtParentCenter;var ca=void 0===z||z;z=g.getTextElementAtPosition(A,M);ca=ca&&g.getTextWysiwygSnappedToCenterPosition(A,M,g.state,g.canvas,window.devicePixelRatio);A=z||Kj({x:ca?ca.elementCenterX:A,y:ca?ca.elementCenterY:M,strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,
roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness,text:"",fontSize:g.state.currentItemFontSize,fontFamily:g.state.currentItemFontFamily,textAlign:ca?"center":g.state.currentItemTextAlign,verticalAlign:ca?"middle":hc.hs});g.setState({editingElement:A});z?ca&&"center"===A.textAlign||jf(A,{verticalAlign:hc.hs}):(g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[A])),ca||jf(A,{y:A.y-A.baseline/2}));g.setState({editingElement:A});
g.handleTextWysiwyg(A,{isExistingElement:!!z})};this.handleCanvasDoubleClick=function(z){if(!g.state.multiElement&&"selection"===g.state.elementType){var A=uf(g.scene.getElements(),g.state);if(1===A.length&&Fg(A[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===A[0].id||(nk.resumeRecording(),g.setState({editingLinearElement:new dg(A[0],g.scene)}));else{Ii(g.canvas);var M=ug(z,g.state);A=M.x;M=M.y;if(0<Li(g.state).length){var ca=g.getElementAtPosition(A,M),ja=ca&&function(ya,
wa){return ya.groupIds.find(function(Da){return wa[Da]})}(ca,g.state.selectedGroupIds);if(ja)return void g.setState(function(ya){var wa;return Wh(Wa(Wa({},ya),{},{editingGroupId:ja,selectedElementIds:(wa={},wa[ca.id]=!0,wa),selectedGroupIds:{}}),g.scene.getElements())})}Ii(g.canvas);z[cf]||g.startTextEditing({sceneX:A,sceneY:M,insertAtParentCenter:!z.altKey})}}};this.handleCanvasPointerMove=function(z){g.savePointer(z.clientX,z.clientY,g.state.cursorButton);Bl.has(z.pointerId)&&Bl.set(z.pointerId,
{x:z.clientX,y:z.clientY});var A=zp;if(2===Bl.size&&wp&&A&&ar){var M=Tm(Bl),ca=M.x-wp.x,ja=M.y-wp.y;wp=M;var ya=bo(Array.from(Bl.values()))/ar;g.setState(function(dc){var Yb=dc.zoom,zc=dc.offsetLeft,ed=dc.offsetTop;return{scrollX:dc.scrollX+ca/Yb.value,scrollY:dc.scrollY+ja/Yb.value,zoom:ci(Sj(A*ya),Yb,{left:zc,top:ed},M),shouldCacheIgnoreZoom:!0}});g.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var wa=ki(Yr,z.clientX-g.state.offsetLeft,z.clientY-g.state.offsetTop).isOverEither;
g.state.draggingElement||g.state.multiElement||(wa?Ii(g.canvas):ui(g.canvas,g.state.elementType));var Da=ug(z,g.state),Pa=Da.x,Ka=Da.y;if(g.state.editingLinearElement&&!g.state.editingLinearElement.isDragging){var lb=dg.handlePointerMove(z,Pa,Ka,g.state.editingLinearElement,g.state.gridSize);lb!==g.state.editingLinearElement&&g.setState({editingLinearElement:lb});null!=lb.lastUncommittedPoint?g.maybeSuggestBindingAtCursor(Da):g.setState({suggestedBindings:[]})}"arrow"===g.state.elementType&&(lb=g.state.draggingElement,
og(lb)?g.maybeSuggestBindingForLinearElementAtCursor(lb,"end",Da,g.state.startBoundElement):g.maybeSuggestBindingAtCursor(Da));if(g.state.multiElement){wa=g.state.multiElement;Da=wa.x;lb=wa.y;z=wa.points;var rb=wa.lastCommittedPoint,sb=z[z.length-1];return ui(g.canvas,g.state.elementType),void(sb===rb?Math.hypot(sb[0]-(Pa-Da),sb[1]-(Ka-lb))>=hc.qx?jf(wa,{points:gh(gh([],z),[[Pa-Da,Ka-lb]])}):Ji(g.canvas,hc.oc.POINTER):2<z.length&&rb&&Math.hypot(rb[0]-(Pa-Da),rb[1]-(Ka-lb))<hc.qx?(Ji(g.canvas,hc.oc.POINTER),
jf(wa,{points:z.slice(0,-1)})):(ei(z,g.state.zoom.value)&&Ji(g.canvas,hc.oc.POINTER),jf(wa,{points:gh(gh([],z.slice(0,-1)),[[Pa-Da,Ka-lb]])})))}if(!(z.buttons||"selection"!==g.state.elementType&&"text"!==g.state.elementType)){rb=g.scene.getElements();lb=uf(rb,g.state);if(1!==lb.length||wa||g.state.editingLinearElement){if(1<lb.length&&!wa&&(Pa=of(Bg(lb),Pa,Ka,g.state.zoom,z.pointerType)))return void Ji(g.canvas,Ie({transformHandleType:Pa}))}else if((Pa=Oi(rb,g.state,Pa,Ka,g.state.zoom,z.pointerType))&&
Pa.transformHandleType)return void Ji(g.canvas,Ie(Pa));Pa=g.getElementAtPosition(Da.x,Da.y);"text"===g.state.elementType?Ji(g.canvas,be(Pa)?hc.oc.TEXT:hc.oc.CROSSHAIR):wa?Ji(g.canvas,hc.oc.AUTO):Pa||g.isHittingCommonBoundingBoxOfSelectedElements(Da,lb)?Ji(g.canvas,hc.oc.MOVE):Ji(g.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(z){lq=!0};this.handleCanvasPointerDown=function(z){if(z.persist(),g.maybeOpenContextMenuAfterPointerDownOnTouchDevices(z),g.maybeCleanupAfterMissingPointerUp(z),!(xq||
(g.setState({lastPointerDownWith:z.pointerType,cursorButton:"down"}),g.savePointer(z.clientX,z.clientY,"down"),g.handleCanvasPanUsingWheelOrSpaceDrag(z)||z.button!==hc.Oh.MAIN&&z.button!==hc.Oh.TOUCH||(g.updateGestureOnPointerDown(z),z.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Bl.size)))){var A=g.initialPointerDownState(z);if(!g.handleDraggingScrollBar(z,A)&&(g.clearSelectionIfNotUsingSelection(),g.updateBindingEnabledOnPointerMove(z),!g.handleSelectionOnPointerDown(z,
A)))if("text"!==g.state.elementType){"arrow"===g.state.elementType||"draw"===g.state.elementType||"line"===g.state.elementType?g.handleLinearElementOnPointerDown(z,g.state.elementType,A):g.createGenericElementOnPointerDown(g.state.elementType,A);z=g.onPointerMoveFromPointerDownHandler(A);var M=g.onPointerUpFromPointerDownHandler(A),ca=g.onKeyDownFromPointerDownHandler(A),ja=g.onKeyUpFromPointerDownHandler(A);ho=M;g.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,z),window.addEventListener(hc.Ks.POINTER_UP,
M),window.addEventListener(hc.Ks.KEYDOWN,ca),window.addEventListener(hc.Ks.KEYUP,ja),A.eventListeners.onMove=z,A.eventListeners.onUp=M,A.eventListeners.onKeyUp=ja,A.eventListeners.onKeyDown=ca)}else g.handleTextOnPointerDown(z,A)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(z){"touch"===z.pointerType&&(lq=!1,go?lq=!0:go=window.setTimeout(function(){go=0;lq||g.openContextMenu({clientX:z.clientX,clientY:z.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(z){if(0!==
Bl.size||!(z.button===hc.Oh.WHEEL||z.button===hc.Oh.MAIN&&ep||g.state.viewModeEnabled))return!1;xq=!0;var A=!1,M=/Linux/.test(window.navigator.platform);Ji(g.canvas,hc.oc.GRABBING);var ca=z.clientX,ja=z.clientY,ya=bg(function(Da){var Pa=ca-Da.clientX,Ka=ja-Da.clientY;if(ca=Da.clientX,ja=Da.clientY,M&&!A&&(1<Math.abs(Pa)||1<Math.abs(Ka))){A=!0;var lb=function(sb){document.body.removeEventListener(hc.Ks.PASTE,lb);sb.stopPropagation()},rb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,
lb);window.removeEventListener(hc.Ks.POINTER_UP,rb)},100)};document.body.addEventListener(hc.Ks.PASTE,lb);window.addEventListener(hc.Ks.POINTER_UP,rb)}g.setState({scrollX:g.state.scrollX-Pa/g.state.zoom.value,scrollY:g.state.scrollY-Ka/g.state.zoom.value})}),wa=bg(ho=function(){ho=null;xq=!1;ep||ui(g.canvas,g.state.elementType);g.setState({cursorButton:"up"});g.savePointer(z.clientX,z.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ya);window.removeEventListener(hc.Ks.POINTER_UP,wa);window.removeEventListener(hc.Ks.BLUR,
wa)});return window.addEventListener(hc.Ks.BLUR,wa),window.addEventListener(hc.Ks.POINTER_MOVE,ya,{passive:!0}),window.addEventListener(hc.Ks.POINTER_UP,wa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==g.state.elementType&&g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(z,A){if("selection"===g.state.elementType){var M=g.scene.getElements(),ca=uf(M,g.state);1!==ca.length||g.state.editingLinearElement?1<ca.length&&
(A.resize.handleType=of(Bg(ca),A.origin.x,A.origin.y,g.state.zoom,z.pointerType)):(M=Oi(M,g.state,A.origin.x,A.origin.y,g.state.zoom,z.pointerType),null!=M&&(g.setState({resizingElement:M.element}),A.resize.handleType=M.transformHandleType));if(A.resize.handleType)Ji(g.canvas,Ie({transformHandleType:A.resize.handleType})),A.resize.isResizing=!0,A.resize.offset=Dg(function(rb,sb,dc,Yb){var zc,ed=1===sb.length?ig(sb[0]):Bg(sb),id=ed[0],vd=ed[1],le=ed[2];ed=ed[3];sb=1===sb.length?sb[0].angle:0;switch(dc=
(zc=Hf(dc,Yb,(id+le)/2,(vd+ed)/2,-sb))[0],Yb=zc[1],rb){case "n":return Hf(dc-(id+le)/2,Yb-vd,0,0,sb);case "s":return Hf(dc-(id+le)/2,Yb-ed,0,0,sb);case "w":return Hf(dc-id,Yb-(vd+ed)/2,0,0,sb);case "e":return Hf(dc-le,Yb-(vd+ed)/2,0,0,sb);case "nw":return Hf(dc-id,Yb-vd,0,0,sb);case "ne":return Hf(dc-le,Yb-vd,0,0,sb);case "sw":return Hf(dc-id,Yb-ed,0,0,sb);case "se":return Hf(dc-le,Yb-ed,0,0,sb);default:return[0,0]}}(A.resize.handleType,ca,A.origin.x,A.origin.y)),1===ca.length&&Fg(ca[0])&&2===ca[0].points.length&&
(A.resize.arrowDirection=(wa=A.resize.handleType,Da=ca[0],Pa=Da.points[1],Ka=Pa[0],lb=Pa[1],"nw"===wa&&(0>Ka||0>lb)||"ne"===wa&&0<=Ka||"sw"===wa&&0>=Ka||"se"===wa&&(0<Ka||0<lb)?"end":"origin"));else{var ja;if(g.state.editingLinearElement&&(ca=dg.handlePointerDown(z,g.state,function(rb){return g.setState(rb)},nk,A.origin),ca.hitElement&&(A.hit.element=ca.hitElement),ca.didAddPoint))return!0;A.hit.element=null!==(ja=A.hit.element)&&void 0!==ja?ja:g.getElementAtPosition(A.origin.x,A.origin.y);A.hit.allHitElements=
g.getElementsAtPosition(A.origin.x,A.origin.y);var ya=A.hit.element;ja=A.hit.allHitElements.some(function(rb){return g.isASelectedElement(rb)});if(null!==ya&&ja||z.shiftKey||A.hit.hasHitCommonBoundingBoxOfSelectedElements||g.clearSelection(ya),null!=ya){if(z[cf])return g.setState(function(rb){var sb;rb=cb(cb({},rb),{},{editingGroupId:ya.groupIds.length?ya.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(sb={},sb[ya.id]=!0,sb)});return Wa(Wa({},rb),{},{previousSelectedElementIds:g.state.selectedElementIds})}),
!1;g.state.selectedElementIds[ya.id]||(g.state.editingGroupId&&!ya.groupIds.includes(g.state.editingGroupId)&&g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),ja||A.hit.hasHitCommonBoundingBoxOfSelectedElements||(g.setState(function(rb){var sb;return Wh(Wa(Wa({},rb),{},{selectedElementIds:Wa(Wa({},rb.selectedElementIds),{},(sb={},sb[ya.id]=!0,sb))}),g.scene.getElements())}),A.hit.wasAddedToSelection=!0))}g.setState({previousSelectedElementIds:g.state.selectedElementIds})}}var wa,
Da,Pa,Ka,lb;return!1};this.handleTextOnPointerDown=function(z,A){var M;"text"!==(null===(M=g.state.editingElement)||void 0===M?void 0:M.type)&&(g.startTextEditing({sceneX:A.origin.x,sceneY:A.origin.y,insertAtParentCenter:!z.altKey}),Ii(g.canvas),g.state.elementLocked||g.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(z,A,M){if(g.state.multiElement){var ca=g.state.multiElement;if("line"===ca.type&&ei(ca.points,g.state.zoom.value))return jf(ca,{lastCommittedPoint:ca.points[ca.points.length-
1]}),void g.actionManager.executeAction(Mf);A=ca.x;z=ca.y;var ja=ca.lastCommittedPoint;if(1<ca.points.length&&ja&&Math.hypot(ja[0]-(M.origin.x-A),ja[1]-(M.origin.y-z))<hc.qx)return void g.actionManager.executeAction(Mf);g.setState(function(Da){var Pa;return{selectedElementIds:Wa(Wa({},Da.selectedElementIds),{},(Pa={},Pa[ca.id]=!0,Pa))}});jf(ca,{lastCommittedPoint:ca.points[ca.points.length-1]});Ji(g.canvas,hc.oc.POINTER)}else{z=ri(M.origin.x,M.origin.y,"draw"===A?null:g.state.gridSize);var ya=g.state;
ja=ya.currentItemStartArrowhead;ya=ya.currentItemEndArrowhead;ja="arrow"===A?[ja,ya]:[null,null];var wa=Te({type:A,x:z[0],y:z[1],strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemLinearStrokeSharpness,startArrowhead:ja[0],endArrowhead:ja[1]});
g.setState(function(Da){var Pa;return{selectedElementIds:Wa(Wa({},Da.selectedElementIds),{},(Pa={},Pa[wa.id]=!1,Pa))}});jf(wa,{points:gh(gh([],wa.points),[[0,0]])});M=bi(M.origin,g.scene);g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[wa]));g.setState({draggingElement:wa,editingElement:wa,startBoundElement:M,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(z,A){A=ri(A.origin.x,A.origin.y,g.state.gridSize);z=Ol({type:z,x:A[0],y:A[1],strokeColor:g.state.currentItemStrokeColor,
backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness});"selection"===z.type?g.setState({selectionElement:z,draggingElement:z}):(g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[z])),g.setState({multiElement:null,draggingElement:z,
editingElement:z}))};this.updateBindingEnabledOnPointerMove=function(z){z=!z[cf];g.state.isBindingEnabled!==z&&g.setState({isBindingEnabled:z})};this.maybeSuggestBindingAtCursor=function(z){z=bi(z,g.scene);g.setState({suggestedBindings:null!=z?[z]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(z,A,M,ca){A=bi(M,g.scene);g.setState({suggestedBindings:null==A||(null==ca?void 0:ca.id)===A.id&&3>z.points.length?[]:[A]})};this.handleCanvasRef=function(z){var A,M,ca;null!==z?(g.canvas=z,
g.rc=Qh.canvas(g.canvas),g.canvas.addEventListener(hc.Ks.WHEEL,g.handleWheel,{passive:!1}),g.canvas.addEventListener(hc.Ks.TOUCH_START,g.onTapStart),g.canvas.addEventListener(hc.Ks.TOUCH_END,g.onTapEnd)):(null===(A=g.canvas)||void 0===A||A.removeEventListener(hc.Ks.WHEEL,g.handleWheel),null===(M=g.canvas)||void 0===M||M.removeEventListener(hc.Ks.TOUCH_START,g.onTapStart),null===(ca=g.canvas)||void 0===ca||ca.removeEventListener(hc.Ks.TOUCH_END,g.onTapEnd))};this.handleCanvasOnDrop=function(){var z=
Pc()(function(A){var M,ca,ja,ya,wa,Da,Pa,Ka,lb,rb,sb;return dp(this,function(dc){switch(dc.label){case 0:return dc.trys.push([0,3,,4]),"image/png"!==(null==(ca=A.dataTransfer.files[0])?void 0:ca.type)&&"image/svg+xml"!==(null==ca?void 0:ca.type)?[3,2]:[4,Om(ca,g.state)];case 1:return ja=dc.sent(),ya=ja.elements,wa=ja.appState,g.syncActionResult({elements:ya,appState:Wa(Wa({},wa||g.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Da=dc.sent(),[2,g.setState({isLoading:!1,
errorMessage:Da.message})];case 4:if(""!==(Pa=A.dataTransfer.getData(hc.LO.excalidrawlib)))return g.addElementsFromPasteOrLibrary(JSON.parse(Pa),A.clientX,A.clientY),[2];if(!("application/json"===(null==(Ka=null===(M=A.dataTransfer)||void 0===M?void 0:M.files[0])?void 0:Ka.type)||null!=Ka&&Ka.name.endsWith(".excalidraw")))return[3,9];if(g.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];dc.label=5;case 5:return dc.trys.push([5,7,,8]),lb=A.dataTransfer.items[0],
rb=Ka,[4,lb.getAsFileSystemHandle()];case 6:return rb.handle=dc.sent(),[3,8];case 7:return sb=dc.sent(),console.warn(sb.name,sb.message),[3,8];case 8:return Om(Ka,g.state).then(function(Yb){return g.syncActionResult({elements:Yb.elements,appState:Wa(Wa({},Yb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Yb){g.setState({isLoading:!1,errorMessage:Yb.message})}),[3,10];case 9:(null==Ka?void 0:Ka.type)===hc.LO.excalidrawlib||null!=Ka&&Ka.name.endsWith(".excalidrawlib")?ph.importLibrary(Ka).then(function(){g.setState({isLibraryOpen:!1})}).catch(function(Yb){return g.setState({isLoading:!1,
errorMessage:Yb.message})}):g.setState({isLoading:!1,errorMessage:eb("alerts.couldNotLoadInvalidFile")}),dc.label=10;case 10:return[2]}})});return function(A){return z.apply(this,arguments)}}();this.handleCanvasContextMenu=function(z){z.preventDefault();g.openContextMenu(z)};this.maybeDragNewGenericElement=function(z,A){var M=g.state.draggingElement,ca=z.lastCoords;if(M)if("selection"===M.type)li(M,g.state.elementType,z.origin.x,z.origin.y,ca.x,ca.y,Math.abs(z.origin.x-ca.x),Math.abs(z.origin.y-ca.y),
A.shiftKey,A.altKey);else{var ja=ri(ca.x,ca.y,g.state.gridSize);ca=ja[0];ja=ja[1];li(M,g.state.elementType,z.originInGrid.x,z.originInGrid.y,ca,ja,Math.abs(z.originInGrid.x-ca),Math.abs(z.originInGrid.y-ja),A.shiftKey,A.altKey);g.maybeSuggestBindingForAll([M])}};this.maybeHandleResize=function(z,A){var M=uf(g.scene.getElements(),g.state),ca=z.resize.handleType;g.setState({isResizing:ca&&"rotation"!==ca,isRotating:"rotation"===ca});var ja=z.lastCoords;ja=ri(ja.x-z.resize.offset.x,ja.y-z.resize.offset.y,
g.state.gridSize);a:{var ya=z.resize.arrowDirection,wa=A.shiftKey,Da=A.altKey;A=A.shiftKey;var Pa=ja[0],Ka=ja[1];ja=z.resize.center.x;var lb=z.resize.center.y;if(1===M.length){ja=M[0];if("rotation"===ca)ca=ig(ja),ca=5*Math.PI/2+Math.atan2(Ka-(ca[1]+ca[3])/2,Pa-(ca[0]+ca[2])/2),wa&&(ca+=hc.ay/2,ca-=ca%hc.ay),ca=Qf(ca),jf(ja,{angle:ca}),Ai(ja);else if(!Fg(ja)||2!==ja.points.length||"nw"!==ca&&"ne"!==ca&&"sw"!==ca&&"se"!==ca)if(!be(ja)||"nw"!==ca&&"ne"!==ca&&"sw"!==ca&&"se"!==ca){if(ca){ya=z.originalElements.get(ja.id);
var rb=Pg(ya,ya.width,ya.height);wa=[rb[0],rb[1]];z=[rb[2],rb[3]];rb=[(wa[0]+z[0])/2,(wa[1]+z[1])/2];lb=ij([Pa,Ka],rb,-ya.angle);Pa=Pg(ja,ja.width,ja.height);var sb=Pa[2]-Pa[0],dc=Pa[3]-Pa[1];Pa=(z[0]-wa[0])/sb;Ka=(z[1]-wa[1])/dc;ca.includes("e")&&(Pa=(lb[0]-wa[0])/sb);ca.includes("s")&&(Ka=(lb[1]-wa[1])/dc);ca.includes("w")&&(Pa=(z[0]-lb[0])/sb);ca.includes("n")&&(Ka=(z[1]-lb[1])/dc);lb=ya.width;sb=ya.height;Pa*=ja.width;Ka*=ja.height;if(Da&&(Pa=2*Pa-lb,Ka=2*Ka-sb),A){dc=Math.abs(Pa)/lb;var Yb=Math.abs(Ka)/
sb;if(1===ca.length&&(Ka*=dc,Pa*=Yb),2===ca.length)dc=Math.max(dc,Yb),Pa=lb*dc*Math.sign(Pa),Ka=sb*dc*Math.sign(Ka)}Yb=Pg(ya,Pa,Ka);lb=Yb[0];sb=Yb[1];dc=Yb[2]-lb;Yb=Yb[3]-sb;var zc=ej([],wa);if(["n","w","nw"].includes(ca)&&(zc=[z[0]-Math.abs(dc),z[1]-Math.abs(Yb)]),"ne"===ca)zc=[wa[0],z[1]],zc=[zc[0],zc[1]-Math.abs(Yb)];"sw"===ca&&(wa=[z[0],wa[1]],zc=[wa[0]-Math.abs(dc),wa[1]]);A&&(["s","n"].includes(ca)&&(zc[0]=rb[0]-dc/2),["e","w"].includes(ca)&&(zc[1]=rb[1]-Yb/2));0>Pa&&(ca.includes("e")&&(zc[0]-=
Math.abs(dc)),ca.includes("w")&&(zc[0]+=Math.abs(dc)));0>Ka&&(ca.includes("s")&&(zc[1]-=Math.abs(Yb)),ca.includes("n")&&(zc[1]+=Math.abs(Yb)));Da&&(zc[0]=rb[0]-Math.abs(dc)/2,zc[1]=rb[1]-Math.abs(Yb)/2);ca=ya.angle;Da=ij(zc,rb,ca);A=ij([zc[0]+Math.abs(dc)/2,zc[1]+Math.abs(Yb)/2],rb,ca);zc=ij(Da,A,-ca);ca=kf(ya,Pa,Ka);Da=ej([],zc);Da[0]+=ya.x-lb;Da[1]+=ya.y-sb;ca=Hc({width:Math.abs(Pa),height:Math.abs(Ka),x:Da[0],y:Da[1]},ca);0!==ca.width&&0!==ca.height&&Number.isFinite(ca.x)&&Number.isFinite(ca.y)&&
(Ai(ja,{newSize:{width:ca.width,height:ca.height}}),jf(ja,ca))}}else{ya=ig(ja);z=ya[0];wa=ya[1];A=ya[2];ya=ya[3];Ka=Hf(Pa,Ka,(z+A)/2,(wa+ya)/2,-ja.angle);Pa=Ka[0];Ka=Ka[1];switch(ca){case "se":rb=Math.max((Pa-z)/(A-z),(Ka-wa)/(ya-wa));break;case "nw":rb=Math.max((A-Pa)/(A-z),(ya-Ka)/(ya-wa));break;case "ne":rb=Math.max((Pa-z)/(A-z),(ya-Ka)/(ya-wa));break;case "sw":rb=Math.max((A-Pa)/(A-z),(Ka-wa)/(ya-wa))}0<rb&&(Pa=ja.width*rb,rb*=ja.height,Ka=Ng(ja,Pa,rb),null!==Ka&&(lb=Pg(ja,Pa,rb),z=(z-lb[0])/
2,wa=(wa-lb[1])/2,A=(A-lb[2])/2,ya=(ya-lb[3])/2,ca={n:/^(n|ne|nw)$/.test(ca)||Da&&/^(s|se|sw)$/.test(ca),s:/^(s|se|sw)$/.test(ca)||Da&&/^(n|ne|nw)$/.test(ca),w:/^(w|nw|sw)$/.test(ca)||Da&&/^(e|ne|se)$/.test(ca),e:/^(e|ne|se)$/.test(ca)||Da&&/^(w|nw|sw)$/.test(ca)},ca=Zf(ca,ja.x,ja.y,ja.angle,z,wa,A,ya),jf(ja,{fontSize:Ka.size,width:Pa,height:rb,baseline:Ka.baseline,x:ca[0],y:ca[1]})));Ai(ja)}else ca=ig(ja),Da=Hf(Pa,Ka,(ca[0]+ca[2])/2,(ca[1]+ca[3])/2,-ja.angle),ca=Da[0],Da=Da[1],Da="end"===ya?[ca-
ja.x,Da-ja.y]:[ja.x+ja.points[1][0]-ca,ja.y+ja.points[1][1]-Da],ca=Da[0],Da=Da[1],wa&&(A=ja.angle,ca=Ye.apply(void 0,ej([ja.type],Hf(ca,Da,0,0,A))),Da=Hf(ca.width,ca.height,0,0,-A),ca=Da[0],Da=Da[1]),A=Zf("end"===ya?{s:!0,e:!0}:{n:!0,w:!0},ja.x,ja.y,ja.angle,0,0,(ja.points[1][0]-ca)/2,(ja.points[1][1]-Da)/2),jf(ja,{x:A[0],y:A[1],points:[[0,0],[ca,Da]]});ja=!0}else{if(1<M.length){if("rotation"===ca){ja=(rl(z,M,Pa,Ka,wa,ja,lb),!0);break a}if("nw"===ca||"ne"===ca||"sw"===ca||"se"===ca){ja=(Jl(M,ca,Pa,
Ka),!0);break a}}ja=!1}}return!!ja&&(g.maybeSuggestBindingForAll(M),!0)};this.openContextMenu=function(z){var A,M=z.clientX;z=z.clientY;var ca=ug({clientX:M,clientY:z},g.state),ja=ca.x,ya=ca.y,wa=cg.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState()),Da=yi.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState());ca=wg().matches;var Pa=g.scene.getElements();ja=g.getElementAtPosition(ja,ya);ya=[];(Dk&&0<Pa.length&&
ya.push(tp),Wj&&0<Pa.length&&ya.push(up),ja)?(g.state.selectedElementIds[ja.id]||g.setState({selectedElementIds:(A={},A[ja.id]=!0,A)}),g.state.viewModeEnabled?En({options:gh([navigator.clipboard&&pn],ya),top:z,left:M,actionManager:g.actionManager,appState:g.state}):En({options:gh(gh([ca&&iq,ca&&navigator.clipboard&&pn,ca&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},ca&&"separator"],ya),["separator",
qf,hf,"separator",wa&&cg,Da&&yi,(wa||Da)&&"separator",Oo,"separator",Am,ul,w,J,"separator",qa,Rg]),top:z,left:M,actionManager:g.actionManager,appState:g.state})):(A=gh(gh([],ya),[void 0===g.props.gridModeEnabled&&rp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Us,$n]),(En({options:A,top:z,left:M,actionManager:g.actionManager,appState:g.state}),g.state.viewModeEnabled)||En({options:[ca&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},ca&&navigator.clipboard&&"separator",Dk&&0<Pa.length&&tp,Wj&&0<Pa.length&&up,(Dk&&0<Pa.length||Wj&&0<Pa.length)&&"separator",ha,"separator",void 0===g.props.gridModeEnabled&&rp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Us,$n],top:z,left:M,actionManager:g.actionManager,appState:g.state}))};this.handleWheel=bg(function(z){if(z.preventDefault(),!xq){var A=z.deltaX,M=z.deltaY,ca=g.state,ja=ca.selectedElementIds,ya=ca.previousSelectedElementIds;
if(z.metaKey||z.ctrlKey){z=Math.sign(M);ca=Math.abs(M);10<ca&&(ca=10);ca*=z;0!==Object.keys(ya).length&&setTimeout(function(){g.setState({selectedElementIds:ya,previousSelectedElementIds:{}})},1E3);var wa=g.state.zoom.value-ca/100;return wa+=Math.log10(Math.max(1,g.state.zoom.value))*-z,wa=Math.round(wa*hc.V4*100)/(100*hc.V4),g.setState(function(Da){var Pa=Da.zoom,Ka=Da.offsetLeft;Da=Da.offsetTop;return{zoom:ci(Sj(wa),Pa,{left:Ka,top:Da},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(ja).length?ja:ya,shouldCacheIgnoreZoom:!0}}),void g.resetShouldCacheIgnoreZoomDebounced()}z.shiftKey?g.setState(function(Da){return{scrollX:Da.scrollX-(M||A)/Da.zoom.value}}):g.setState(function(Da){var Pa=Da.zoom;return{scrollX:Da.scrollX-A/Pa.value,scrollY:Da.scrollY-M/Pa.value}})}});this.savePointer=function(z,A,M){var ca,ja;z&&A&&(z=ug({clientX:z,clientY:A},g.state),isNaN(z.x)||isNaN(z.y),null===(ca=(ja=g.props).onPointerUpdate)||void 0===ca||ca.call(ja,{pointer:z,button:M,pointersMap:Bl}))};
this.resetShouldCacheIgnoreZoomDebounced=ti(function(){g.unmounted||g.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(g){return this.app.scene.replaceAllElements(g)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:ph}}));f(8234);f(4651);var Qs=
function(g){var z=g.width,A=g.height,M=g.offsetLeft,ca=g.offsetTop,ja=g.onChange,ya=g.initialData,wa=g.excalidrawRef,Da=g.onCollabButtonClick,Pa=g.isCollaborating,Ka=g.onPointerUpdate,lb=g.onExportToBackend,rb=g.renderFooter,sb=g.langCode;sb=void 0===sb?Za.code:sb;var dc=g.viewModeEnabled,Yb=g.zenModeEnabled;g=g.gridModeEnabled;return(0,jc.useEffect)(function(){var zc=function(ed){"number"==typeof ed.scale&&1!==ed.scale&&ed.preventDefault()};return document.addEventListener("touchmove",zc,{passive:!1}),
function(){document.removeEventListener("touchmove",zc)}},[]),Ea().createElement(se,{langCode:sb},Ea().createElement(mg,null,Ea().createElement(Wr,{width:z,height:A,offsetLeft:M,offsetTop:ca,onChange:ja,initialData:ya,excalidrawRef:wa,onCollabButtonClick:Da,isCollaborating:Pa,onPointerUpdate:Ka,onExportToBackend:lb,renderFooter:rb,langCode:sb,viewModeEnabled:dc,zenModeEnabled:Yb,gridModeEnabled:g})))};Qs.defaultProps={lanCode:Za.code};var Wt=(0,jc.forwardRef)(function(g,z){return Ea().createElement(Qs,
kb()({},g,{excalidrawRef:z}))});const Xt=Ea().memo(Wt,function(g,z){g.initialData;var A=sc()(g,["initialData"]),M=(z.initialData,sc()(z,["initialData"]));g=Object.keys(g);z=Object.keys(z);return g.length===z.length&&g.every(function(ca){return A[ca]===M[ca]})});f(6009);const du=Xt},4698:u=>{u.exports=v},6207:u=>{u.exports=l}},a={};return k.m=q,k.n=u=>{var n=u&&u.__esModule?()=>u.default:()=>u;return k.d(n,{a:n}),n},e=Object.getPrototypeOf?u=>Object.getPrototypeOf(u):u=>u.__proto__,k.t=function(u,
n){if((1&n&&(u=this(u)),8&n)||"object"==typeof u&&u&&(4&n&&u.__esModule||16&n&&"function"==typeof u.then))return u;var f=Object.create(null);k.r(f);var r={};b=b||[null,e({}),e([]),e(e)];for(n=2&n&&u;"object"==typeof n&&!~b.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach(y=>r[y]=()=>u[y]);return r.default=()=>u,k.d(f,r),f},k.d=(u,n)=>{for(var f in n)k.o(n,f)&&!k.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:n[f]})},k.f={},k.e=u=>Promise.all(Object.keys(k.f).reduce((n,f)=>(k.f[f](u,n),
n),[])),k.u=u=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",
491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[u]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",
213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",
661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[u]+".js",k.o=(u,n)=>Object.prototype.hasOwnProperty.call(u,n),h={},k.l=(u,n,f,r)=>{if(h[u])h[u].push(n);else{var y;if(void 0!==f){r=document.getElementsByTagName("script");for(var B=0;B<r.length;B++){var E=r[B];if(E.getAttribute("src")==u||E.getAttribute("data-webpack")==
"Excalidraw:"+f){var K=E;break}}}K||(y=!0,(K=document.createElement("script")).charset="utf-8",K.timeout=120,k.nc&&K.setAttribute("nonce",k.nc),K.setAttribute("data-webpack","Excalidraw:"+f),K.src=u);h[u]=[n];n=(C,D)=>{K.onerror=K.onload=null;clearTimeout(G);var x=h[u];if(delete h[u],K.parentNode&&K.parentNode.removeChild(K),x&&x.forEach(R=>R(D)),C)return C(D)};var G=setTimeout(n.bind(null,void 0,{type:"timeout",target:K}),12E4);K.onerror=n.bind(null,K.onerror);K.onload=n.bind(null,K.onload);y&&document.head.appendChild(K)}},
k.r=u=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},k.p="",(()=>{var u={163:0};k.f.j=(r,y)=>{var B=k.o(u,r)?u[r]:void 0;if(0!==B)if(B)y.push(B[2]);else{var E=new Promise((G,C)=>{B=u[r]=[G,C]});y.push(B[2]=E);y=k.p+k.u(r);var K=Error();k.l(y,G=>{if(k.o(u,r)&&(0!==(B=u[r])&&(u[r]=void 0),B)){var C=G&&("load"===G.type?"missing":G.type);G=G&&G.target&&G.target.src;K.message="Loading chunk "+
r+" failed.\n("+C+": "+G+")";K.name="ChunkLoadError";K.type=C;K.request=G;B[1](K)}},"chunk-"+r,r)}};var n=(r,y)=>{for(var B,E,[K,G,C]=y,D=0,x=[];D<K.length;D++)E=K[D],k.o(u,E)&&u[E]&&x.push(u[E][0]),u[E]=0;for(B in G)k.o(G,B)&&(k.m[B]=G[B]);C&&C(k);for(r&&r(y);x.length;)x.shift()()},f=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];f.forEach(n.bind(null,0));f.push=n.bind(null,f.push.bind(f))})(),k(3956)})()})};
'use strict';var Jlc=function(a,b){var c=$APP.Vz();$APP.l(c)&&$APP.Kr($APP.h2a(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.nD.K($APP.F(["Error loading ",a,": ",d]))})},Llc=function(a){var b=$APP.Oo(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Gg(Klc.F(a),b);return a},Mlc=new $APP.K(null,"view-mode-enabled","view-mode-enabled",-588220561),Nlc=new $APP.K("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),Olc=new $APP.K(null,"viewBackgroundColor","viewBackgroundColor",1889137994),Plc=new $APP.K(null,"grid-mode-enabled","grid-mode-enabled",584978327),Qlc=new $APP.K(null,"gridSize","gridSize",843108791),Rlc=new $APP.K("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),Slc=new $APP.K("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),Tlc=new $APP.K("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),Ulc=new $APP.K(null,"zen-mode-enabled","zen-mode-enabled",-955634269),Vlc=new $APP.K("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),Wlc=new $APP.K(null,"appState","appState",-1920687968),Xlc=new $APP.K(null,"initial-data","initial-data",-1315709804),Klc=new $APP.K("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.bda("excalidraw");var Ylc=$APP.Gn(644);var Zlc,$lc,amc,bmc;$APP.pdc={};Zlc=$APP.lT($APP.Ia(Ylc,"default"));$lc=$APP.fj.F(null);
amc=$APP.Go($APP.Mo,function(a,b,c){$APP.Kz($APP.Uz);$APP.Ro($lc);var d=$APP.H.B(a,Klc),e=$APP.H.B(a,Vlc),f=$APP.H.B(a,Nlc),k=$APP.Kz($APP.HQa),m=$APP.H.B(a,Rlc),n=$APP.or.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(p){return $APP.Xr(p)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.IQa,className:"mr-2"},[$APP.oo($APP.Ir("Wide Mode (%s)",$APP.F([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.gj.B(e,$APP.xc)},
className:"mr-2"},[$APP.oo($APP.Ir("Zen Mode (%s)",$APP.F([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.gj.B(f,$APP.xc)},className:"mr-2"},[$APP.oo($APP.Ir("View Mode (%s)",$APP.F([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.T("div",{onMouseDown:function(p){$APP.Xr(p);return $APP.Sz($APP.EY,!0)},onBlur:function(){return $APP.Sz($APP.EY,!1)},className:"draw-wrap"},[$APP.oo(function(){var p=$APP.Eo.K($APP.F([new $APP.h(null,6,[$APP.zT,function(u,v){var y=$APP.lk(u);return $APP.w(y)&&
$APP.gi.B(u,$APP.r(m))?(v=$APP.lk(v),$APP.F4a(n,JSON.stringify($APP.nk(new $APP.h(null,5,[$APP.gl,"excalidraw",$APP.EQ,2,$APP.Hw,$APP.J3a,$APP.k3,u,Wlc,$APP.hi(v,new $APP.N(null,2,5,$APP.O,[Qlc,Olc],null))],null)))),$APP.Gg(m,u)):null},Ulc,$APP.r(e),Mlc,$APP.r(f),Plc,!1,Xlc,b,$APP.Ks,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.Ls,650],null):new $APP.h(null,1,[$APP.Ls,500],null)]));return Zlc.F?Zlc.F(p):Zlc.call(null,p)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.H6,$APP.Po(800,Klc),$APP.Po(!0,
Vlc),$APP.Po(!1,Nlc),$APP.Po(null,Rlc),new $APP.h(null,1,[$APP.zo,Llc],null),new $APP.h(null,1,[$APP.Co,Llc],null)],null),"frontend.extensions.excalidraw/draw-inner");
bmc=$APP.Go($APP.Mo,function(a,b){var c=$APP.H.B(a,Tlc);a=$APP.H.B(a,Slc);a=$APP.Ro(a);c=$APP.Ro(c);var d=$APP.Kz($APP.v2b);return $APP.l($APP.or.F(b))?$APP.l(d)?(b=$APP.DT("Loading"),$APP.T("div",$APP.De(b)?$APP.no($APP.jo($APP.F([new $APP.h(null,1,[$APP.ho,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.De(b)?null:[$APP.oo(b)])):!1===a?amc(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.H6,new $APP.h(null,1,[$APP.xo,function(a){var b=$APP.Jo.F(a);b=$APP.D.G(b,
0,null);b=$APP.or.F(b);var c=$APP.fj.F(null),d=$APP.fj.F(!0);$APP.l(b)&&Jlc(b,function(e){if($APP.Ik(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.nD.K($APP.F(["from json error:"])),console.dir(e),f=$APP.OF($APP.dqa("Could not load this invalid excalidraw file"),$APP.Ou);else throw k;}$APP.Gg(c,f);return $APP.Gg(d,!1)});return $APP.P.K(a,Tlc,c,$APP.F([Slc,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.qdc=$APP.Go($APP.Lo,function(a){var b=$APP.Vz(),c=$APP.Kz(new $APP.N(null,2,5,$APP.O,[$APP.RI,b],null));return $APP.LB(b)&&$APP.xc(c)&&$APP.xc($APP.Hr())?null:bmc(a)},new $APP.N(null,1,5,$APP.O,[$APP.H6],null),"frontend.extensions.excalidraw/draw");$APP.yb.mj();
}).call(this);